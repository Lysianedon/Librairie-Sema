{"ast":null,"code":"export default {\n  name: 'FormVue',\n\n  data() {\n    return {\n      myForm: 'Ceci est un formulaire',\n      imageUrl: '',\n      image: null,\n      title: '',\n      location: '',\n      description: '',\n      date: null\n    };\n  },\n\n  methods: {\n    onCreateMeetup() {\n      if (!this.formIsValid) {\n        return;\n      }\n\n      if (!this.image) {\n        return;\n      }\n\n      const meetupData = {\n        title: this.title,\n        location: this.location,\n        imageUrl: this.imageUrl,\n        description: this.description,\n        date: this.submittableDateTime\n      };\n      this.$store.dispatch('createMeetup', meetupData);\n      this.$router.push('/meetups');\n    },\n\n    onPickFile() {\n      this.$refs.fileInput.click();\n    },\n\n    onFilePicked(e) {\n      const files = e.target.files;\n      const filename = files[0].name;\n      console.log(filename);\n\n      if (filename.lastIndexOf('.') <= 0) {\n        return alert('Please add a valid image !');\n      }\n\n      const fileReader = new FileReader();\n      fileReader.addEventListener('load', () => {\n        this.imageUrl = fileReader.result; // console.log(fileReader.result)\n        // console.log('fileReader', fileReader)\n      });\n      fileReader.readAsDataURL(files[0]);\n      this.image = files[0];\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAmBA;EACAA,eADA;;EAEAC;IACA;MACAC,gCADA;MAEAC,YAFA;MAGAC,WAHA;MAIAC,SAJA;MAKAC,YALA;MAMAC,eANA;MAOAC;IAPA;EASA,CAZA;;EAaAC;IACAC;MACA;QACA;MACA;;MACA;QACA;MACA;;MACA;QACAL,iBADA;QAEAC,uBAFA;QAGAH,uBAHA;QAIAI,6BAJA;QAKAC;MALA;MAOA;MACA;IACA,CAjBA;;IAmBAG;MACA;IACA,CArBA;;IAsBAC;MACA;MACA;MACAC;;MACA;QACA;MACA;;MACA;MACAC;QACA,kCADA,CAEA;QACA;MACA,CAJA;MAKAA;MACA;IACA;;EArCA;AAbA","names":["name","data","myForm","imageUrl","image","title","location","description","date","methods","onCreateMeetup","onPickFile","onFilePicked","console","fileReader"],"sourceRoot":"src/components","sources":["Form.vue"],"sourcesContent":["<template>\n    <div>\n        <h1>FORM</h1>\n\n        <img :src=\"imageUrl\" alt=\"image\" height=\"150\">\n\n        <input\n        type=\"file\"\n        name=\"image\"\n        id=\"image\"\n        style=\"display: none\"\n        ref=\"fileInput\"\n        accept=\"image/*\"\n        @change=\"onFilePicked\">\n        <button @click=\"onPickFile\">Select image</button>\n    </div>\n</template>\n\n<script>\nexport default ({\n  name: 'FormVue',\n  data () {\n    return {\n      myForm: 'Ceci est un formulaire',\n      imageUrl: '',\n      image: null,\n      title: '',\n      location: '',\n      description: '',\n      date: null\n    }\n  },\n  methods: {\n    onCreateMeetup () {\n        if (!this.formIsValid) {\n          return\n        }\n        if(!this.image){\n            return\n        }\n          const meetupData = {\n          title: this.title,\n          location: this.location,\n          imageUrl: this.imageUrl,\n          description: this.description,\n          date: this.submittableDateTime\n        }\n        this.$store.dispatch('createMeetup', meetupData)\n        this.$router.push('/meetups')\n      },\n\n    onPickFile () {\n      this.$refs.fileInput.click()\n    },\n    onFilePicked (e) {\n      const files = e.target.files\n      const filename = files[0].name\n      console.log(filename)\n      if (filename.lastIndexOf('.') <= 0) {\n        return alert('Please add a valid image !')\n      }\n      const fileReader = new FileReader()\n      fileReader.addEventListener('load', () => {\n        this.imageUrl = fileReader.result\n        // console.log(fileReader.result)\n        // console.log('fileReader', fileReader)\n      })\n      fileReader.readAsDataURL(files[0])\n      this.image = files[0]\n    }\n  }\n})\n</script>\n"]},"metadata":{},"sourceType":"module"}