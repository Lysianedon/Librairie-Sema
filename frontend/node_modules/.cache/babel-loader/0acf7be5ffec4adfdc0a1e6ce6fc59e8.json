{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.array.some.js\";\nimport \"core-js/modules/es.symbol.iterator.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/web.timers.js\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport { _ as _defineProperty, d as _toConsumableArray, b as _typeof } from './chunk-455cdeae.js';\nimport { getValueByPath, toCssWidth, isCustomElement, createAbsoluteElement, removeElement } from './helpers.js';\nimport { F as FormElementMixin } from './chunk-17b33cd2.js';\nimport { _ as __vue_normalize__ } from './chunk-cca88db8.js';\nimport { I as Input } from './chunk-83c8b459.js';\nvar script = {\n  name: 'BAutocomplete',\n  components: _defineProperty({}, Input.name, Input),\n  mixins: [FormElementMixin],\n  inheritAttrs: false,\n  props: {\n    value: [Number, String],\n    data: {\n      type: Array,\n      \"default\": function _default() {\n        return [];\n      }\n    },\n    field: {\n      type: String,\n      \"default\": 'value'\n    },\n    keepFirst: Boolean,\n    clearOnSelect: Boolean,\n    openOnFocus: Boolean,\n    customFormatter: Function,\n    checkInfiniteScroll: Boolean,\n    keepOpen: Boolean,\n    selectOnClickOutside: Boolean,\n    clearable: Boolean,\n    maxHeight: [String, Number],\n    dropdownPosition: {\n      type: String,\n      \"default\": 'auto'\n    },\n    groupField: String,\n    groupOptions: String,\n    iconRight: String,\n    iconRightClickable: Boolean,\n    appendToBody: Boolean,\n    type: {\n      type: String,\n      \"default\": 'text'\n    },\n    confirmKeys: {\n      type: Array,\n      \"default\": function _default() {\n        return ['Tab', 'Enter'];\n      }\n    },\n    selectableHeader: Boolean,\n    selectableFooter: Boolean\n  },\n  data: function data() {\n    return {\n      selected: null,\n      hovered: null,\n      headerHovered: null,\n      footerHovered: null,\n      isActive: false,\n      newValue: this.value,\n      newAutocomplete: this.autocomplete || 'off',\n      ariaAutocomplete: this.keepFirst ? 'both' : 'list',\n      isListInViewportVertically: true,\n      hasFocus: false,\n      style: {},\n      _isAutocomplete: true,\n      _elementRef: 'input',\n      _bodyEl: undefined // Used to append to body\n\n    };\n  },\n  computed: {\n    computedData: function computedData() {\n      var _this = this;\n\n      if (this.groupField) {\n        if (this.groupOptions) {\n          var newData = [];\n          this.data.forEach(function (option) {\n            var group = getValueByPath(option, _this.groupField);\n            var items = getValueByPath(option, _this.groupOptions);\n            newData.push({\n              group: group,\n              items: items\n            });\n          });\n          return newData;\n        } else {\n          var tmp = {};\n          this.data.forEach(function (option) {\n            var group = getValueByPath(option, _this.groupField);\n            if (!tmp[group]) tmp[group] = [];\n            tmp[group].push(option);\n          });\n          var _newData = [];\n          Object.keys(tmp).forEach(function (group) {\n            _newData.push({\n              group: group,\n              items: tmp[group]\n            });\n          });\n          return _newData;\n        }\n      }\n\n      return [{\n        items: this.data\n      }];\n    },\n    isEmpty: function isEmpty() {\n      if (!this.computedData) return true;\n      return !this.computedData.some(function (element) {\n        return element.items && element.items.length;\n      });\n    },\n\n    /**\r\n     * White-listed items to not close when clicked.\r\n     * Add input, dropdown and all children.\r\n     */\n    whiteList: function whiteList() {\n      var whiteList = [];\n      whiteList.push(this.$refs.input.$el.querySelector('input'));\n      whiteList.push(this.$refs.dropdown); // Add all children from dropdown\n\n      if (this.$refs.dropdown !== undefined) {\n        var children = this.$refs.dropdown.querySelectorAll('*');\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var child = _step.value;\n            whiteList.push(child);\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n              _iterator[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      }\n\n      if (this.$parent.$data._isTaginput) {\n        // Add taginput container\n        whiteList.push(this.$parent.$el); // Add .tag and .delete\n\n        var tagInputChildren = this.$parent.$el.querySelectorAll('*');\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = tagInputChildren[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var tagInputChild = _step2.value;\n            whiteList.push(tagInputChild);\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n              _iterator2[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n      }\n\n      return whiteList;\n    },\n\n    /**\r\n     * Check if exists default slot\r\n     */\n    hasDefaultSlot: function hasDefaultSlot() {\n      return !!this.$scopedSlots[\"default\"];\n    },\n\n    /**\r\n     * Check if exists group slot\r\n     */\n    hasGroupSlot: function hasGroupSlot() {\n      return !!this.$scopedSlots.group;\n    },\n\n    /**\r\n     * Check if exists \"empty\" slot\r\n     */\n    hasEmptySlot: function hasEmptySlot() {\n      return !!this.$slots.empty;\n    },\n\n    /**\r\n     * Check if exists \"header\" slot\r\n     */\n    hasHeaderSlot: function hasHeaderSlot() {\n      return !!this.$slots.header;\n    },\n\n    /**\r\n     * Check if exists \"footer\" slot\r\n     */\n    hasFooterSlot: function hasFooterSlot() {\n      return !!this.$slots.footer;\n    },\n\n    /**\r\n     * Apply dropdownPosition property\r\n     */\n    isOpenedTop: function isOpenedTop() {\n      return this.dropdownPosition === 'top' || this.dropdownPosition === 'auto' && !this.isListInViewportVertically;\n    },\n    newIconRight: function newIconRight() {\n      if (this.clearable && this.newValue) {\n        return 'close-circle';\n      }\n\n      return this.iconRight;\n    },\n    newIconRightClickable: function newIconRightClickable() {\n      if (this.clearable) {\n        return true;\n      }\n\n      return this.iconRightClickable;\n    },\n    contentStyle: function contentStyle() {\n      return {\n        maxHeight: toCssWidth(this.maxHeight)\n      };\n    }\n  },\n  watch: {\n    /**\r\n     * When dropdown is toggled, check the visibility to know when\r\n     * to open upwards.\r\n     */\n    isActive: function isActive(active) {\n      var _this2 = this;\n\n      if (this.dropdownPosition === 'auto') {\n        if (active) {\n          this.calcDropdownInViewportVertical();\n        } else {\n          // Timeout to wait for the animation to finish before recalculating\n          setTimeout(function () {\n            _this2.calcDropdownInViewportVertical();\n          }, 100);\n        }\n      }\n    },\n\n    /**\r\n     * When updating input's value\r\n     *   1. Emit changes\r\n     *   2. If value isn't the same as selected, set null\r\n     *   3. Close dropdown if value is clear or else open it\r\n     */\n    newValue: function newValue(value) {\n      this.$emit('input', value); // Check if selected is invalid\n\n      var currentValue = this.getValue(this.selected);\n\n      if (currentValue && currentValue !== value) {\n        this.setSelected(null, false);\n      } // Close dropdown if input is clear or else open it\n\n\n      if (this.hasFocus && (!this.openOnFocus || value)) {\n        this.isActive = !!value;\n      }\n    },\n\n    /**\r\n     * When v-model is changed:\r\n     *   1. Update internal value.\r\n     *   2. If it's invalid, validate again.\r\n     */\n    value: function value(_value) {\n      this.newValue = _value;\n    },\n\n    /**\r\n     * Select first option if \"keep-first\r\n     */\n    data: function data() {\n      var _this3 = this; // Keep first option always pre-selected\n\n\n      if (this.keepFirst) {\n        this.$nextTick(function () {\n          if (_this3.isActive) {\n            _this3.selectFirstOption(_this3.computedData);\n          } else {\n            _this3.setHovered(null);\n          }\n        });\n      } else {\n        if (this.hovered) {\n          // reset hovered if list doesn't contain it\n          var hoveredValue = this.getValue(this.hovered);\n          var data = this.computedData.map(function (d) {\n            return d.items;\n          }).reduce(function (a, b) {\n            return [].concat(_toConsumableArray(a), _toConsumableArray(b));\n          }, []);\n\n          if (!data.some(function (d) {\n            return _this3.getValue(d) === hoveredValue;\n          })) {\n            this.setHovered(null);\n          }\n        }\n      }\n    }\n  },\n  methods: {\n    /**\r\n     * Set which option is currently hovered.\r\n     */\n    setHovered: function setHovered(option) {\n      if (option === undefined) return;\n      this.hovered = option;\n    },\n\n    /**\r\n     * Set which option is currently selected, update v-model,\r\n     * update input value and close dropdown.\r\n     */\n    setSelected: function setSelected(option) {\n      var _this4 = this;\n\n      var closeDropdown = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var event = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n      if (option === undefined) return;\n      this.selected = option;\n      this.$emit('select', this.selected, event);\n\n      if (this.selected !== null) {\n        if (this.clearOnSelect) {\n          var input = this.$refs.input;\n          input.newValue = '';\n          input.$refs.input.value = '';\n        } else {\n          this.newValue = this.getValue(this.selected);\n        }\n\n        this.setHovered(null);\n      }\n\n      closeDropdown && this.$nextTick(function () {\n        _this4.isActive = false;\n      });\n      this.checkValidity();\n    },\n\n    /**\r\n     * Select first option\r\n     */\n    selectFirstOption: function selectFirstOption(computedData) {\n      var _this5 = this;\n\n      this.$nextTick(function () {\n        var nonEmptyElements = computedData.filter(function (element) {\n          return element.items && element.items.length;\n        });\n\n        if (nonEmptyElements.length) {\n          var option = nonEmptyElements[0].items[0];\n\n          _this5.setHovered(option);\n        } else {\n          _this5.setHovered(null);\n        }\n      });\n    },\n    keydown: function keydown(event) {\n      var key = event.key; // cannot destructure preventDefault (https://stackoverflow.com/a/49616808/2774496)\n      // prevent emit submit event\n\n      if (key === 'Enter') event.preventDefault(); // Close dropdown on Tab & no hovered\n\n      if (key === 'Escape' || key === 'Tab') {\n        this.isActive = false;\n      }\n\n      if (this.confirmKeys.indexOf(key) >= 0) {\n        // If adding by comma, don't add the comma to the input\n        if (key === ',') event.preventDefault(); // Close dropdown on select by Tab\n\n        var closeDropdown = !this.keepOpen || key === 'Tab';\n\n        if (this.hovered === null) {\n          // header and footer uses headerHovered && footerHovered. If header or footer\n          // was selected then fire event otherwise just return so a value isn't selected\n          this.checkIfHeaderOrFooterSelected(event, null, closeDropdown);\n          return;\n        }\n\n        this.setSelected(this.hovered, closeDropdown, event);\n      }\n    },\n    selectHeaderOrFoterByClick: function selectHeaderOrFoterByClick(event, origin) {\n      this.checkIfHeaderOrFooterSelected(event, {\n        origin: origin\n      });\n    },\n\n    /**\r\n     * Check if header or footer was selected.\r\n     */\n    checkIfHeaderOrFooterSelected: function checkIfHeaderOrFooterSelected(event, triggerClick) {\n      var closeDropdown = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n      if (this.selectableHeader && (this.headerHovered || triggerClick && triggerClick.origin === 'header')) {\n        this.$emit('select-header', event);\n        this.headerHovered = false;\n        if (triggerClick) this.setHovered(null);\n        if (closeDropdown) this.isActive = false;\n      }\n\n      if (this.selectableFooter && (this.footerHovered || triggerClick && triggerClick.origin === 'footer')) {\n        this.$emit('select-footer', event);\n        this.footerHovered = false;\n        if (triggerClick) this.setHovered(null);\n        if (closeDropdown) this.isActive = false;\n      }\n    },\n\n    /**\r\n     * Close dropdown if clicked outside.\r\n     */\n    clickedOutside: function clickedOutside(event) {\n      var target = isCustomElement(this) ? event.composedPath()[0] : event.target;\n\n      if (!this.hasFocus && this.whiteList.indexOf(target) < 0) {\n        if (this.keepFirst && this.hovered && this.selectOnClickOutside) {\n          this.setSelected(this.hovered, true);\n        } else {\n          this.isActive = false;\n        }\n      }\n    },\n\n    /**\r\n     * Return display text for the input.\r\n     * If object, get value from path, or else just the value.\r\n     */\n    getValue: function getValue(option) {\n      if (option === null) return;\n\n      if (typeof this.customFormatter !== 'undefined') {\n        return this.customFormatter(option);\n      }\n\n      return _typeof(option) === 'object' ? getValueByPath(option, this.field) : option;\n    },\n\n    /**\r\n     * Check if the scroll list inside the dropdown\r\n     * reached it's end.\r\n     */\n    checkIfReachedTheEndOfScroll: function checkIfReachedTheEndOfScroll(list) {\n      if (list.clientHeight !== list.scrollHeight && list.scrollTop + list.clientHeight >= list.scrollHeight) {\n        this.$emit('infinite-scroll');\n      }\n    },\n\n    /**\r\n     * Calculate if the dropdown is vertically visible when activated,\r\n     * otherwise it is openened upwards.\r\n     */\n    calcDropdownInViewportVertical: function calcDropdownInViewportVertical() {\n      var _this6 = this;\n\n      this.$nextTick(function () {\n        /**\r\n         * this.$refs.dropdown may be undefined\r\n         * when Autocomplete is conditional rendered\r\n         */\n        if (_this6.$refs.dropdown === undefined) return;\n\n        var rect = _this6.$refs.dropdown.getBoundingClientRect();\n\n        _this6.isListInViewportVertically = rect.top >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight);\n\n        if (_this6.appendToBody) {\n          _this6.updateAppendToBody();\n        }\n      });\n    },\n\n    /**\r\n     * Arrows keys listener.\r\n     * If dropdown is active, set hovered option, or else just open.\r\n     */\n    keyArrows: function keyArrows(direction) {\n      var sum = direction === 'down' ? 1 : -1;\n\n      if (this.isActive) {\n        var data = this.computedData.map(function (d) {\n          return d.items;\n        }).reduce(function (a, b) {\n          return [].concat(_toConsumableArray(a), _toConsumableArray(b));\n        }, []);\n\n        if (this.hasHeaderSlot && this.selectableHeader) {\n          data.unshift(undefined);\n        }\n\n        if (this.hasFooterSlot && this.selectableFooter) {\n          data.push(undefined);\n        }\n\n        var index;\n\n        if (this.headerHovered) {\n          index = 0 + sum;\n        } else if (this.footerHovered) {\n          index = data.length - 1 + sum;\n        } else {\n          index = data.indexOf(this.hovered) + sum;\n        }\n\n        index = index > data.length - 1 ? data.length - 1 : index;\n        index = index < 0 ? 0 : index;\n        this.footerHovered = false;\n        this.headerHovered = false;\n        this.setHovered(data[index] !== undefined ? data[index] : null);\n\n        if (this.hasFooterSlot && this.selectableFooter && index === data.length - 1) {\n          this.footerHovered = true;\n        }\n\n        if (this.hasHeaderSlot && this.selectableHeader && index === 0) {\n          this.headerHovered = true;\n        }\n\n        var list = this.$refs.dropdown.querySelector('.dropdown-content');\n        var querySelectorText = 'a.dropdown-item:not(.is-disabled)';\n\n        if (this.hasHeaderSlot && this.selectableHeader) {\n          querySelectorText += ',div.dropdown-header';\n        }\n\n        if (this.hasFooterSlot && this.selectableFooter) {\n          querySelectorText += ',div.dropdown-footer';\n        }\n\n        var element = list.querySelectorAll(querySelectorText)[index];\n        if (!element) return;\n        var visMin = list.scrollTop;\n        var visMax = list.scrollTop + list.clientHeight - element.clientHeight;\n\n        if (element.offsetTop < visMin) {\n          list.scrollTop = element.offsetTop;\n        } else if (element.offsetTop >= visMax) {\n          list.scrollTop = element.offsetTop - list.clientHeight + element.clientHeight;\n        }\n      } else {\n        this.isActive = true;\n      }\n    },\n\n    /**\r\n     * Focus listener.\r\n     * If value is the same as selected, select all text.\r\n     */\n    focused: function focused(event) {\n      if (this.getValue(this.selected) === this.newValue) {\n        this.$el.querySelector('input').select();\n      }\n\n      if (this.openOnFocus) {\n        this.isActive = true;\n\n        if (this.keepFirst) {\n          // If open on focus, update the hovered\n          this.selectFirstOption(this.computedData);\n        }\n      }\n\n      this.hasFocus = true;\n      this.$emit('focus', event);\n    },\n\n    /**\r\n     * Blur listener.\r\n     */\n    onBlur: function onBlur(event) {\n      this.hasFocus = false;\n      this.$emit('blur', event);\n    },\n    onInput: function onInput() {\n      var currentValue = this.getValue(this.selected);\n      if (currentValue && currentValue === this.newValue) return;\n      this.$emit('typing', this.newValue);\n      this.checkValidity();\n    },\n    rightIconClick: function rightIconClick(event) {\n      if (this.clearable) {\n        this.newValue = '';\n        this.setSelected(null, false);\n\n        if (this.openOnFocus) {\n          this.$refs.input.$el.focus();\n        }\n      } else {\n        this.$emit('icon-right-click', event);\n      }\n    },\n    checkValidity: function checkValidity() {\n      var _this7 = this;\n\n      if (this.useHtml5Validation) {\n        this.$nextTick(function () {\n          _this7.checkHtml5Validity();\n        });\n      }\n    },\n    updateAppendToBody: function updateAppendToBody() {\n      var dropdownMenu = this.$refs.dropdown;\n      var trigger = this.$refs.input.$el;\n\n      if (dropdownMenu && trigger) {\n        // update wrapper dropdown\n        var root = this.$data._bodyEl;\n        root.classList.forEach(function (item) {\n          return root.classList.remove(item);\n        });\n        root.classList.add('autocomplete');\n        root.classList.add('control');\n\n        if (this.expandend) {\n          root.classList.add('is-expandend');\n        }\n\n        var rect = trigger.getBoundingClientRect();\n        var top = rect.top + window.scrollY;\n        var left = rect.left + window.scrollX;\n\n        if (!this.isOpenedTop) {\n          top += trigger.clientHeight;\n        } else {\n          top -= dropdownMenu.clientHeight;\n        }\n\n        this.style = {\n          position: 'absolute',\n          top: \"\".concat(top, \"px\"),\n          left: \"\".concat(left, \"px\"),\n          width: \"\".concat(trigger.clientWidth, \"px\"),\n          maxWidth: \"\".concat(trigger.clientWidth, \"px\"),\n          zIndex: '99'\n        };\n      }\n    }\n  },\n  created: function created() {\n    if (typeof window !== 'undefined') {\n      document.addEventListener('click', this.clickedOutside);\n\n      if (this.dropdownPosition === 'auto') {\n        window.addEventListener('resize', this.calcDropdownInViewportVertical);\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this8 = this;\n\n    if (this.checkInfiniteScroll && this.$refs.dropdown && this.$refs.dropdown.querySelector('.dropdown-content')) {\n      var list = this.$refs.dropdown.querySelector('.dropdown-content');\n      list.addEventListener('scroll', function () {\n        return _this8.checkIfReachedTheEndOfScroll(list);\n      });\n    }\n\n    if (this.appendToBody) {\n      this.$data._bodyEl = createAbsoluteElement(this.$refs.dropdown);\n      this.updateAppendToBody();\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (typeof window !== 'undefined') {\n      document.removeEventListener('click', this.clickedOutside);\n\n      if (this.dropdownPosition === 'auto') {\n        window.removeEventListener('resize', this.calcDropdownInViewportVertical);\n      }\n    }\n\n    if (this.checkInfiniteScroll && this.$refs.dropdown && this.$refs.dropdown.querySelector('.dropdown-content')) {\n      var list = this.$refs.dropdown.querySelector('.dropdown-content');\n      list.removeEventListener('scroll', this.checkIfReachedTheEndOfScroll);\n    }\n\n    if (this.appendToBody) {\n      removeElement(this.$data._bodyEl);\n    }\n  }\n};\n/* script */\n\nvar __vue_script__ = script;\n/* template */\n\nvar __vue_render__ = function __vue_render__() {\n  var _vm = this;\n\n  var _h = _vm.$createElement;\n\n  var _c = _vm._self._c || _h;\n\n  return _c('div', {\n    staticClass: \"autocomplete control\",\n    \"class\": {\n      'is-expanded': _vm.expanded\n    }\n  }, [_c('b-input', _vm._b({\n    ref: \"input\",\n    attrs: {\n      \"type\": _vm.type,\n      \"size\": _vm.size,\n      \"loading\": _vm.loading,\n      \"rounded\": _vm.rounded,\n      \"icon\": _vm.icon,\n      \"icon-right\": _vm.newIconRight,\n      \"icon-right-clickable\": _vm.newIconRightClickable,\n      \"icon-pack\": _vm.iconPack,\n      \"maxlength\": _vm.maxlength,\n      \"autocomplete\": _vm.newAutocomplete,\n      \"use-html5-validation\": false,\n      \"aria-autocomplete\": _vm.ariaAutocomplete\n    },\n    on: {\n      \"input\": _vm.onInput,\n      \"focus\": _vm.focused,\n      \"blur\": _vm.onBlur,\n      \"icon-right-click\": _vm.rightIconClick,\n      \"icon-click\": function iconClick(event) {\n        return _vm.$emit('icon-click', event);\n      }\n    },\n    nativeOn: {\n      \"keydown\": [function ($event) {\n        return _vm.keydown($event);\n      }, function ($event) {\n        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, \"up\", 38, $event.key, [\"Up\", \"ArrowUp\"])) {\n          return null;\n        }\n\n        $event.preventDefault();\n        return _vm.keyArrows('up');\n      }, function ($event) {\n        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, \"down\", 40, $event.key, [\"Down\", \"ArrowDown\"])) {\n          return null;\n        }\n\n        $event.preventDefault();\n        return _vm.keyArrows('down');\n      }]\n    },\n    model: {\n      value: _vm.newValue,\n      callback: function callback($$v) {\n        _vm.newValue = $$v;\n      },\n      expression: \"newValue\"\n    }\n  }, 'b-input', _vm.$attrs, false)), _c('transition', {\n    attrs: {\n      \"name\": \"fade\"\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: _vm.isActive && (!_vm.isEmpty || _vm.hasEmptySlot || _vm.hasHeaderSlot),\n      expression: \"isActive && (!isEmpty || hasEmptySlot || hasHeaderSlot)\"\n    }],\n    ref: \"dropdown\",\n    staticClass: \"dropdown-menu\",\n    \"class\": {\n      'is-opened-top': _vm.isOpenedTop && !_vm.appendToBody\n    },\n    style: _vm.style\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: _vm.isActive,\n      expression: \"isActive\"\n    }],\n    staticClass: \"dropdown-content\",\n    style: _vm.contentStyle\n  }, [_vm.hasHeaderSlot ? _c('div', {\n    staticClass: \"dropdown-item dropdown-header\",\n    \"class\": {\n      'is-hovered': _vm.headerHovered\n    },\n    attrs: {\n      \"role\": \"button\",\n      \"tabindex\": \"0\"\n    },\n    on: {\n      \"click\": function click($event) {\n        return _vm.selectHeaderOrFoterByClick($event, 'header');\n      }\n    }\n  }, [_vm._t(\"header\")], 2) : _vm._e(), _vm._l(_vm.computedData, function (element, groupindex) {\n    return [element.group ? _c('div', {\n      key: groupindex + 'group',\n      staticClass: \"dropdown-item\"\n    }, [_vm.hasGroupSlot ? _vm._t(\"group\", null, {\n      \"group\": element.group,\n      \"index\": groupindex\n    }) : _c('span', {\n      staticClass: \"has-text-weight-bold\"\n    }, [_vm._v(\" \" + _vm._s(element.group) + \" \")])], 2) : _vm._e(), _vm._l(element.items, function (option, index) {\n      return _c('a', {\n        key: groupindex + ':' + index,\n        staticClass: \"dropdown-item\",\n        \"class\": {\n          'is-hovered': option === _vm.hovered\n        },\n        attrs: {\n          \"role\": \"button\",\n          \"tabindex\": \"0\"\n        },\n        on: {\n          \"click\": function click($event) {\n            $event.stopPropagation();\n            return _vm.setSelected(option, !_vm.keepOpen, $event);\n          }\n        }\n      }, [_vm.hasDefaultSlot ? _vm._t(\"default\", null, {\n        \"option\": option,\n        \"index\": index\n      }) : _c('span', [_vm._v(\" \" + _vm._s(_vm.getValue(option, true)) + \" \")])], 2);\n    })];\n  }), _vm.isEmpty && _vm.hasEmptySlot ? _c('div', {\n    staticClass: \"dropdown-item is-disabled\"\n  }, [_vm._t(\"empty\")], 2) : _vm._e(), _vm.hasFooterSlot ? _c('div', {\n    staticClass: \"dropdown-item dropdown-footer\",\n    \"class\": {\n      'is-hovered': _vm.footerHovered\n    },\n    attrs: {\n      \"role\": \"button\",\n      \"tabindex\": \"0\"\n    },\n    on: {\n      \"click\": function click($event) {\n        return _vm.selectHeaderOrFoterByClick($event, 'footer');\n      }\n    }\n  }, [_vm._t(\"footer\")], 2) : _vm._e()], 2)])])], 1);\n};\n\nvar __vue_staticRenderFns__ = [];\n/* style */\n\nvar __vue_inject_styles__ = undefined;\n/* scoped */\n\nvar __vue_scope_id__ = undefined;\n/* module identifier */\n\nvar __vue_module_identifier__ = undefined;\n/* functional template */\n\nvar __vue_is_functional_template__ = false;\n/* style inject */\n\n/* style inject SSR */\n\nvar Autocomplete = __vue_normalize__({\n  render: __vue_render__,\n  staticRenderFns: __vue_staticRenderFns__\n}, __vue_inject_styles__, __vue_script__, __vue_scope_id__, __vue_is_functional_template__, __vue_module_identifier__, undefined, undefined);\n\nexport { Autocomplete as A };","map":{"version":3,"names":["_","_defineProperty","d","_toConsumableArray","b","_typeof","getValueByPath","toCssWidth","isCustomElement","createAbsoluteElement","removeElement","F","FormElementMixin","__vue_normalize__","I","Input","script","name","components","mixins","inheritAttrs","props","value","Number","String","data","type","Array","_default","field","keepFirst","Boolean","clearOnSelect","openOnFocus","customFormatter","Function","checkInfiniteScroll","keepOpen","selectOnClickOutside","clearable","maxHeight","dropdownPosition","groupField","groupOptions","iconRight","iconRightClickable","appendToBody","confirmKeys","selectableHeader","selectableFooter","selected","hovered","headerHovered","footerHovered","isActive","newValue","newAutocomplete","autocomplete","ariaAutocomplete","isListInViewportVertically","hasFocus","style","_isAutocomplete","_elementRef","_bodyEl","undefined","computed","computedData","_this","newData","forEach","option","group","items","push","tmp","_newData","Object","keys","isEmpty","some","element","length","whiteList","$refs","input","$el","querySelector","dropdown","children","querySelectorAll","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","Symbol","iterator","_step","next","done","child","err","$parent","$data","_isTaginput","tagInputChildren","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","tagInputChild","hasDefaultSlot","$scopedSlots","hasGroupSlot","hasEmptySlot","$slots","empty","hasHeaderSlot","header","hasFooterSlot","footer","isOpenedTop","newIconRight","newIconRightClickable","contentStyle","watch","active","_this2","calcDropdownInViewportVertical","setTimeout","$emit","currentValue","getValue","setSelected","_value","_this3","$nextTick","selectFirstOption","setHovered","hoveredValue","map","reduce","a","concat","methods","_this4","closeDropdown","arguments","event","checkValidity","_this5","nonEmptyElements","filter","keydown","key","preventDefault","indexOf","checkIfHeaderOrFooterSelected","selectHeaderOrFoterByClick","origin","triggerClick","clickedOutside","target","composedPath","checkIfReachedTheEndOfScroll","list","clientHeight","scrollHeight","scrollTop","_this6","rect","getBoundingClientRect","top","bottom","window","innerHeight","document","documentElement","updateAppendToBody","keyArrows","direction","sum","unshift","index","querySelectorText","visMin","visMax","offsetTop","focused","select","onBlur","onInput","rightIconClick","focus","_this7","useHtml5Validation","checkHtml5Validity","dropdownMenu","trigger","root","classList","item","remove","add","expandend","scrollY","left","scrollX","position","width","clientWidth","maxWidth","zIndex","created","addEventListener","mounted","_this8","beforeDestroy","removeEventListener","__vue_script__","__vue_render__","_vm","_h","$createElement","_c","_self","staticClass","expanded","_b","ref","attrs","size","loading","rounded","icon","iconPack","maxlength","on","nativeOn","$event","_k","keyCode","model","callback","$$v","expression","$attrs","directives","rawName","_t","_e","_l","groupindex","_v","_s","stopPropagation","__vue_staticRenderFns__","__vue_inject_styles__","__vue_scope_id__","__vue_module_identifier__","__vue_is_functional_template__","Autocomplete","render","staticRenderFns","A"],"sources":["/Users/lysianedon/Documents/Mes projets Devs/sema02/frontend/node_modules/buefy/dist/esm/chunk-b0123b89.js"],"sourcesContent":["import { _ as _defineProperty, d as _toConsumableArray, b as _typeof } from './chunk-455cdeae.js';\nimport { getValueByPath, toCssWidth, isCustomElement, createAbsoluteElement, removeElement } from './helpers.js';\nimport { F as FormElementMixin } from './chunk-17b33cd2.js';\nimport { _ as __vue_normalize__ } from './chunk-cca88db8.js';\nimport { I as Input } from './chunk-83c8b459.js';\n\nvar script = {\n  name: 'BAutocomplete',\n  components: _defineProperty({}, Input.name, Input),\n  mixins: [FormElementMixin],\n  inheritAttrs: false,\n  props: {\n    value: [Number, String],\n    data: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    field: {\n      type: String,\n      default: 'value'\n    },\n    keepFirst: Boolean,\n    clearOnSelect: Boolean,\n    openOnFocus: Boolean,\n    customFormatter: Function,\n    checkInfiniteScroll: Boolean,\n    keepOpen: Boolean,\n    selectOnClickOutside: Boolean,\n    clearable: Boolean,\n    maxHeight: [String, Number],\n    dropdownPosition: {\n      type: String,\n      default: 'auto'\n    },\n    groupField: String,\n    groupOptions: String,\n    iconRight: String,\n    iconRightClickable: Boolean,\n    appendToBody: Boolean,\n    type: {\n      type: String,\n      default: 'text'\n    },\n    confirmKeys: {\n      type: Array,\n      default: function _default() {\n        return ['Tab', 'Enter'];\n      }\n    },\n    selectableHeader: Boolean,\n    selectableFooter: Boolean\n  },\n  data: function data() {\n    return {\n      selected: null,\n      hovered: null,\n      headerHovered: null,\n      footerHovered: null,\n      isActive: false,\n      newValue: this.value,\n      newAutocomplete: this.autocomplete || 'off',\n      ariaAutocomplete: this.keepFirst ? 'both' : 'list',\n      isListInViewportVertically: true,\n      hasFocus: false,\n      style: {},\n      _isAutocomplete: true,\n      _elementRef: 'input',\n      _bodyEl: undefined // Used to append to body\n\n    };\n  },\n  computed: {\n    computedData: function computedData() {\n      var _this = this;\n\n      if (this.groupField) {\n        if (this.groupOptions) {\n          var newData = [];\n          this.data.forEach(function (option) {\n            var group = getValueByPath(option, _this.groupField);\n            var items = getValueByPath(option, _this.groupOptions);\n            newData.push({\n              group: group,\n              items: items\n            });\n          });\n          return newData;\n        } else {\n          var tmp = {};\n          this.data.forEach(function (option) {\n            var group = getValueByPath(option, _this.groupField);\n            if (!tmp[group]) tmp[group] = [];\n            tmp[group].push(option);\n          });\n          var _newData = [];\n          Object.keys(tmp).forEach(function (group) {\n            _newData.push({\n              group: group,\n              items: tmp[group]\n            });\n          });\n          return _newData;\n        }\n      }\n\n      return [{\n        items: this.data\n      }];\n    },\n    isEmpty: function isEmpty() {\n      if (!this.computedData) return true;\n      return !this.computedData.some(function (element) {\n        return element.items && element.items.length;\n      });\n    },\n\n    /**\r\n     * White-listed items to not close when clicked.\r\n     * Add input, dropdown and all children.\r\n     */\n    whiteList: function whiteList() {\n      var whiteList = [];\n      whiteList.push(this.$refs.input.$el.querySelector('input'));\n      whiteList.push(this.$refs.dropdown); // Add all children from dropdown\n\n      if (this.$refs.dropdown !== undefined) {\n        var children = this.$refs.dropdown.querySelectorAll('*');\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var child = _step.value;\n            whiteList.push(child);\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      }\n\n      if (this.$parent.$data._isTaginput) {\n        // Add taginput container\n        whiteList.push(this.$parent.$el); // Add .tag and .delete\n\n        var tagInputChildren = this.$parent.$el.querySelectorAll('*');\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = tagInputChildren[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var tagInputChild = _step2.value;\n            whiteList.push(tagInputChild);\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n      }\n\n      return whiteList;\n    },\n\n    /**\r\n     * Check if exists default slot\r\n     */\n    hasDefaultSlot: function hasDefaultSlot() {\n      return !!this.$scopedSlots.default;\n    },\n\n    /**\r\n     * Check if exists group slot\r\n     */\n    hasGroupSlot: function hasGroupSlot() {\n      return !!this.$scopedSlots.group;\n    },\n\n    /**\r\n     * Check if exists \"empty\" slot\r\n     */\n    hasEmptySlot: function hasEmptySlot() {\n      return !!this.$slots.empty;\n    },\n\n    /**\r\n     * Check if exists \"header\" slot\r\n     */\n    hasHeaderSlot: function hasHeaderSlot() {\n      return !!this.$slots.header;\n    },\n\n    /**\r\n     * Check if exists \"footer\" slot\r\n     */\n    hasFooterSlot: function hasFooterSlot() {\n      return !!this.$slots.footer;\n    },\n\n    /**\r\n     * Apply dropdownPosition property\r\n     */\n    isOpenedTop: function isOpenedTop() {\n      return this.dropdownPosition === 'top' || this.dropdownPosition === 'auto' && !this.isListInViewportVertically;\n    },\n    newIconRight: function newIconRight() {\n      if (this.clearable && this.newValue) {\n        return 'close-circle';\n      }\n\n      return this.iconRight;\n    },\n    newIconRightClickable: function newIconRightClickable() {\n      if (this.clearable) {\n        return true;\n      }\n\n      return this.iconRightClickable;\n    },\n    contentStyle: function contentStyle() {\n      return {\n        maxHeight: toCssWidth(this.maxHeight)\n      };\n    }\n  },\n  watch: {\n    /**\r\n     * When dropdown is toggled, check the visibility to know when\r\n     * to open upwards.\r\n     */\n    isActive: function isActive(active) {\n      var _this2 = this;\n\n      if (this.dropdownPosition === 'auto') {\n        if (active) {\n          this.calcDropdownInViewportVertical();\n        } else {\n          // Timeout to wait for the animation to finish before recalculating\n          setTimeout(function () {\n            _this2.calcDropdownInViewportVertical();\n          }, 100);\n        }\n      }\n    },\n\n    /**\r\n     * When updating input's value\r\n     *   1. Emit changes\r\n     *   2. If value isn't the same as selected, set null\r\n     *   3. Close dropdown if value is clear or else open it\r\n     */\n    newValue: function newValue(value) {\n      this.$emit('input', value); // Check if selected is invalid\n\n      var currentValue = this.getValue(this.selected);\n\n      if (currentValue && currentValue !== value) {\n        this.setSelected(null, false);\n      } // Close dropdown if input is clear or else open it\n\n\n      if (this.hasFocus && (!this.openOnFocus || value)) {\n        this.isActive = !!value;\n      }\n    },\n\n    /**\r\n     * When v-model is changed:\r\n     *   1. Update internal value.\r\n     *   2. If it's invalid, validate again.\r\n     */\n    value: function value(_value) {\n      this.newValue = _value;\n    },\n\n    /**\r\n     * Select first option if \"keep-first\r\n     */\n    data: function data() {\n      var _this3 = this;\n\n      // Keep first option always pre-selected\n      if (this.keepFirst) {\n        this.$nextTick(function () {\n          if (_this3.isActive) {\n            _this3.selectFirstOption(_this3.computedData);\n          } else {\n            _this3.setHovered(null);\n          }\n        });\n      } else {\n        if (this.hovered) {\n          // reset hovered if list doesn't contain it\n          var hoveredValue = this.getValue(this.hovered);\n          var data = this.computedData.map(function (d) {\n            return d.items;\n          }).reduce(function (a, b) {\n            return [].concat(_toConsumableArray(a), _toConsumableArray(b));\n          }, []);\n\n          if (!data.some(function (d) {\n            return _this3.getValue(d) === hoveredValue;\n          })) {\n            this.setHovered(null);\n          }\n        }\n      }\n    }\n  },\n  methods: {\n    /**\r\n     * Set which option is currently hovered.\r\n     */\n    setHovered: function setHovered(option) {\n      if (option === undefined) return;\n      this.hovered = option;\n    },\n\n    /**\r\n     * Set which option is currently selected, update v-model,\r\n     * update input value and close dropdown.\r\n     */\n    setSelected: function setSelected(option) {\n      var _this4 = this;\n\n      var closeDropdown = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var event = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n      if (option === undefined) return;\n      this.selected = option;\n      this.$emit('select', this.selected, event);\n\n      if (this.selected !== null) {\n        if (this.clearOnSelect) {\n          var input = this.$refs.input;\n          input.newValue = '';\n          input.$refs.input.value = '';\n        } else {\n          this.newValue = this.getValue(this.selected);\n        }\n\n        this.setHovered(null);\n      }\n\n      closeDropdown && this.$nextTick(function () {\n        _this4.isActive = false;\n      });\n      this.checkValidity();\n    },\n\n    /**\r\n     * Select first option\r\n     */\n    selectFirstOption: function selectFirstOption(computedData) {\n      var _this5 = this;\n\n      this.$nextTick(function () {\n        var nonEmptyElements = computedData.filter(function (element) {\n          return element.items && element.items.length;\n        });\n\n        if (nonEmptyElements.length) {\n          var option = nonEmptyElements[0].items[0];\n\n          _this5.setHovered(option);\n        } else {\n          _this5.setHovered(null);\n        }\n      });\n    },\n    keydown: function keydown(event) {\n      var key = event.key; // cannot destructure preventDefault (https://stackoverflow.com/a/49616808/2774496)\n      // prevent emit submit event\n\n      if (key === 'Enter') event.preventDefault(); // Close dropdown on Tab & no hovered\n\n      if (key === 'Escape' || key === 'Tab') {\n        this.isActive = false;\n      }\n\n      if (this.confirmKeys.indexOf(key) >= 0) {\n        // If adding by comma, don't add the comma to the input\n        if (key === ',') event.preventDefault(); // Close dropdown on select by Tab\n\n        var closeDropdown = !this.keepOpen || key === 'Tab';\n\n        if (this.hovered === null) {\n          // header and footer uses headerHovered && footerHovered. If header or footer\n          // was selected then fire event otherwise just return so a value isn't selected\n          this.checkIfHeaderOrFooterSelected(event, null, closeDropdown);\n          return;\n        }\n\n        this.setSelected(this.hovered, closeDropdown, event);\n      }\n    },\n    selectHeaderOrFoterByClick: function selectHeaderOrFoterByClick(event, origin) {\n      this.checkIfHeaderOrFooterSelected(event, {\n        origin: origin\n      });\n    },\n\n    /**\r\n     * Check if header or footer was selected.\r\n     */\n    checkIfHeaderOrFooterSelected: function checkIfHeaderOrFooterSelected(event, triggerClick) {\n      var closeDropdown = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n      if (this.selectableHeader && (this.headerHovered || triggerClick && triggerClick.origin === 'header')) {\n        this.$emit('select-header', event);\n        this.headerHovered = false;\n        if (triggerClick) this.setHovered(null);\n        if (closeDropdown) this.isActive = false;\n      }\n\n      if (this.selectableFooter && (this.footerHovered || triggerClick && triggerClick.origin === 'footer')) {\n        this.$emit('select-footer', event);\n        this.footerHovered = false;\n        if (triggerClick) this.setHovered(null);\n        if (closeDropdown) this.isActive = false;\n      }\n    },\n\n    /**\r\n     * Close dropdown if clicked outside.\r\n     */\n    clickedOutside: function clickedOutside(event) {\n      var target = isCustomElement(this) ? event.composedPath()[0] : event.target;\n\n      if (!this.hasFocus && this.whiteList.indexOf(target) < 0) {\n        if (this.keepFirst && this.hovered && this.selectOnClickOutside) {\n          this.setSelected(this.hovered, true);\n        } else {\n          this.isActive = false;\n        }\n      }\n    },\n\n    /**\r\n     * Return display text for the input.\r\n     * If object, get value from path, or else just the value.\r\n     */\n    getValue: function getValue(option) {\n      if (option === null) return;\n\n      if (typeof this.customFormatter !== 'undefined') {\n        return this.customFormatter(option);\n      }\n\n      return _typeof(option) === 'object' ? getValueByPath(option, this.field) : option;\n    },\n\n    /**\r\n     * Check if the scroll list inside the dropdown\r\n     * reached it's end.\r\n     */\n    checkIfReachedTheEndOfScroll: function checkIfReachedTheEndOfScroll(list) {\n      if (list.clientHeight !== list.scrollHeight && list.scrollTop + list.clientHeight >= list.scrollHeight) {\n        this.$emit('infinite-scroll');\n      }\n    },\n\n    /**\r\n     * Calculate if the dropdown is vertically visible when activated,\r\n     * otherwise it is openened upwards.\r\n     */\n    calcDropdownInViewportVertical: function calcDropdownInViewportVertical() {\n      var _this6 = this;\n\n      this.$nextTick(function () {\n        /**\r\n         * this.$refs.dropdown may be undefined\r\n         * when Autocomplete is conditional rendered\r\n         */\n        if (_this6.$refs.dropdown === undefined) return;\n\n        var rect = _this6.$refs.dropdown.getBoundingClientRect();\n\n        _this6.isListInViewportVertically = rect.top >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight);\n\n        if (_this6.appendToBody) {\n          _this6.updateAppendToBody();\n        }\n      });\n    },\n\n    /**\r\n     * Arrows keys listener.\r\n     * If dropdown is active, set hovered option, or else just open.\r\n     */\n    keyArrows: function keyArrows(direction) {\n      var sum = direction === 'down' ? 1 : -1;\n\n      if (this.isActive) {\n        var data = this.computedData.map(function (d) {\n          return d.items;\n        }).reduce(function (a, b) {\n          return [].concat(_toConsumableArray(a), _toConsumableArray(b));\n        }, []);\n\n        if (this.hasHeaderSlot && this.selectableHeader) {\n          data.unshift(undefined);\n        }\n\n        if (this.hasFooterSlot && this.selectableFooter) {\n          data.push(undefined);\n        }\n\n        var index;\n\n        if (this.headerHovered) {\n          index = 0 + sum;\n        } else if (this.footerHovered) {\n          index = data.length - 1 + sum;\n        } else {\n          index = data.indexOf(this.hovered) + sum;\n        }\n\n        index = index > data.length - 1 ? data.length - 1 : index;\n        index = index < 0 ? 0 : index;\n        this.footerHovered = false;\n        this.headerHovered = false;\n        this.setHovered(data[index] !== undefined ? data[index] : null);\n\n        if (this.hasFooterSlot && this.selectableFooter && index === data.length - 1) {\n          this.footerHovered = true;\n        }\n\n        if (this.hasHeaderSlot && this.selectableHeader && index === 0) {\n          this.headerHovered = true;\n        }\n\n        var list = this.$refs.dropdown.querySelector('.dropdown-content');\n        var querySelectorText = 'a.dropdown-item:not(.is-disabled)';\n\n        if (this.hasHeaderSlot && this.selectableHeader) {\n          querySelectorText += ',div.dropdown-header';\n        }\n\n        if (this.hasFooterSlot && this.selectableFooter) {\n          querySelectorText += ',div.dropdown-footer';\n        }\n\n        var element = list.querySelectorAll(querySelectorText)[index];\n        if (!element) return;\n        var visMin = list.scrollTop;\n        var visMax = list.scrollTop + list.clientHeight - element.clientHeight;\n\n        if (element.offsetTop < visMin) {\n          list.scrollTop = element.offsetTop;\n        } else if (element.offsetTop >= visMax) {\n          list.scrollTop = element.offsetTop - list.clientHeight + element.clientHeight;\n        }\n      } else {\n        this.isActive = true;\n      }\n    },\n\n    /**\r\n     * Focus listener.\r\n     * If value is the same as selected, select all text.\r\n     */\n    focused: function focused(event) {\n      if (this.getValue(this.selected) === this.newValue) {\n        this.$el.querySelector('input').select();\n      }\n\n      if (this.openOnFocus) {\n        this.isActive = true;\n\n        if (this.keepFirst) {\n          // If open on focus, update the hovered\n          this.selectFirstOption(this.computedData);\n        }\n      }\n\n      this.hasFocus = true;\n      this.$emit('focus', event);\n    },\n\n    /**\r\n     * Blur listener.\r\n     */\n    onBlur: function onBlur(event) {\n      this.hasFocus = false;\n      this.$emit('blur', event);\n    },\n    onInput: function onInput() {\n      var currentValue = this.getValue(this.selected);\n      if (currentValue && currentValue === this.newValue) return;\n      this.$emit('typing', this.newValue);\n      this.checkValidity();\n    },\n    rightIconClick: function rightIconClick(event) {\n      if (this.clearable) {\n        this.newValue = '';\n        this.setSelected(null, false);\n\n        if (this.openOnFocus) {\n          this.$refs.input.$el.focus();\n        }\n      } else {\n        this.$emit('icon-right-click', event);\n      }\n    },\n    checkValidity: function checkValidity() {\n      var _this7 = this;\n\n      if (this.useHtml5Validation) {\n        this.$nextTick(function () {\n          _this7.checkHtml5Validity();\n        });\n      }\n    },\n    updateAppendToBody: function updateAppendToBody() {\n      var dropdownMenu = this.$refs.dropdown;\n      var trigger = this.$refs.input.$el;\n\n      if (dropdownMenu && trigger) {\n        // update wrapper dropdown\n        var root = this.$data._bodyEl;\n        root.classList.forEach(function (item) {\n          return root.classList.remove(item);\n        });\n        root.classList.add('autocomplete');\n        root.classList.add('control');\n\n        if (this.expandend) {\n          root.classList.add('is-expandend');\n        }\n\n        var rect = trigger.getBoundingClientRect();\n        var top = rect.top + window.scrollY;\n        var left = rect.left + window.scrollX;\n\n        if (!this.isOpenedTop) {\n          top += trigger.clientHeight;\n        } else {\n          top -= dropdownMenu.clientHeight;\n        }\n\n        this.style = {\n          position: 'absolute',\n          top: \"\".concat(top, \"px\"),\n          left: \"\".concat(left, \"px\"),\n          width: \"\".concat(trigger.clientWidth, \"px\"),\n          maxWidth: \"\".concat(trigger.clientWidth, \"px\"),\n          zIndex: '99'\n        };\n      }\n    }\n  },\n  created: function created() {\n    if (typeof window !== 'undefined') {\n      document.addEventListener('click', this.clickedOutside);\n\n      if (this.dropdownPosition === 'auto') {\n        window.addEventListener('resize', this.calcDropdownInViewportVertical);\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this8 = this;\n\n    if (this.checkInfiniteScroll && this.$refs.dropdown && this.$refs.dropdown.querySelector('.dropdown-content')) {\n      var list = this.$refs.dropdown.querySelector('.dropdown-content');\n      list.addEventListener('scroll', function () {\n        return _this8.checkIfReachedTheEndOfScroll(list);\n      });\n    }\n\n    if (this.appendToBody) {\n      this.$data._bodyEl = createAbsoluteElement(this.$refs.dropdown);\n      this.updateAppendToBody();\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (typeof window !== 'undefined') {\n      document.removeEventListener('click', this.clickedOutside);\n\n      if (this.dropdownPosition === 'auto') {\n        window.removeEventListener('resize', this.calcDropdownInViewportVertical);\n      }\n    }\n\n    if (this.checkInfiniteScroll && this.$refs.dropdown && this.$refs.dropdown.querySelector('.dropdown-content')) {\n      var list = this.$refs.dropdown.querySelector('.dropdown-content');\n      list.removeEventListener('scroll', this.checkIfReachedTheEndOfScroll);\n    }\n\n    if (this.appendToBody) {\n      removeElement(this.$data._bodyEl);\n    }\n  }\n};\n\n/* script */\nconst __vue_script__ = script;\n\n/* template */\nvar __vue_render__ = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"autocomplete control\",class:{ 'is-expanded': _vm.expanded }},[_c('b-input',_vm._b({ref:\"input\",attrs:{\"type\":_vm.type,\"size\":_vm.size,\"loading\":_vm.loading,\"rounded\":_vm.rounded,\"icon\":_vm.icon,\"icon-right\":_vm.newIconRight,\"icon-right-clickable\":_vm.newIconRightClickable,\"icon-pack\":_vm.iconPack,\"maxlength\":_vm.maxlength,\"autocomplete\":_vm.newAutocomplete,\"use-html5-validation\":false,\"aria-autocomplete\":_vm.ariaAutocomplete},on:{\"input\":_vm.onInput,\"focus\":_vm.focused,\"blur\":_vm.onBlur,\"icon-right-click\":_vm.rightIconClick,\"icon-click\":function (event) { return _vm.$emit('icon-click', event); }},nativeOn:{\"keydown\":[function($event){return _vm.keydown($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"up\",38,$event.key,[\"Up\",\"ArrowUp\"])){ return null; }$event.preventDefault();return _vm.keyArrows('up')},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"down\",40,$event.key,[\"Down\",\"ArrowDown\"])){ return null; }$event.preventDefault();return _vm.keyArrows('down')}]},model:{value:(_vm.newValue),callback:function ($$v) {_vm.newValue=$$v;},expression:\"newValue\"}},'b-input',_vm.$attrs,false)),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isActive && (!_vm.isEmpty || _vm.hasEmptySlot || _vm.hasHeaderSlot)),expression:\"isActive && (!isEmpty || hasEmptySlot || hasHeaderSlot)\"}],ref:\"dropdown\",staticClass:\"dropdown-menu\",class:{ 'is-opened-top': _vm.isOpenedTop && !_vm.appendToBody },style:(_vm.style)},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isActive),expression:\"isActive\"}],staticClass:\"dropdown-content\",style:(_vm.contentStyle)},[(_vm.hasHeaderSlot)?_c('div',{staticClass:\"dropdown-item dropdown-header\",class:{ 'is-hovered': _vm.headerHovered },attrs:{\"role\":\"button\",\"tabindex\":\"0\"},on:{\"click\":function($event){return _vm.selectHeaderOrFoterByClick($event, 'header')}}},[_vm._t(\"header\")],2):_vm._e(),_vm._l((_vm.computedData),function(element,groupindex){return [(element.group)?_c('div',{key:groupindex + 'group',staticClass:\"dropdown-item\"},[(_vm.hasGroupSlot)?_vm._t(\"group\",null,{\"group\":element.group,\"index\":groupindex}):_c('span',{staticClass:\"has-text-weight-bold\"},[_vm._v(\" \"+_vm._s(element.group)+\" \")])],2):_vm._e(),_vm._l((element.items),function(option,index){return _c('a',{key:groupindex + ':' + index,staticClass:\"dropdown-item\",class:{ 'is-hovered': option === _vm.hovered },attrs:{\"role\":\"button\",\"tabindex\":\"0\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.setSelected(option, !_vm.keepOpen, $event)}}},[(_vm.hasDefaultSlot)?_vm._t(\"default\",null,{\"option\":option,\"index\":index}):_c('span',[_vm._v(\" \"+_vm._s(_vm.getValue(option, true))+\" \")])],2)})]}),(_vm.isEmpty && _vm.hasEmptySlot)?_c('div',{staticClass:\"dropdown-item is-disabled\"},[_vm._t(\"empty\")],2):_vm._e(),(_vm.hasFooterSlot)?_c('div',{staticClass:\"dropdown-item dropdown-footer\",class:{ 'is-hovered': _vm.footerHovered },attrs:{\"role\":\"button\",\"tabindex\":\"0\"},on:{\"click\":function($event){return _vm.selectHeaderOrFoterByClick($event, 'footer')}}},[_vm._t(\"footer\")],2):_vm._e()],2)])])],1)};\nvar __vue_staticRenderFns__ = [];\n\n  /* style */\n  const __vue_inject_styles__ = undefined;\n  /* scoped */\n  const __vue_scope_id__ = undefined;\n  /* module identifier */\n  const __vue_module_identifier__ = undefined;\n  /* functional template */\n  const __vue_is_functional_template__ = false;\n  /* style inject */\n  \n  /* style inject SSR */\n  \n\n  \n  var Autocomplete = __vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    undefined,\n    undefined\n  );\n\nexport { Autocomplete as A };\n"],"mappings":";;;;;;;;;;;;;;;;;;AAAA,SAASA,CAAC,IAAIC,eAAd,EAA+BC,CAAC,IAAIC,kBAApC,EAAwDC,CAAC,IAAIC,OAA7D,QAA4E,qBAA5E;AACA,SAASC,cAAT,EAAyBC,UAAzB,EAAqCC,eAArC,EAAsDC,qBAAtD,EAA6EC,aAA7E,QAAkG,cAAlG;AACA,SAASC,CAAC,IAAIC,gBAAd,QAAsC,qBAAtC;AACA,SAASZ,CAAC,IAAIa,iBAAd,QAAuC,qBAAvC;AACA,SAASC,CAAC,IAAIC,KAAd,QAA2B,qBAA3B;AAEA,IAAIC,MAAM,GAAG;EACXC,IAAI,EAAE,eADK;EAEXC,UAAU,EAAEjB,eAAe,CAAC,EAAD,EAAKc,KAAK,CAACE,IAAX,EAAiBF,KAAjB,CAFhB;EAGXI,MAAM,EAAE,CAACP,gBAAD,CAHG;EAIXQ,YAAY,EAAE,KAJH;EAKXC,KAAK,EAAE;IACLC,KAAK,EAAE,CAACC,MAAD,EAASC,MAAT,CADF;IAELC,IAAI,EAAE;MACJC,IAAI,EAAEC,KADF;MAEJ,WAAS,SAASC,QAAT,GAAoB;QAC3B,OAAO,EAAP;MACD;IAJG,CAFD;IAQLC,KAAK,EAAE;MACLH,IAAI,EAAEF,MADD;MAEL,WAAS;IAFJ,CARF;IAYLM,SAAS,EAAEC,OAZN;IAaLC,aAAa,EAAED,OAbV;IAcLE,WAAW,EAAEF,OAdR;IAeLG,eAAe,EAAEC,QAfZ;IAgBLC,mBAAmB,EAAEL,OAhBhB;IAiBLM,QAAQ,EAAEN,OAjBL;IAkBLO,oBAAoB,EAAEP,OAlBjB;IAmBLQ,SAAS,EAAER,OAnBN;IAoBLS,SAAS,EAAE,CAAChB,MAAD,EAASD,MAAT,CApBN;IAqBLkB,gBAAgB,EAAE;MAChBf,IAAI,EAAEF,MADU;MAEhB,WAAS;IAFO,CArBb;IAyBLkB,UAAU,EAAElB,MAzBP;IA0BLmB,YAAY,EAAEnB,MA1BT;IA2BLoB,SAAS,EAAEpB,MA3BN;IA4BLqB,kBAAkB,EAAEd,OA5Bf;IA6BLe,YAAY,EAAEf,OA7BT;IA8BLL,IAAI,EAAE;MACJA,IAAI,EAAEF,MADF;MAEJ,WAAS;IAFL,CA9BD;IAkCLuB,WAAW,EAAE;MACXrB,IAAI,EAAEC,KADK;MAEX,WAAS,SAASC,QAAT,GAAoB;QAC3B,OAAO,CAAC,KAAD,EAAQ,OAAR,CAAP;MACD;IAJU,CAlCR;IAwCLoB,gBAAgB,EAAEjB,OAxCb;IAyCLkB,gBAAgB,EAAElB;EAzCb,CALI;EAgDXN,IAAI,EAAE,SAASA,IAAT,GAAgB;IACpB,OAAO;MACLyB,QAAQ,EAAE,IADL;MAELC,OAAO,EAAE,IAFJ;MAGLC,aAAa,EAAE,IAHV;MAILC,aAAa,EAAE,IAJV;MAKLC,QAAQ,EAAE,KALL;MAMLC,QAAQ,EAAE,KAAKjC,KANV;MAOLkC,eAAe,EAAE,KAAKC,YAAL,IAAqB,KAPjC;MAQLC,gBAAgB,EAAE,KAAK5B,SAAL,GAAiB,MAAjB,GAA0B,MARvC;MASL6B,0BAA0B,EAAE,IATvB;MAULC,QAAQ,EAAE,KAVL;MAWLC,KAAK,EAAE,EAXF;MAYLC,eAAe,EAAE,IAZZ;MAaLC,WAAW,EAAE,OAbR;MAcLC,OAAO,EAAEC,SAdJ,CAcc;;IAdd,CAAP;EAiBD,CAlEU;EAmEXC,QAAQ,EAAE;IACRC,YAAY,EAAE,SAASA,YAAT,GAAwB;MACpC,IAAIC,KAAK,GAAG,IAAZ;;MAEA,IAAI,KAAK1B,UAAT,EAAqB;QACnB,IAAI,KAAKC,YAAT,EAAuB;UACrB,IAAI0B,OAAO,GAAG,EAAd;UACA,KAAK5C,IAAL,CAAU6C,OAAV,CAAkB,UAAUC,MAAV,EAAkB;YAClC,IAAIC,KAAK,GAAGlE,cAAc,CAACiE,MAAD,EAASH,KAAK,CAAC1B,UAAf,CAA1B;YACA,IAAI+B,KAAK,GAAGnE,cAAc,CAACiE,MAAD,EAASH,KAAK,CAACzB,YAAf,CAA1B;YACA0B,OAAO,CAACK,IAAR,CAAa;cACXF,KAAK,EAAEA,KADI;cAEXC,KAAK,EAAEA;YAFI,CAAb;UAID,CAPD;UAQA,OAAOJ,OAAP;QACD,CAXD,MAWO;UACL,IAAIM,GAAG,GAAG,EAAV;UACA,KAAKlD,IAAL,CAAU6C,OAAV,CAAkB,UAAUC,MAAV,EAAkB;YAClC,IAAIC,KAAK,GAAGlE,cAAc,CAACiE,MAAD,EAASH,KAAK,CAAC1B,UAAf,CAA1B;YACA,IAAI,CAACiC,GAAG,CAACH,KAAD,CAAR,EAAiBG,GAAG,CAACH,KAAD,CAAH,GAAa,EAAb;YACjBG,GAAG,CAACH,KAAD,CAAH,CAAWE,IAAX,CAAgBH,MAAhB;UACD,CAJD;UAKA,IAAIK,QAAQ,GAAG,EAAf;UACAC,MAAM,CAACC,IAAP,CAAYH,GAAZ,EAAiBL,OAAjB,CAAyB,UAAUE,KAAV,EAAiB;YACxCI,QAAQ,CAACF,IAAT,CAAc;cACZF,KAAK,EAAEA,KADK;cAEZC,KAAK,EAAEE,GAAG,CAACH,KAAD;YAFE,CAAd;UAID,CALD;UAMA,OAAOI,QAAP;QACD;MACF;;MAED,OAAO,CAAC;QACNH,KAAK,EAAE,KAAKhD;MADN,CAAD,CAAP;IAGD,CArCO;IAsCRsD,OAAO,EAAE,SAASA,OAAT,GAAmB;MAC1B,IAAI,CAAC,KAAKZ,YAAV,EAAwB,OAAO,IAAP;MACxB,OAAO,CAAC,KAAKA,YAAL,CAAkBa,IAAlB,CAAuB,UAAUC,OAAV,EAAmB;QAChD,OAAOA,OAAO,CAACR,KAAR,IAAiBQ,OAAO,CAACR,KAAR,CAAcS,MAAtC;MACD,CAFO,CAAR;IAGD,CA3CO;;IA6CR;AACJ;AACA;AACA;IACIC,SAAS,EAAE,SAASA,SAAT,GAAqB;MAC9B,IAAIA,SAAS,GAAG,EAAhB;MACAA,SAAS,CAACT,IAAV,CAAe,KAAKU,KAAL,CAAWC,KAAX,CAAiBC,GAAjB,CAAqBC,aAArB,CAAmC,OAAnC,CAAf;MACAJ,SAAS,CAACT,IAAV,CAAe,KAAKU,KAAL,CAAWI,QAA1B,EAH8B,CAGO;;MAErC,IAAI,KAAKJ,KAAL,CAAWI,QAAX,KAAwBvB,SAA5B,EAAuC;QACrC,IAAIwB,QAAQ,GAAG,KAAKL,KAAL,CAAWI,QAAX,CAAoBE,gBAApB,CAAqC,GAArC,CAAf;QACA,IAAIC,yBAAyB,GAAG,IAAhC;QACA,IAAIC,iBAAiB,GAAG,KAAxB;QACA,IAAIC,cAAc,GAAG5B,SAArB;;QAEA,IAAI;UACF,KAAK,IAAI6B,SAAS,GAAGL,QAAQ,CAACM,MAAM,CAACC,QAAR,CAAR,EAAhB,EAA6CC,KAAlD,EAAyD,EAAEN,yBAAyB,GAAG,CAACM,KAAK,GAAGH,SAAS,CAACI,IAAV,EAAT,EAA2BC,IAAzD,CAAzD,EAAyHR,yBAAyB,GAAG,IAArJ,EAA2J;YACzJ,IAAIS,KAAK,GAAGH,KAAK,CAAC3E,KAAlB;YACA6D,SAAS,CAACT,IAAV,CAAe0B,KAAf;UACD;QACF,CALD,CAKE,OAAOC,GAAP,EAAY;UACZT,iBAAiB,GAAG,IAApB;UACAC,cAAc,GAAGQ,GAAjB;QACD,CARD,SAQU;UACR,IAAI;YACF,IAAI,CAACV,yBAAD,IAA8BG,SAAS,UAAT,IAAoB,IAAtD,EAA4D;cAC1DA,SAAS,UAAT;YACD;UACF,CAJD,SAIU;YACR,IAAIF,iBAAJ,EAAuB;cACrB,MAAMC,cAAN;YACD;UACF;QACF;MACF;;MAED,IAAI,KAAKS,OAAL,CAAaC,KAAb,CAAmBC,WAAvB,EAAoC;QAClC;QACArB,SAAS,CAACT,IAAV,CAAe,KAAK4B,OAAL,CAAahB,GAA5B,EAFkC,CAEA;;QAElC,IAAImB,gBAAgB,GAAG,KAAKH,OAAL,CAAahB,GAAb,CAAiBI,gBAAjB,CAAkC,GAAlC,CAAvB;QACA,IAAIgB,0BAA0B,GAAG,IAAjC;QACA,IAAIC,kBAAkB,GAAG,KAAzB;QACA,IAAIC,eAAe,GAAG3C,SAAtB;;QAEA,IAAI;UACF,KAAK,IAAI4C,UAAU,GAAGJ,gBAAgB,CAACV,MAAM,CAACC,QAAR,CAAhB,EAAjB,EAAsDc,MAA3D,EAAmE,EAAEJ,0BAA0B,GAAG,CAACI,MAAM,GAAGD,UAAU,CAACX,IAAX,EAAV,EAA6BC,IAA5D,CAAnE,EAAsIO,0BAA0B,GAAG,IAAnK,EAAyK;YACvK,IAAIK,aAAa,GAAGD,MAAM,CAACxF,KAA3B;YACA6D,SAAS,CAACT,IAAV,CAAeqC,aAAf;UACD;QACF,CALD,CAKE,OAAOV,GAAP,EAAY;UACZM,kBAAkB,GAAG,IAArB;UACAC,eAAe,GAAGP,GAAlB;QACD,CARD,SAQU;UACR,IAAI;YACF,IAAI,CAACK,0BAAD,IAA+BG,UAAU,UAAV,IAAqB,IAAxD,EAA8D;cAC5DA,UAAU,UAAV;YACD;UACF,CAJD,SAIU;YACR,IAAIF,kBAAJ,EAAwB;cACtB,MAAMC,eAAN;YACD;UACF;QACF;MACF;;MAED,OAAOzB,SAAP;IACD,CAhHO;;IAkHR;AACJ;AACA;IACI6B,cAAc,EAAE,SAASA,cAAT,GAA0B;MACxC,OAAO,CAAC,CAAC,KAAKC,YAAL,WAAT;IACD,CAvHO;;IAyHR;AACJ;AACA;IACIC,YAAY,EAAE,SAASA,YAAT,GAAwB;MACpC,OAAO,CAAC,CAAC,KAAKD,YAAL,CAAkBzC,KAA3B;IACD,CA9HO;;IAgIR;AACJ;AACA;IACI2C,YAAY,EAAE,SAASA,YAAT,GAAwB;MACpC,OAAO,CAAC,CAAC,KAAKC,MAAL,CAAYC,KAArB;IACD,CArIO;;IAuIR;AACJ;AACA;IACIC,aAAa,EAAE,SAASA,aAAT,GAAyB;MACtC,OAAO,CAAC,CAAC,KAAKF,MAAL,CAAYG,MAArB;IACD,CA5IO;;IA8IR;AACJ;AACA;IACIC,aAAa,EAAE,SAASA,aAAT,GAAyB;MACtC,OAAO,CAAC,CAAC,KAAKJ,MAAL,CAAYK,MAArB;IACD,CAnJO;;IAqJR;AACJ;AACA;IACIC,WAAW,EAAE,SAASA,WAAT,GAAuB;MAClC,OAAO,KAAKjF,gBAAL,KAA0B,KAA1B,IAAmC,KAAKA,gBAAL,KAA0B,MAA1B,IAAoC,CAAC,KAAKkB,0BAApF;IACD,CA1JO;IA2JRgE,YAAY,EAAE,SAASA,YAAT,GAAwB;MACpC,IAAI,KAAKpF,SAAL,IAAkB,KAAKgB,QAA3B,EAAqC;QACnC,OAAO,cAAP;MACD;;MAED,OAAO,KAAKX,SAAZ;IACD,CAjKO;IAkKRgF,qBAAqB,EAAE,SAASA,qBAAT,GAAiC;MACtD,IAAI,KAAKrF,SAAT,EAAoB;QAClB,OAAO,IAAP;MACD;;MAED,OAAO,KAAKM,kBAAZ;IACD,CAxKO;IAyKRgF,YAAY,EAAE,SAASA,YAAT,GAAwB;MACpC,OAAO;QACLrF,SAAS,EAAEjC,UAAU,CAAC,KAAKiC,SAAN;MADhB,CAAP;IAGD;EA7KO,CAnEC;EAkPXsF,KAAK,EAAE;IACL;AACJ;AACA;AACA;IACIxE,QAAQ,EAAE,SAASA,QAAT,CAAkByE,MAAlB,EAA0B;MAClC,IAAIC,MAAM,GAAG,IAAb;;MAEA,IAAI,KAAKvF,gBAAL,KAA0B,MAA9B,EAAsC;QACpC,IAAIsF,MAAJ,EAAY;UACV,KAAKE,8BAAL;QACD,CAFD,MAEO;UACL;UACAC,UAAU,CAAC,YAAY;YACrBF,MAAM,CAACC,8BAAP;UACD,CAFS,EAEP,GAFO,CAAV;QAGD;MACF;IACF,CAlBI;;IAoBL;AACJ;AACA;AACA;AACA;AACA;IACI1E,QAAQ,EAAE,SAASA,QAAT,CAAkBjC,KAAlB,EAAyB;MACjC,KAAK6G,KAAL,CAAW,OAAX,EAAoB7G,KAApB,EADiC,CACL;;MAE5B,IAAI8G,YAAY,GAAG,KAAKC,QAAL,CAAc,KAAKnF,QAAnB,CAAnB;;MAEA,IAAIkF,YAAY,IAAIA,YAAY,KAAK9G,KAArC,EAA4C;QAC1C,KAAKgH,WAAL,CAAiB,IAAjB,EAAuB,KAAvB;MACD,CAPgC,CAO/B;;;MAGF,IAAI,KAAK1E,QAAL,KAAkB,CAAC,KAAK3B,WAAN,IAAqBX,KAAvC,CAAJ,EAAmD;QACjD,KAAKgC,QAAL,GAAgB,CAAC,CAAChC,KAAlB;MACD;IACF,CAvCI;;IAyCL;AACJ;AACA;AACA;AACA;IACIA,KAAK,EAAE,SAASA,KAAT,CAAeiH,MAAf,EAAuB;MAC5B,KAAKhF,QAAL,GAAgBgF,MAAhB;IACD,CAhDI;;IAkDL;AACJ;AACA;IACI9G,IAAI,EAAE,SAASA,IAAT,GAAgB;MACpB,IAAI+G,MAAM,GAAG,IAAb,CADoB,CAGpB;;;MACA,IAAI,KAAK1G,SAAT,EAAoB;QAClB,KAAK2G,SAAL,CAAe,YAAY;UACzB,IAAID,MAAM,CAAClF,QAAX,EAAqB;YACnBkF,MAAM,CAACE,iBAAP,CAAyBF,MAAM,CAACrE,YAAhC;UACD,CAFD,MAEO;YACLqE,MAAM,CAACG,UAAP,CAAkB,IAAlB;UACD;QACF,CAND;MAOD,CARD,MAQO;QACL,IAAI,KAAKxF,OAAT,EAAkB;UAChB;UACA,IAAIyF,YAAY,GAAG,KAAKP,QAAL,CAAc,KAAKlF,OAAnB,CAAnB;UACA,IAAI1B,IAAI,GAAG,KAAK0C,YAAL,CAAkB0E,GAAlB,CAAsB,UAAU3I,CAAV,EAAa;YAC5C,OAAOA,CAAC,CAACuE,KAAT;UACD,CAFU,EAERqE,MAFQ,CAED,UAAUC,CAAV,EAAa3I,CAAb,EAAgB;YACxB,OAAO,GAAG4I,MAAH,CAAU7I,kBAAkB,CAAC4I,CAAD,CAA5B,EAAiC5I,kBAAkB,CAACC,CAAD,CAAnD,CAAP;UACD,CAJU,EAIR,EAJQ,CAAX;;UAMA,IAAI,CAACqB,IAAI,CAACuD,IAAL,CAAU,UAAU9E,CAAV,EAAa;YAC1B,OAAOsI,MAAM,CAACH,QAAP,CAAgBnI,CAAhB,MAAuB0I,YAA9B;UACD,CAFI,CAAL,EAEI;YACF,KAAKD,UAAL,CAAgB,IAAhB;UACD;QACF;MACF;IACF;EAlFI,CAlPI;EAsUXM,OAAO,EAAE;IACP;AACJ;AACA;IACIN,UAAU,EAAE,SAASA,UAAT,CAAoBpE,MAApB,EAA4B;MACtC,IAAIA,MAAM,KAAKN,SAAf,EAA0B;MAC1B,KAAKd,OAAL,GAAeoB,MAAf;IACD,CAPM;;IASP;AACJ;AACA;AACA;IACI+D,WAAW,EAAE,SAASA,WAAT,CAAqB/D,MAArB,EAA6B;MACxC,IAAI2E,MAAM,GAAG,IAAb;;MAEA,IAAIC,aAAa,GAAGC,SAAS,CAAClE,MAAV,GAAmB,CAAnB,IAAwBkE,SAAS,CAAC,CAAD,CAAT,KAAiBnF,SAAzC,GAAqDmF,SAAS,CAAC,CAAD,CAA9D,GAAoE,IAAxF;MACA,IAAIC,KAAK,GAAGD,SAAS,CAAClE,MAAV,GAAmB,CAAnB,IAAwBkE,SAAS,CAAC,CAAD,CAAT,KAAiBnF,SAAzC,GAAqDmF,SAAS,CAAC,CAAD,CAA9D,GAAoEnF,SAAhF;MACA,IAAIM,MAAM,KAAKN,SAAf,EAA0B;MAC1B,KAAKf,QAAL,GAAgBqB,MAAhB;MACA,KAAK4D,KAAL,CAAW,QAAX,EAAqB,KAAKjF,QAA1B,EAAoCmG,KAApC;;MAEA,IAAI,KAAKnG,QAAL,KAAkB,IAAtB,EAA4B;QAC1B,IAAI,KAAKlB,aAAT,EAAwB;UACtB,IAAIqD,KAAK,GAAG,KAAKD,KAAL,CAAWC,KAAvB;UACAA,KAAK,CAAC9B,QAAN,GAAiB,EAAjB;UACA8B,KAAK,CAACD,KAAN,CAAYC,KAAZ,CAAkB/D,KAAlB,GAA0B,EAA1B;QACD,CAJD,MAIO;UACL,KAAKiC,QAAL,GAAgB,KAAK8E,QAAL,CAAc,KAAKnF,QAAnB,CAAhB;QACD;;QAED,KAAKyF,UAAL,CAAgB,IAAhB;MACD;;MAEDQ,aAAa,IAAI,KAAKV,SAAL,CAAe,YAAY;QAC1CS,MAAM,CAAC5F,QAAP,GAAkB,KAAlB;MACD,CAFgB,CAAjB;MAGA,KAAKgG,aAAL;IACD,CAtCM;;IAwCP;AACJ;AACA;IACIZ,iBAAiB,EAAE,SAASA,iBAAT,CAA2BvE,YAA3B,EAAyC;MAC1D,IAAIoF,MAAM,GAAG,IAAb;;MAEA,KAAKd,SAAL,CAAe,YAAY;QACzB,IAAIe,gBAAgB,GAAGrF,YAAY,CAACsF,MAAb,CAAoB,UAAUxE,OAAV,EAAmB;UAC5D,OAAOA,OAAO,CAACR,KAAR,IAAiBQ,OAAO,CAACR,KAAR,CAAcS,MAAtC;QACD,CAFsB,CAAvB;;QAIA,IAAIsE,gBAAgB,CAACtE,MAArB,EAA6B;UAC3B,IAAIX,MAAM,GAAGiF,gBAAgB,CAAC,CAAD,CAAhB,CAAoB/E,KAApB,CAA0B,CAA1B,CAAb;;UAEA8E,MAAM,CAACZ,UAAP,CAAkBpE,MAAlB;QACD,CAJD,MAIO;UACLgF,MAAM,CAACZ,UAAP,CAAkB,IAAlB;QACD;MACF,CAZD;IAaD,CA3DM;IA4DPe,OAAO,EAAE,SAASA,OAAT,CAAiBL,KAAjB,EAAwB;MAC/B,IAAIM,GAAG,GAAGN,KAAK,CAACM,GAAhB,CAD+B,CACV;MACrB;;MAEA,IAAIA,GAAG,KAAK,OAAZ,EAAqBN,KAAK,CAACO,cAAN,GAJU,CAIc;;MAE7C,IAAID,GAAG,KAAK,QAAR,IAAoBA,GAAG,KAAK,KAAhC,EAAuC;QACrC,KAAKrG,QAAL,GAAgB,KAAhB;MACD;;MAED,IAAI,KAAKP,WAAL,CAAiB8G,OAAjB,CAAyBF,GAAzB,KAAiC,CAArC,EAAwC;QACtC;QACA,IAAIA,GAAG,KAAK,GAAZ,EAAiBN,KAAK,CAACO,cAAN,GAFqB,CAEG;;QAEzC,IAAIT,aAAa,GAAG,CAAC,KAAK9G,QAAN,IAAkBsH,GAAG,KAAK,KAA9C;;QAEA,IAAI,KAAKxG,OAAL,KAAiB,IAArB,EAA2B;UACzB;UACA;UACA,KAAK2G,6BAAL,CAAmCT,KAAnC,EAA0C,IAA1C,EAAgDF,aAAhD;UACA;QACD;;QAED,KAAKb,WAAL,CAAiB,KAAKnF,OAAtB,EAA+BgG,aAA/B,EAA8CE,KAA9C;MACD;IACF,CArFM;IAsFPU,0BAA0B,EAAE,SAASA,0BAAT,CAAoCV,KAApC,EAA2CW,MAA3C,EAAmD;MAC7E,KAAKF,6BAAL,CAAmCT,KAAnC,EAA0C;QACxCW,MAAM,EAAEA;MADgC,CAA1C;IAGD,CA1FM;;IA4FP;AACJ;AACA;IACIF,6BAA6B,EAAE,SAASA,6BAAT,CAAuCT,KAAvC,EAA8CY,YAA9C,EAA4D;MACzF,IAAId,aAAa,GAAGC,SAAS,CAAClE,MAAV,GAAmB,CAAnB,IAAwBkE,SAAS,CAAC,CAAD,CAAT,KAAiBnF,SAAzC,GAAqDmF,SAAS,CAAC,CAAD,CAA9D,GAAoE,IAAxF;;MAEA,IAAI,KAAKpG,gBAAL,KAA0B,KAAKI,aAAL,IAAsB6G,YAAY,IAAIA,YAAY,CAACD,MAAb,KAAwB,QAAxF,CAAJ,EAAuG;QACrG,KAAK7B,KAAL,CAAW,eAAX,EAA4BkB,KAA5B;QACA,KAAKjG,aAAL,GAAqB,KAArB;QACA,IAAI6G,YAAJ,EAAkB,KAAKtB,UAAL,CAAgB,IAAhB;QAClB,IAAIQ,aAAJ,EAAmB,KAAK7F,QAAL,GAAgB,KAAhB;MACpB;;MAED,IAAI,KAAKL,gBAAL,KAA0B,KAAKI,aAAL,IAAsB4G,YAAY,IAAIA,YAAY,CAACD,MAAb,KAAwB,QAAxF,CAAJ,EAAuG;QACrG,KAAK7B,KAAL,CAAW,eAAX,EAA4BkB,KAA5B;QACA,KAAKhG,aAAL,GAAqB,KAArB;QACA,IAAI4G,YAAJ,EAAkB,KAAKtB,UAAL,CAAgB,IAAhB;QAClB,IAAIQ,aAAJ,EAAmB,KAAK7F,QAAL,GAAgB,KAAhB;MACpB;IACF,CA/GM;;IAiHP;AACJ;AACA;IACI4G,cAAc,EAAE,SAASA,cAAT,CAAwBb,KAAxB,EAA+B;MAC7C,IAAIc,MAAM,GAAG3J,eAAe,CAAC,IAAD,CAAf,GAAwB6I,KAAK,CAACe,YAAN,GAAqB,CAArB,CAAxB,GAAkDf,KAAK,CAACc,MAArE;;MAEA,IAAI,CAAC,KAAKvG,QAAN,IAAkB,KAAKuB,SAAL,CAAe0E,OAAf,CAAuBM,MAAvB,IAAiC,CAAvD,EAA0D;QACxD,IAAI,KAAKrI,SAAL,IAAkB,KAAKqB,OAAvB,IAAkC,KAAKb,oBAA3C,EAAiE;UAC/D,KAAKgG,WAAL,CAAiB,KAAKnF,OAAtB,EAA+B,IAA/B;QACD,CAFD,MAEO;UACL,KAAKG,QAAL,GAAgB,KAAhB;QACD;MACF;IACF,CA9HM;;IAgIP;AACJ;AACA;AACA;IACI+E,QAAQ,EAAE,SAASA,QAAT,CAAkB9D,MAAlB,EAA0B;MAClC,IAAIA,MAAM,KAAK,IAAf,EAAqB;;MAErB,IAAI,OAAO,KAAKrC,eAAZ,KAAgC,WAApC,EAAiD;QAC/C,OAAO,KAAKA,eAAL,CAAqBqC,MAArB,CAAP;MACD;;MAED,OAAOlE,OAAO,CAACkE,MAAD,CAAP,KAAoB,QAApB,GAA+BjE,cAAc,CAACiE,MAAD,EAAS,KAAK1C,KAAd,CAA7C,GAAoE0C,MAA3E;IACD,CA5IM;;IA8IP;AACJ;AACA;AACA;IACI8F,4BAA4B,EAAE,SAASA,4BAAT,CAAsCC,IAAtC,EAA4C;MACxE,IAAIA,IAAI,CAACC,YAAL,KAAsBD,IAAI,CAACE,YAA3B,IAA2CF,IAAI,CAACG,SAAL,GAAiBH,IAAI,CAACC,YAAtB,IAAsCD,IAAI,CAACE,YAA1F,EAAwG;QACtG,KAAKrC,KAAL,CAAW,iBAAX;MACD;IACF,CAtJM;;IAwJP;AACJ;AACA;AACA;IACIF,8BAA8B,EAAE,SAASA,8BAAT,GAA0C;MACxE,IAAIyC,MAAM,GAAG,IAAb;;MAEA,KAAKjC,SAAL,CAAe,YAAY;QACzB;AACR;AACA;AACA;QACQ,IAAIiC,MAAM,CAACtF,KAAP,CAAaI,QAAb,KAA0BvB,SAA9B,EAAyC;;QAEzC,IAAI0G,IAAI,GAAGD,MAAM,CAACtF,KAAP,CAAaI,QAAb,CAAsBoF,qBAAtB,EAAX;;QAEAF,MAAM,CAAC/G,0BAAP,GAAoCgH,IAAI,CAACE,GAAL,IAAY,CAAZ,IAAiBF,IAAI,CAACG,MAAL,KAAgBC,MAAM,CAACC,WAAP,IAAsBC,QAAQ,CAACC,eAAT,CAAyBX,YAA/D,CAArD;;QAEA,IAAIG,MAAM,CAAC5H,YAAX,EAAyB;UACvB4H,MAAM,CAACS,kBAAP;QACD;MACF,CAdD;IAeD,CA9KM;;IAgLP;AACJ;AACA;AACA;IACIC,SAAS,EAAE,SAASA,SAAT,CAAmBC,SAAnB,EAA8B;MACvC,IAAIC,GAAG,GAAGD,SAAS,KAAK,MAAd,GAAuB,CAAvB,GAA2B,CAAC,CAAtC;;MAEA,IAAI,KAAK/H,QAAT,EAAmB;QACjB,IAAI7B,IAAI,GAAG,KAAK0C,YAAL,CAAkB0E,GAAlB,CAAsB,UAAU3I,CAAV,EAAa;UAC5C,OAAOA,CAAC,CAACuE,KAAT;QACD,CAFU,EAERqE,MAFQ,CAED,UAAUC,CAAV,EAAa3I,CAAb,EAAgB;UACxB,OAAO,GAAG4I,MAAH,CAAU7I,kBAAkB,CAAC4I,CAAD,CAA5B,EAAiC5I,kBAAkB,CAACC,CAAD,CAAnD,CAAP;QACD,CAJU,EAIR,EAJQ,CAAX;;QAMA,IAAI,KAAKkH,aAAL,IAAsB,KAAKtE,gBAA/B,EAAiD;UAC/CvB,IAAI,CAAC8J,OAAL,CAAatH,SAAb;QACD;;QAED,IAAI,KAAKuD,aAAL,IAAsB,KAAKvE,gBAA/B,EAAiD;UAC/CxB,IAAI,CAACiD,IAAL,CAAUT,SAAV;QACD;;QAED,IAAIuH,KAAJ;;QAEA,IAAI,KAAKpI,aAAT,EAAwB;UACtBoI,KAAK,GAAG,IAAIF,GAAZ;QACD,CAFD,MAEO,IAAI,KAAKjI,aAAT,EAAwB;UAC7BmI,KAAK,GAAG/J,IAAI,CAACyD,MAAL,GAAc,CAAd,GAAkBoG,GAA1B;QACD,CAFM,MAEA;UACLE,KAAK,GAAG/J,IAAI,CAACoI,OAAL,CAAa,KAAK1G,OAAlB,IAA6BmI,GAArC;QACD;;QAEDE,KAAK,GAAGA,KAAK,GAAG/J,IAAI,CAACyD,MAAL,GAAc,CAAtB,GAA0BzD,IAAI,CAACyD,MAAL,GAAc,CAAxC,GAA4CsG,KAApD;QACAA,KAAK,GAAGA,KAAK,GAAG,CAAR,GAAY,CAAZ,GAAgBA,KAAxB;QACA,KAAKnI,aAAL,GAAqB,KAArB;QACA,KAAKD,aAAL,GAAqB,KAArB;QACA,KAAKuF,UAAL,CAAgBlH,IAAI,CAAC+J,KAAD,CAAJ,KAAgBvH,SAAhB,GAA4BxC,IAAI,CAAC+J,KAAD,CAAhC,GAA0C,IAA1D;;QAEA,IAAI,KAAKhE,aAAL,IAAsB,KAAKvE,gBAA3B,IAA+CuI,KAAK,KAAK/J,IAAI,CAACyD,MAAL,GAAc,CAA3E,EAA8E;UAC5E,KAAK7B,aAAL,GAAqB,IAArB;QACD;;QAED,IAAI,KAAKiE,aAAL,IAAsB,KAAKtE,gBAA3B,IAA+CwI,KAAK,KAAK,CAA7D,EAAgE;UAC9D,KAAKpI,aAAL,GAAqB,IAArB;QACD;;QAED,IAAIkH,IAAI,GAAG,KAAKlF,KAAL,CAAWI,QAAX,CAAoBD,aAApB,CAAkC,mBAAlC,CAAX;QACA,IAAIkG,iBAAiB,GAAG,mCAAxB;;QAEA,IAAI,KAAKnE,aAAL,IAAsB,KAAKtE,gBAA/B,EAAiD;UAC/CyI,iBAAiB,IAAI,sBAArB;QACD;;QAED,IAAI,KAAKjE,aAAL,IAAsB,KAAKvE,gBAA/B,EAAiD;UAC/CwI,iBAAiB,IAAI,sBAArB;QACD;;QAED,IAAIxG,OAAO,GAAGqF,IAAI,CAAC5E,gBAAL,CAAsB+F,iBAAtB,EAAyCD,KAAzC,CAAd;QACA,IAAI,CAACvG,OAAL,EAAc;QACd,IAAIyG,MAAM,GAAGpB,IAAI,CAACG,SAAlB;QACA,IAAIkB,MAAM,GAAGrB,IAAI,CAACG,SAAL,GAAiBH,IAAI,CAACC,YAAtB,GAAqCtF,OAAO,CAACsF,YAA1D;;QAEA,IAAItF,OAAO,CAAC2G,SAAR,GAAoBF,MAAxB,EAAgC;UAC9BpB,IAAI,CAACG,SAAL,GAAiBxF,OAAO,CAAC2G,SAAzB;QACD,CAFD,MAEO,IAAI3G,OAAO,CAAC2G,SAAR,IAAqBD,MAAzB,EAAiC;UACtCrB,IAAI,CAACG,SAAL,GAAiBxF,OAAO,CAAC2G,SAAR,GAAoBtB,IAAI,CAACC,YAAzB,GAAwCtF,OAAO,CAACsF,YAAjE;QACD;MACF,CA5DD,MA4DO;QACL,KAAKjH,QAAL,GAAgB,IAAhB;MACD;IACF,CAtPM;;IAwPP;AACJ;AACA;AACA;IACIuI,OAAO,EAAE,SAASA,OAAT,CAAiBxC,KAAjB,EAAwB;MAC/B,IAAI,KAAKhB,QAAL,CAAc,KAAKnF,QAAnB,MAAiC,KAAKK,QAA1C,EAAoD;QAClD,KAAK+B,GAAL,CAASC,aAAT,CAAuB,OAAvB,EAAgCuG,MAAhC;MACD;;MAED,IAAI,KAAK7J,WAAT,EAAsB;QACpB,KAAKqB,QAAL,GAAgB,IAAhB;;QAEA,IAAI,KAAKxB,SAAT,EAAoB;UAClB;UACA,KAAK4G,iBAAL,CAAuB,KAAKvE,YAA5B;QACD;MACF;;MAED,KAAKP,QAAL,GAAgB,IAAhB;MACA,KAAKuE,KAAL,CAAW,OAAX,EAAoBkB,KAApB;IACD,CA5QM;;IA8QP;AACJ;AACA;IACI0C,MAAM,EAAE,SAASA,MAAT,CAAgB1C,KAAhB,EAAuB;MAC7B,KAAKzF,QAAL,GAAgB,KAAhB;MACA,KAAKuE,KAAL,CAAW,MAAX,EAAmBkB,KAAnB;IACD,CApRM;IAqRP2C,OAAO,EAAE,SAASA,OAAT,GAAmB;MAC1B,IAAI5D,YAAY,GAAG,KAAKC,QAAL,CAAc,KAAKnF,QAAnB,CAAnB;MACA,IAAIkF,YAAY,IAAIA,YAAY,KAAK,KAAK7E,QAA1C,EAAoD;MACpD,KAAK4E,KAAL,CAAW,QAAX,EAAqB,KAAK5E,QAA1B;MACA,KAAK+F,aAAL;IACD,CA1RM;IA2RP2C,cAAc,EAAE,SAASA,cAAT,CAAwB5C,KAAxB,EAA+B;MAC7C,IAAI,KAAK9G,SAAT,EAAoB;QAClB,KAAKgB,QAAL,GAAgB,EAAhB;QACA,KAAK+E,WAAL,CAAiB,IAAjB,EAAuB,KAAvB;;QAEA,IAAI,KAAKrG,WAAT,EAAsB;UACpB,KAAKmD,KAAL,CAAWC,KAAX,CAAiBC,GAAjB,CAAqB4G,KAArB;QACD;MACF,CAPD,MAOO;QACL,KAAK/D,KAAL,CAAW,kBAAX,EAA+BkB,KAA/B;MACD;IACF,CAtSM;IAuSPC,aAAa,EAAE,SAASA,aAAT,GAAyB;MACtC,IAAI6C,MAAM,GAAG,IAAb;;MAEA,IAAI,KAAKC,kBAAT,EAA6B;QAC3B,KAAK3D,SAAL,CAAe,YAAY;UACzB0D,MAAM,CAACE,kBAAP;QACD,CAFD;MAGD;IACF,CA/SM;IAgTPlB,kBAAkB,EAAE,SAASA,kBAAT,GAA8B;MAChD,IAAImB,YAAY,GAAG,KAAKlH,KAAL,CAAWI,QAA9B;MACA,IAAI+G,OAAO,GAAG,KAAKnH,KAAL,CAAWC,KAAX,CAAiBC,GAA/B;;MAEA,IAAIgH,YAAY,IAAIC,OAApB,EAA6B;QAC3B;QACA,IAAIC,IAAI,GAAG,KAAKjG,KAAL,CAAWvC,OAAtB;QACAwI,IAAI,CAACC,SAAL,CAAenI,OAAf,CAAuB,UAAUoI,IAAV,EAAgB;UACrC,OAAOF,IAAI,CAACC,SAAL,CAAeE,MAAf,CAAsBD,IAAtB,CAAP;QACD,CAFD;QAGAF,IAAI,CAACC,SAAL,CAAeG,GAAf,CAAmB,cAAnB;QACAJ,IAAI,CAACC,SAAL,CAAeG,GAAf,CAAmB,SAAnB;;QAEA,IAAI,KAAKC,SAAT,EAAoB;UAClBL,IAAI,CAACC,SAAL,CAAeG,GAAf,CAAmB,cAAnB;QACD;;QAED,IAAIjC,IAAI,GAAG4B,OAAO,CAAC3B,qBAAR,EAAX;QACA,IAAIC,GAAG,GAAGF,IAAI,CAACE,GAAL,GAAWE,MAAM,CAAC+B,OAA5B;QACA,IAAIC,IAAI,GAAGpC,IAAI,CAACoC,IAAL,GAAYhC,MAAM,CAACiC,OAA9B;;QAEA,IAAI,CAAC,KAAKtF,WAAV,EAAuB;UACrBmD,GAAG,IAAI0B,OAAO,CAAChC,YAAf;QACD,CAFD,MAEO;UACLM,GAAG,IAAIyB,YAAY,CAAC/B,YAApB;QACD;;QAED,KAAK1G,KAAL,GAAa;UACXoJ,QAAQ,EAAE,UADC;UAEXpC,GAAG,EAAE,GAAG7B,MAAH,CAAU6B,GAAV,EAAe,IAAf,CAFM;UAGXkC,IAAI,EAAE,GAAG/D,MAAH,CAAU+D,IAAV,EAAgB,IAAhB,CAHK;UAIXG,KAAK,EAAE,GAAGlE,MAAH,CAAUuD,OAAO,CAACY,WAAlB,EAA+B,IAA/B,CAJI;UAKXC,QAAQ,EAAE,GAAGpE,MAAH,CAAUuD,OAAO,CAACY,WAAlB,EAA+B,IAA/B,CALC;UAMXE,MAAM,EAAE;QANG,CAAb;MAQD;IACF;EApVM,CAtUE;EA4pBXC,OAAO,EAAE,SAASA,OAAT,GAAmB;IAC1B,IAAI,OAAOvC,MAAP,KAAkB,WAAtB,EAAmC;MACjCE,QAAQ,CAACsC,gBAAT,CAA0B,OAA1B,EAAmC,KAAKrD,cAAxC;;MAEA,IAAI,KAAKzH,gBAAL,KAA0B,MAA9B,EAAsC;QACpCsI,MAAM,CAACwC,gBAAP,CAAwB,QAAxB,EAAkC,KAAKtF,8BAAvC;MACD;IACF;EACF,CApqBU;EAqqBXuF,OAAO,EAAE,SAASA,OAAT,GAAmB;IAC1B,IAAIC,MAAM,GAAG,IAAb;;IAEA,IAAI,KAAKrL,mBAAL,IAA4B,KAAKgD,KAAL,CAAWI,QAAvC,IAAmD,KAAKJ,KAAL,CAAWI,QAAX,CAAoBD,aAApB,CAAkC,mBAAlC,CAAvD,EAA+G;MAC7G,IAAI+E,IAAI,GAAG,KAAKlF,KAAL,CAAWI,QAAX,CAAoBD,aAApB,CAAkC,mBAAlC,CAAX;MACA+E,IAAI,CAACiD,gBAAL,CAAsB,QAAtB,EAAgC,YAAY;QAC1C,OAAOE,MAAM,CAACpD,4BAAP,CAAoCC,IAApC,CAAP;MACD,CAFD;IAGD;;IAED,IAAI,KAAKxH,YAAT,EAAuB;MACrB,KAAKyD,KAAL,CAAWvC,OAAX,GAAqBvD,qBAAqB,CAAC,KAAK2E,KAAL,CAAWI,QAAZ,CAA1C;MACA,KAAK2F,kBAAL;IACD;EACF,CAnrBU;EAorBXuC,aAAa,EAAE,SAASA,aAAT,GAAyB;IACtC,IAAI,OAAO3C,MAAP,KAAkB,WAAtB,EAAmC;MACjCE,QAAQ,CAAC0C,mBAAT,CAA6B,OAA7B,EAAsC,KAAKzD,cAA3C;;MAEA,IAAI,KAAKzH,gBAAL,KAA0B,MAA9B,EAAsC;QACpCsI,MAAM,CAAC4C,mBAAP,CAA2B,QAA3B,EAAqC,KAAK1F,8BAA1C;MACD;IACF;;IAED,IAAI,KAAK7F,mBAAL,IAA4B,KAAKgD,KAAL,CAAWI,QAAvC,IAAmD,KAAKJ,KAAL,CAAWI,QAAX,CAAoBD,aAApB,CAAkC,mBAAlC,CAAvD,EAA+G;MAC7G,IAAI+E,IAAI,GAAG,KAAKlF,KAAL,CAAWI,QAAX,CAAoBD,aAApB,CAAkC,mBAAlC,CAAX;MACA+E,IAAI,CAACqD,mBAAL,CAAyB,QAAzB,EAAmC,KAAKtD,4BAAxC;IACD;;IAED,IAAI,KAAKvH,YAAT,EAAuB;MACrBpC,aAAa,CAAC,KAAK6F,KAAL,CAAWvC,OAAZ,CAAb;IACD;EACF;AArsBU,CAAb;AAwsBA;;AACA,IAAM4J,cAAc,GAAG5M,MAAvB;AAEA;;AACA,IAAI6M,cAAc,GAAG,SAAjBA,cAAiB,GAAY;EAAC,IAAIC,GAAG,GAAC,IAAR;;EAAa,IAAIC,EAAE,GAACD,GAAG,CAACE,cAAX;;EAA0B,IAAIC,EAAE,GAACH,GAAG,CAACI,KAAJ,CAAUD,EAAV,IAAcF,EAArB;;EAAwB,OAAOE,EAAE,CAAC,KAAD,EAAO;IAACE,WAAW,EAAC,sBAAb;IAAoC,SAAM;MAAE,eAAeL,GAAG,CAACM;IAArB;EAA1C,CAAP,EAAkF,CAACH,EAAE,CAAC,SAAD,EAAWH,GAAG,CAACO,EAAJ,CAAO;IAACC,GAAG,EAAC,OAAL;IAAaC,KAAK,EAAC;MAAC,QAAOT,GAAG,CAACpM,IAAZ;MAAiB,QAAOoM,GAAG,CAACU,IAA5B;MAAiC,WAAUV,GAAG,CAACW,OAA/C;MAAuD,WAAUX,GAAG,CAACY,OAArE;MAA6E,QAAOZ,GAAG,CAACa,IAAxF;MAA6F,cAAab,GAAG,CAACnG,YAA9G;MAA2H,wBAAuBmG,GAAG,CAAClG,qBAAtJ;MAA4K,aAAYkG,GAAG,CAACc,QAA5L;MAAqM,aAAYd,GAAG,CAACe,SAArN;MAA+N,gBAAef,GAAG,CAACtK,eAAlP;MAAkQ,wBAAuB,KAAzR;MAA+R,qBAAoBsK,GAAG,CAACpK;IAAvT,CAAnB;IAA4VoL,EAAE,EAAC;MAAC,SAAQhB,GAAG,CAAC9B,OAAb;MAAqB,SAAQ8B,GAAG,CAACjC,OAAjC;MAAyC,QAAOiC,GAAG,CAAC/B,MAApD;MAA2D,oBAAmB+B,GAAG,CAAC7B,cAAlF;MAAiG,cAAa,mBAAU5C,KAAV,EAAiB;QAAE,OAAOyE,GAAG,CAAC3F,KAAJ,CAAU,YAAV,EAAwBkB,KAAxB,CAAP;MAAwC;IAAzK,CAA/V;IAA0gB0F,QAAQ,EAAC;MAAC,WAAU,CAAC,UAASC,MAAT,EAAgB;QAAC,OAAOlB,GAAG,CAACpE,OAAJ,CAAYsF,MAAZ,CAAP;MAA2B,CAA7C,EAA8C,UAASA,MAAT,EAAgB;QAAC,IAAG,CAACA,MAAM,CAACtN,IAAP,CAAYmI,OAAZ,CAAoB,KAApB,CAAD,IAA6BiE,GAAG,CAACmB,EAAJ,CAAOD,MAAM,CAACE,OAAd,EAAsB,IAAtB,EAA2B,EAA3B,EAA8BF,MAAM,CAACrF,GAArC,EAAyC,CAAC,IAAD,EAAM,SAAN,CAAzC,CAAhC,EAA2F;UAAE,OAAO,IAAP;QAAc;;QAAAqF,MAAM,CAACpF,cAAP;QAAwB,OAAOkE,GAAG,CAAC1C,SAAJ,CAAc,IAAd,CAAP;MAA2B,CAA7N,EAA8N,UAAS4D,MAAT,EAAgB;QAAC,IAAG,CAACA,MAAM,CAACtN,IAAP,CAAYmI,OAAZ,CAAoB,KAApB,CAAD,IAA6BiE,GAAG,CAACmB,EAAJ,CAAOD,MAAM,CAACE,OAAd,EAAsB,MAAtB,EAA6B,EAA7B,EAAgCF,MAAM,CAACrF,GAAvC,EAA2C,CAAC,MAAD,EAAQ,WAAR,CAA3C,CAAhC,EAAiG;UAAE,OAAO,IAAP;QAAc;;QAAAqF,MAAM,CAACpF,cAAP;QAAwB,OAAOkE,GAAG,CAAC1C,SAAJ,CAAc,MAAd,CAAP;MAA6B,CAArZ;IAAX,CAAnhB;IAAs7B+D,KAAK,EAAC;MAAC7N,KAAK,EAAEwM,GAAG,CAACvK,QAAZ;MAAsB6L,QAAQ,EAAC,kBAAUC,GAAV,EAAe;QAACvB,GAAG,CAACvK,QAAJ,GAAa8L,GAAb;MAAkB,CAAjE;MAAkEC,UAAU,EAAC;IAA7E;EAA57B,CAAP,EAA6hC,SAA7hC,EAAuiCxB,GAAG,CAACyB,MAA3iC,EAAkjC,KAAljC,CAAX,CAAH,EAAwkCtB,EAAE,CAAC,YAAD,EAAc;IAACM,KAAK,EAAC;MAAC,QAAO;IAAR;EAAP,CAAd,EAAsC,CAACN,EAAE,CAAC,KAAD,EAAO;IAACuB,UAAU,EAAC,CAAC;MAACvO,IAAI,EAAC,MAAN;MAAawO,OAAO,EAAC,QAArB;MAA8BnO,KAAK,EAAEwM,GAAG,CAACxK,QAAJ,KAAiB,CAACwK,GAAG,CAAC/I,OAAL,IAAgB+I,GAAG,CAAC3G,YAApB,IAAoC2G,GAAG,CAACxG,aAAzD,CAArC;MAA8GgI,UAAU,EAAC;IAAzH,CAAD,CAAZ;IAAkMhB,GAAG,EAAC,UAAtM;IAAiNH,WAAW,EAAC,eAA7N;IAA6O,SAAM;MAAE,iBAAiBL,GAAG,CAACpG,WAAJ,IAAmB,CAACoG,GAAG,CAAChL;IAA3C,CAAnP;IAA6Se,KAAK,EAAEiK,GAAG,CAACjK;EAAxT,CAAP,EAAuU,CAACoK,EAAE,CAAC,KAAD,EAAO;IAACuB,UAAU,EAAC,CAAC;MAACvO,IAAI,EAAC,MAAN;MAAawO,OAAO,EAAC,QAArB;MAA8BnO,KAAK,EAAEwM,GAAG,CAACxK,QAAzC;MAAmDgM,UAAU,EAAC;IAA9D,CAAD,CAAZ;IAAwFnB,WAAW,EAAC,kBAApG;IAAuHtK,KAAK,EAAEiK,GAAG,CAACjG;EAAlI,CAAP,EAAwJ,CAAEiG,GAAG,CAACxG,aAAL,GAAoB2G,EAAE,CAAC,KAAD,EAAO;IAACE,WAAW,EAAC,+BAAb;IAA6C,SAAM;MAAE,cAAcL,GAAG,CAAC1K;IAApB,CAAnD;IAAuFmL,KAAK,EAAC;MAAC,QAAO,QAAR;MAAiB,YAAW;IAA5B,CAA7F;IAA8HO,EAAE,EAAC;MAAC,SAAQ,eAASE,MAAT,EAAgB;QAAC,OAAOlB,GAAG,CAAC/D,0BAAJ,CAA+BiF,MAA/B,EAAuC,QAAvC,CAAP;MAAwD;IAAlF;EAAjI,CAAP,EAA6N,CAAClB,GAAG,CAAC4B,EAAJ,CAAO,QAAP,CAAD,CAA7N,EAAgP,CAAhP,CAAtB,GAAyQ5B,GAAG,CAAC6B,EAAJ,EAA1Q,EAAmR7B,GAAG,CAAC8B,EAAJ,CAAQ9B,GAAG,CAAC3J,YAAZ,EAA0B,UAASc,OAAT,EAAiB4K,UAAjB,EAA4B;IAAC,OAAO,CAAE5K,OAAO,CAACT,KAAT,GAAgByJ,EAAE,CAAC,KAAD,EAAO;MAACtE,GAAG,EAACkG,UAAU,GAAG,OAAlB;MAA0B1B,WAAW,EAAC;IAAtC,CAAP,EAA8D,CAAEL,GAAG,CAAC5G,YAAL,GAAmB4G,GAAG,CAAC4B,EAAJ,CAAO,OAAP,EAAe,IAAf,EAAoB;MAAC,SAAQzK,OAAO,CAACT,KAAjB;MAAuB,SAAQqL;IAA/B,CAApB,CAAnB,GAAmF5B,EAAE,CAAC,MAAD,EAAQ;MAACE,WAAW,EAAC;IAAb,CAAR,EAA6C,CAACL,GAAG,CAACgC,EAAJ,CAAO,MAAIhC,GAAG,CAACiC,EAAJ,CAAO9K,OAAO,CAACT,KAAf,CAAJ,GAA0B,GAAjC,CAAD,CAA7C,CAAtF,CAA9D,EAA2O,CAA3O,CAAlB,GAAgQsJ,GAAG,CAAC6B,EAAJ,EAAjQ,EAA0Q7B,GAAG,CAAC8B,EAAJ,CAAQ3K,OAAO,CAACR,KAAhB,EAAuB,UAASF,MAAT,EAAgBiH,KAAhB,EAAsB;MAAC,OAAOyC,EAAE,CAAC,GAAD,EAAK;QAACtE,GAAG,EAACkG,UAAU,GAAG,GAAb,GAAmBrE,KAAxB;QAA8B2C,WAAW,EAAC,eAA1C;QAA0D,SAAM;UAAE,cAAc5J,MAAM,KAAKuJ,GAAG,CAAC3K;QAA/B,CAAhE;QAAyGoL,KAAK,EAAC;UAAC,QAAO,QAAR;UAAiB,YAAW;QAA5B,CAA/G;QAAgJO,EAAE,EAAC;UAAC,SAAQ,eAASE,MAAT,EAAgB;YAACA,MAAM,CAACgB,eAAP;YAAyB,OAAOlC,GAAG,CAACxF,WAAJ,CAAgB/D,MAAhB,EAAwB,CAACuJ,GAAG,CAACzL,QAA7B,EAAuC2M,MAAvC,CAAP;UAAsD;QAAzG;MAAnJ,CAAL,EAAoQ,CAAElB,GAAG,CAAC9G,cAAL,GAAqB8G,GAAG,CAAC4B,EAAJ,CAAO,SAAP,EAAiB,IAAjB,EAAsB;QAAC,UAASnL,MAAV;QAAiB,SAAQiH;MAAzB,CAAtB,CAArB,GAA4EyC,EAAE,CAAC,MAAD,EAAQ,CAACH,GAAG,CAACgC,EAAJ,CAAO,MAAIhC,GAAG,CAACiC,EAAJ,CAAOjC,GAAG,CAACzF,QAAJ,CAAa9D,MAAb,EAAqB,IAArB,CAAP,CAAJ,GAAuC,GAA9C,CAAD,CAAR,CAA/E,CAApQ,EAAkZ,CAAlZ,CAAT;IAA8Z,CAA5c,CAA1Q,CAAP;EAAguB,CAAvxB,CAAnR,EAA6iCuJ,GAAG,CAAC/I,OAAJ,IAAe+I,GAAG,CAAC3G,YAApB,GAAkC8G,EAAE,CAAC,KAAD,EAAO;IAACE,WAAW,EAAC;EAAb,CAAP,EAAiD,CAACL,GAAG,CAAC4B,EAAJ,CAAO,OAAP,CAAD,CAAjD,EAAmE,CAAnE,CAApC,GAA0G5B,GAAG,CAAC6B,EAAJ,EAAtpC,EAAgqC7B,GAAG,CAACtG,aAAL,GAAoByG,EAAE,CAAC,KAAD,EAAO;IAACE,WAAW,EAAC,+BAAb;IAA6C,SAAM;MAAE,cAAcL,GAAG,CAACzK;IAApB,CAAnD;IAAuFkL,KAAK,EAAC;MAAC,QAAO,QAAR;MAAiB,YAAW;IAA5B,CAA7F;IAA8HO,EAAE,EAAC;MAAC,SAAQ,eAASE,MAAT,EAAgB;QAAC,OAAOlB,GAAG,CAAC/D,0BAAJ,CAA+BiF,MAA/B,EAAuC,QAAvC,CAAP;MAAwD;IAAlF;EAAjI,CAAP,EAA6N,CAAClB,GAAG,CAAC4B,EAAJ,CAAO,QAAP,CAAD,CAA7N,EAAgP,CAAhP,CAAtB,GAAyQ5B,GAAG,CAAC6B,EAAJ,EAAx6C,CAAxJ,EAA0kD,CAA1kD,CAAH,CAAvU,CAAH,CAAtC,CAA1kC,CAAlF,EAAimG,CAAjmG,CAAT;AAA6mG,CAA9sG;;AACA,IAAIM,uBAAuB,GAAG,EAA9B;AAEE;;AACA,IAAMC,qBAAqB,GAAGjM,SAA9B;AACA;;AACA,IAAMkM,gBAAgB,GAAGlM,SAAzB;AACA;;AACA,IAAMmM,yBAAyB,GAAGnM,SAAlC;AACA;;AACA,IAAMoM,8BAA8B,GAAG,KAAvC;AACA;;AAEA;;AAIA,IAAIC,YAAY,GAAGzP,iBAAiB,CAClC;EAAE0P,MAAM,EAAE1C,cAAV;EAA0B2C,eAAe,EAAEP;AAA3C,CADkC,EAElCC,qBAFkC,EAGlCtC,cAHkC,EAIlCuC,gBAJkC,EAKlCE,8BALkC,EAMlCD,yBANkC,EAOlCnM,SAPkC,EAQlCA,SARkC,CAApC;;AAWF,SAASqM,YAAY,IAAIG,CAAzB"},"metadata":{},"sourceType":"module"}