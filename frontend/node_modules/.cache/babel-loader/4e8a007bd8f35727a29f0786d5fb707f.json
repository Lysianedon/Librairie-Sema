{"ast":null,"code":"export default {\n  name: 'LoginView',\n\n  data() {\n    return {\n      hasAnAccount: false\n    };\n  },\n\n  methods: {\n    switchToLogin() {\n      this.hasAnAccount = !this.hasAnAccount;\n    },\n\n    handleLoginOrSignUp() {\n      if (this.hasAnAccount) {\n        axios.post(\"http://localhost:8000/login\", {\n          email,\n          password\n        }, {\n          withCredentials: true\n        }).then(res => {\n          console.log(res.data);\n\n          if (res.data.success) {\n            axios.get(\"http://localhost:8000/dashboard/user\", {\n              withCredentials: true\n            }).then(res => {\n              if (res.data.user.isAdmin) {\n                toast.success(\"Ravi de te revoir, Pauline !\"); // navigate(\"/dashboard/admin\")\n              } else {\n                toast.success(`Ravi de te revoir, ${res.data.user.firstName} !`); // navigate(\"/dashboard/user\")\n              }\n            });\n          }\n        }).catch(error => {\n          console.log(error); // toast.error(\" Email et/ou mot de passe incorrect(s)\")\n        });\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAwCA;EACAA,iBADA;;EAEAC;IACA;MACAC;IADA;EAGA,CANA;;EAOAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;QACAC,MACAC,IADA,CAEA,6BAFA,EAGA;UAAAC;UAAAC;QAAA,CAHA,EAIA;UAAAC;QAAA,CAJA,EAMAC,IANA,CAMAC;UACAC;;UACA;YACAP,MACAQ,GADA,CACA,sCADA,EACA;cACAJ;YADA,CADA,EAIAC,IAJA,CAIAC;cACA;gBACAG,8CADA,CAEA;cACA,CAHA,MAGA;gBACAA,cACA,iDADA,EADA,CAIA;cACA;YACA,CAdA;UAeA;QACA,CAzBA,EA0BAC,KA1BA,CA0BAC;UACAJ,mBADA,CAEA;QACA,CA7BA;MA8BA;IACA;;EArCA;AAPA","names":["name","data","hasAnAccount","methods","switchToLogin","handleLoginOrSignUp","axios","post","email","password","withCredentials","then","res","console","get","toast","catch","error"],"sourceRoot":"src/views","sources":["LoginView.vue"],"sourcesContent":["<template>\n    <div class=\"wrapper\">\n        <div class=\"content\">\n            <!-- <h1>LOGIN PAGE</h1> -->\n            <!-- <img src=\"@/assets/logo.png\"\n                alt=\"\"\n                class=\"logo\"> -->\n            <div class=\"white-space\"></div>\n            <div class=\"login-quote\">\n                <div class=\"login-form\">\n                    <h2 class=\"is-size-2\">Bienvenue</h2>\n                    <h4 class=\"is-size-4\"> {{hasAnAccount ? 'Connectez-vous' : 'Inscrivez-vous'}}</h4>\n                    <input class=\"input is-medium\" type=\"email\" placeholder=\"Email\">\n                    <input class=\"input is-medium\" type=\"password\" placeholder=\"Mot de passe\">\n                    <input :class=\"`input is-medium ${hasAnAccount ? 'is-hidden' : ''}`\" type=\"password\" placeholder=\"Confirmer le mot de passe\">\n                    <input type=\"button\" :value=\"`${hasAnAccount ? 'SE CONNECTER' : 'S\\'INSCRIRE'}`\" class=\"btn-valider\" @click=\"handleLoginOrSignUp\">\n\n                    <div class=\"texts\">\n                        <p>{{hasAnAccount ? 'Vous n\\'avez pas de compte ? ' : 'Vous avez déjà un compte ? '}}\n                            <router-link to=\"\">\n                                <a href=\"\" @click=\"switchToLogin\">\n                                {{hasAnAccount ? 'Inscrivez-vous' : 'Connectez-vous'}}\n                                </a>\n                            </router-link>\n                        </p>\n                        <p class=\"is-size-7\">En vous inscrivant, vous acceptez les <router-link to=\"\"><a href=\"\">conditions d’utilisation et la politique de confitentialité</a> </router-link> </p>\n                    </div>\n                </div>\n                <div class=\"quote-block\">\n                    <p class=\"quote\"> <span class=\"quote-signs left\"> “</span><span class=\"bigger\">R</span>ien <br> ne peut suffire à l'homme que ce qu'il n'a pas. <br><br><span class=\"quote-signs right\">\"</span></p>\n                    <p class=\"has-text-right proverbe\"> -Les pensées et proverbes wolofs (1963)</p>\n                </div>\n\n            </div>\n        </div>\n\n    </div>\n</template>\n\n<script>\nexport default ({\n  name: 'LoginView',\n  data () {\n    return {\n      hasAnAccount: false\n    }\n  },\n  methods: {\n    switchToLogin () {\n      this.hasAnAccount = !this.hasAnAccount\n    },\n    handleLoginOrSignUp () {\n      if (this.hasAnAccount) {\n        axios\n      .post(\n        \"http://localhost:8000/login\",\n        { email, password },\n        { withCredentials: true }\n      )\n      .then((res) => {\n        console.log(res.data)\n        if (res.data.success) {\n          axios\n            .get(\"http://localhost:8000/dashboard/user\", {\n              withCredentials: true,\n            })\n            .then((res) => {\n              if (res.data.user.isAdmin) {\n                toast.success(\"Ravi de te revoir, Pauline !\")\n                // navigate(\"/dashboard/admin\")\n              } else {\n                toast.success(\n                  `Ravi de te revoir, ${res.data.user.firstName} !`\n                )\n                // navigate(\"/dashboard/user\")\n              }\n            })\n        }\n      })\n        .catch((error) => {\n            console.log(error)\n          // toast.error(\" Email et/ou mot de passe incorrect(s)\")\n          })\n      }\n    }\n  }\n})\n</script>\n\n<style scoped>\n@import url('https://fonts.googleapis.com/css2?family=Raleway:wght@300&family=Rufina:wght@400;700&display=swap');\n\n/* .logo{\n  display: block;\n  margin: auto;\n} */\n\n.wrapper{\n    background: url('@/assets/books.png') no-repeat;\n    background-position-x: 55%;\n    background-position-y:bottom;\n    background-size: 29%;\n    overflow: hidden;\n\n}\n.content{\n    /* background: url('@/assets/logo.png') no-repeat, url('@/assets/books.png') no-repeat; */\n    background: url('@/assets/logo.png') no-repeat;\n    background-position-x: center;\n    background-position-y: 3vh;\n    background-size: 20%;\n    text-align: center;\n    /* border: 1px solid black; */\n    margin: 0 auto;\n}\n\n.login-quote{\n    display: flex;\n}\n\n.login-form{\n    /* border: 1px solid black; */\n    font-family: 'Ibarra Real Nova', 'serif';\n    background-color: RGB(255, 248, 227);\n    background-color: #fff1cc9a;;\n    backdrop-filter: blur(5px);\n    border-radius: 5px;\n    margin: 2%;\n    padding-top: 5%;\n    width: 50%;\n}\n\n.quote-block{\n    /* border: 1px solid black; */\n    margin: 2%;\n    width: 50%;\n}\n\n.white-space{\n    height: 7rem;\n}\ninput{\n    margin: auto;\n    width: 75%;\n    margin: 2%;\n}\n\n.btn-valider{\n    color: white;\n    background-color: black;\n    font-weight: bold;\n}\n\n.texts{\n    margin: 6% auto 3%;\n    width: 90%;\n}\n\na{\n    color: black;\n    font-weight: bold;\n\n}\n\n.quote{\n    margin: 5% auto 0 auto;\n    padding-top: 7%;\n    font-size: 3rem;\n    line-height: 175%;\n    text-align: center;\n    font-family: 'Ibarra Real Nova', 'serif';\n    color: black;\n    -webkit-animation: 4s ease 0s normal forwards 1 fadein;\n    animation: 4s ease 0s normal forwards 1 fadein;\n}\n@keyframes fadein{\n    0% { opacity:0; }\n    50% { opacity:.5; }\n    100% { opacity:1; }\n}\n\n@-webkit-keyframes fadein{\n    0% { opacity:0; }\n    50% { opacity:.5; }\n    100% { opacity:1; }\n}\n\n.quote-signs{\n    display: block;\n    font-size: 12rem;\n    text-align: left;\n    font-family: 'Sorts Mill Goudy', serif;\n}\n\n.right{\n    text-align: right;\n    line-height: 12%;\n}\n\n.bigger{\n    font-size: 6rem;\n}\n.proverbe{\n    padding-bottom: -15vh;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}