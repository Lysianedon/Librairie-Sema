(()=>{var e={7600:(e,t,s)=>{"use strict";s.r(t)},4530:(e,t,s)=>{"use strict";s(6992),s(8674),s(9601),s(7727);var o=s(144),a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},n=[],i=s(1001),r={},c=(0,i.Z)(r,a,n,!1,null,null,null);const l=c.exports;s(1539),s(8783),s(3948);var u=s(8345),d=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home"},[t("div",{staticClass:"nav"},[t("NavbarUser")],1),t("div",{staticClass:"sidebar-mobile"},[t("SidebarMobile")],1),t("a",{attrs:{href:"",id:"scrollToTop"}}),t("div",{staticClass:"content"},[t("img",{staticClass:"banner banner-homepage",attrs:{src:s(2962),alt:"banniere de page d'accueil",srcset:""}}),t("img",{staticClass:"banner banner-mobile",attrs:{src:s(8600),alt:"banniere de page d'accueil",srcset:""}}),e.userLibrary&&e.userLibrary.allBooks&&e.userLibrary.allBooks.length>0?t("div",{staticClass:"title-button"},[t("h2",[e._v("MA BIBLIOTHÈQUE")]),t("router-link",{staticClass:"btn-afficher-tout btn-afficher-tout-bigger",attrs:{to:"/section/ma-bibliotheque"}},[e._v("Afficher tout")])],1):e._e(),t("div",{staticClass:"container-books"},[t("Book",{attrs:{bookSelection:e.userLibrary.allBooks,fromGeneralCollection:!1,currentCollection:"ma bibliotheque"},on:{"updated-library":e.updateLibrary}})],1),e.personalisedSuggestion.title?t("div",{staticClass:"personalisedSelection"},[t("h2",{staticClass:"center"},[e._v("SÉLECTIONNÉ POUR VOUS")]),t("Book",{attrs:{personalisedSuggestion:e.personalisedSuggestion},on:{"updated-library":e.updateLibrary}})],1):e._e(),t("div",{staticClass:"title-button"},[t("h2",[e._v("NOUVEAUTÉS")]),t("router-link",{staticClass:"btn-afficher-tout",attrs:{to:"/section/nouveautes"}},[e._v("Afficher tout")])],1),t("div",{staticClass:"container-books"},[t("Book",{attrs:{bookSelection:e.newBooks,fromGeneralCollection:!0},on:{"updated-library":e.updateLibrary}})],1),t("div",{staticClass:"title-button"},[t("h2",[e._v("BIOGRAPHIES")]),t("router-link",{staticClass:"btn-afficher-tout",attrs:{to:"/section/biographies"}},[e._v("Afficher tout")])],1),t("div",{staticClass:"container-books"},[t("Book",{attrs:{bookSelection:e.biographies,fromGeneralCollection:!0},on:{"updated-library":e.updateLibrary}})],1),t("div",{staticClass:"title-button"},[t("h2",[e._v("TOUS LES LIVRES")]),t("router-link",{staticClass:"btn-afficher-tout btn-afficher-tout-bigger",attrs:{to:"/section/tous-les-livres"}},[e._v("Afficher tout")])],1),t("div",{staticClass:"container-books"},[t("Book",{attrs:{bookSelection:e.bookList,fromGeneralCollection:!0},on:{"updated-library":e.updateLibrary}})],1)]),t("a",{staticClass:"haut-de-page",attrs:{href:"#scrollToTop"}},[t("b-tooltip",{attrs:{label:"Remonter",type:"is-white",position:"is-top"}},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-arrow-up"}})],1)],1),t("div",{staticClass:"footer-component"},[t("FooterComponent")],1)])},p=[],f=s(3336),m=(s(9753),s(1249),s(2707),s(7042),s(7327),s(9669)),h=s.n(m),v=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[e.isConnected?t("div",{staticClass:"power-icon",on:{click:e.logout}},[t("b-tooltip",{attrs:{label:"Se déconnecter",type:"is-white",position:"is-right"}},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-power-off"}})],1)],1):e._e(),t("img",{staticClass:"logo",attrs:{src:s(6480),alt:"logo",srcset:""}}),e.isConnected?t("h2",{staticClass:"username"},[e._v(e._s(e.username))]):e._e(),t("router-link",{staticClass:"loginInvitation",attrs:{to:"/login"}},[e.isConnected?e._e():t("h2",[e._v(e._s(e.loginInvitation))])]),t("hr"),t("nav",[t("div",{staticClass:"nav-links"},[t("router-link",{attrs:{to:"/"}},[t("div",{staticClass:"btn-option"},[t("span",{staticClass:"icon"},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-home"}})],1),e._v(" Accueil ")])]),t("router-link",{attrs:{to:"/section/ma-bibliotheque"}},[t("div",{staticClass:"btn-option"},[t("span",{staticClass:"icon"},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-book"}})],1),e._v(" Ma bibliothèque ")])]),t("router-link",{attrs:{to:"/section/favoris"}},[t("div",{staticClass:"btn-option"},[t("span",{staticClass:"icon"},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-heart",color:"red"}})],1),e._v(" Mes favoris ")])])],1),t("div",{staticClass:"white-space"}),t("div",{staticClass:"params"},[e.isConnected?t("router-link",{attrs:{to:"/mon-compte"}},[t("div",{staticClass:"btn-option"},[t("span",{staticClass:"icon"},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-gear"}})],1),e._v(" Mon compte ")])]):e._e(),t("router-link",{attrs:{to:"/aide"}},[t("div",{staticClass:"btn-option"},[t("span",{staticClass:"icon"},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-circle-info"}})],1),e._v(" Aide ")])])],1)])],1)},b=[];const g={name:"NavbarUser",data:function(){return{username:"",isConnected:!1,loginInvitation:"Connectez - vous"}},mounted:function(){var e=this;h().get("http://localhost:".concat("8001","/user/"),{withCredentials:!0}).then((function(t){e.username=t.data.user.firstname,e.isConnected=!0}))["catch"]((function(e){return console.error(e)}))},methods:{logout:function(){var e=this;h().get("http://localhost:".concat("8001","/logout/"),{withCredentials:!0}).then((function(t){t.data.success&&e.$router.push("/login")}))["catch"]((function(e){return console.log(e)}))},navigateToPage:function(){var e=(0,o.iH)(0);return e.value+=1,console.log(e.value),e.value}}},A=g;var k=(0,i.Z)(A,v,b,!1,null,"9e245a14",null);const C=k.exports;s(9254),s(8309);var y=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrap"},[e.bookSelection?t("div",{staticClass:"books"},e._l(e.bookSelection,(function(s,o){return t("div",{key:o,staticClass:"book",attrs:{"v-if":(0,f.Z)(e.bookSelection)===Array}},[e.isUserConnected?t("div",{staticClass:"icons-options"},[t("b-tooltip",{attrs:{label:"Voir",type:"is-black",position:"is-top"}},[t("router-link",{staticClass:"grey",attrs:{to:"/livres/".concat(s._id)}},[t("font-awesome-icon",{staticClass:"icon icon-eye",attrs:{icon:"fa-solid fa-eye"}})],1)],1),e.fromGeneralCollection?t("b-tooltip",{attrs:{label:"Ajouter à la bibliothèque",type:"is-black",position:"is-top"}},[t("font-awesome-icon",{staticClass:"icon",attrs:{icon:"fa-solid fa-circle-plus"},on:{click:function(t){return e.addToLibrary(s._id)}}})],1):e._e(),"favoris"!==e.currentCollection?t("b-tooltip",{attrs:{label:"Ajouter aux favoris",type:"is-black",position:"is-top"}},[t("font-awesome-icon",{staticClass:"icon icon-red",attrs:{icon:"fa-solid fa-heart",color:" rgb(108, 105, 105)"},on:{click:function(t){return e.addToFavorites(s._id)}}})],1):e._e(),e.fromAlreadyReadCollection?e._e():t("b-tooltip",{attrs:{label:"Marquer comme lu",type:"is-black",position:"is-top"}},[t("font-awesome-icon",{staticClass:"icon",attrs:{icon:"fa-solid fa-book-open"},on:{click:function(t){return e.AddToAlreadyRead(s._id)}}})],1),e.fromAlreadyReadCollection?t("b-tooltip",{attrs:{label:"Marquer comme non lu",type:"is-black",position:"is-top"}},[t("font-awesome-icon",{staticClass:"icon",attrs:{icon:"fa-solid fa-book"},on:{click:function(t){e.deleteFromCollection(s._id,e.currentCollection),e.addToLibrary(s._id)}}})],1):e._e(),e.fromGeneralCollection?e._e():t("b-tooltip",{attrs:{label:"Supprimer",type:"is-black",position:"is-top"}},[t("font-awesome-icon",{staticClass:"icon icon-trashcan",attrs:{icon:"fa-solid fa-trash-can"},on:{click:function(t){return e.deleteFromCollection(s._id,e.currentCollection)}}})],1)],1):e._e(),t("router-link",{attrs:{to:"/livres/".concat(s._id)}},[t("img",{staticClass:"img",attrs:{src:s.image,alt:"page de couverture du livre : '".concat(s.title," ' "),srcset:""}})]),t("router-link",{attrs:{to:"/livres/".concat(s._id)}},[t("h3",[e._v(e._s(s.title))])]),t("h4",[e._v("De: "+e._s(s.author))]),t("h4",[e._v("Pays: "+e._s(s.country))])],1)})),0):e._e(),e.personalisedSuggestion?t("div",{staticClass:"personalised-suggestion"},[t("img",{staticClass:"img",attrs:{src:e.personalisedSuggestion.image,alt:"page de couverture du livre : '".concat(e.personalisedSuggestion.title," ' "),srcset:""}}),t("div",{staticClass:"book-infos"},[t("h3",[e._v(e._s(e.personalisedSuggestion.title))]),t("h4",[e._v("De: "+e._s(e.personalisedSuggestion.author))]),t("h4",[e._v("Genre: "+e._s(e.personalisedSuggestion.genre))]),t("h4",[e._v("Pays: "+e._s(e.personalisedSuggestion.country))]),e.personalisedSuggestion.bookStore?t("h4",{staticClass:"ou-acheter"},[e._v(" Où acheter ce livre: "),t("a",{attrs:{href:"".concat(e.personalisedSuggestion.bookStore.link),target:"_blank",rel:"noopener noreferrer"}},[e._v(" "+e._s(e.personalisedSuggestion.bookStore.name)+" ")])]):e._e(),t("h4",{staticClass:"synopsis-title"},[e._v("Synopsis:")]),t("p",[e._v(" "+e._s(e.personalisedSuggestion.synopsis))]),e.isUserConnected?t("div",{staticClass:"btns"},[t("button",{staticClass:"btn-option",on:{click:function(t){return e.addToLibrary(e.personalisedSuggestion._id)}}},[e._v("Ajouter à ma bibliothèque")]),t("button",{staticClass:"btn-option",on:{click:function(t){return e.addToFavorites(e.personalisedSuggestion._id)}}},[e._v("Ajouter à mes favoris")]),t("button",{staticClass:"btn-option",on:{click:function(t){return e.AddToAlreadyRead(e.personalisedSuggestion._id)}}},[e._v('Marquer comme "Déjà lu"')])]):e._e()])]):e._e()])},_=[];const w={name:"BookComponent",data:function(){return{isUserConnected:!1}},props:{bookSelection:{type:Array,required:!1},personalisedSuggestion:{type:Object,required:!1},fromGeneralCollection:{type:Boolean,required:!1},fromAlreadyReadCollection:{type:Boolean,required:!1},currentCollection:{type:String,required:!1}},mounted:function(){var e=this;h().get("http://localhost:".concat("8001","/user"),{withCredentials:!0}).then((function(t){t.data.success&&(e.isUserConnected=!0)}))["catch"]((function(e){return e}))},methods:{addToLibrary:function(e){var t=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=e;h().post("http://localhost:".concat("8001","/user/library/allbooks"),{bookToAddID:o},{withCredentials:!0}).then((function(e){e.data.success&&(t.$emit("updated-library",{updatedLibrary:e.data.userLibrary}),s&&t.$buefy.toast.open({message:"Ajouté à la bibliothèque",type:"is-success"}))}))["catch"]((function(e){return t.$buefy.toast.open({message:"Livre déjà dans votre bibliothèque",type:"is-danger"}),console.error(e)}))},addToFavorites:function(e){var t=this,s=e;h().post("http://localhost:".concat("8001","/user/library/favorites"),{bookToAddID:s},{withCredentials:!0}).then((function(s){s.data.success&&(t.$emit("updated-favorites",{updatedFavorites:s.data.userFavoritesLibrary}),t.$buefy.toast.open({message:"Ajouté aux favoris",type:"is-success"}),t.addToLibrary(e,!1))}))["catch"]((function(e){return t.$buefy.toast.open({message:"Livre déjà dans vos favoris",type:"is-danger"}),console.log(e)}))},deleteFromCollection:function(e,t){var s=this,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("ma bibliotheque"===t){var a=e;h()["delete"]("http://localhost:".concat("8001","/user/library/allbooks"),{withCredentials:!0,data:{bookToDeleteID:a}}).then((function(t){t.data.success&&(s.$emit("updated-library",{updatedLibrary:t.data.userLibrary}),s.deleteFromCollection(e,"favoris",!1),s.deleteFromCollection(e,"alreadyread",!1),o&&s.$buefy.toast.open({message:"Supprimé de votre bibliothèque",type:"is-success"}))}))["catch"]((function(e){return s.$buefy.toast.open({message:"Oups...Erreur, veuillez réessayer",type:"is-danger"}),console.log(e)}))}if("favorites"===t||"favoris"===t){var n=e;h()["delete"]("http://localhost:".concat("8001","/user/library/favorites"),{withCredentials:!0,data:{bookToDeleteID:n}}).then((function(e){e.data.success&&(s.$emit("updated-favorites",{updatedFavorites:e.data.userFavoritesLibrary}),s.$buefy.toast.open({message:"Supprimé de vos favoris",type:"is-success"}))}))["catch"]((function(e){return s.$buefy.toast.open({message:"Oups...Erreur, veuillez réessayer",type:"is-danger"}),console.log(e)}))}if("alreadyread"===t){var i=e;h()["delete"]("http://localhost:".concat("8001","/user/library/alreadyread"),{withCredentials:!0,data:{bookToDeleteID:i}}).then((function(e){e.data.success&&(s.$emit("updated-library",{updatedAlreadyRead:e.data.userAlreadyreadLibrary}),s.$buefy.toast.open({message:'Supprimé de la liste "Déjà lu"',type:"is-success"}))}))}},AddToAlreadyRead:function(e){var t=this,s=e;h().post("http://localhost:".concat("8001","/user/library/alreadyread"),{bookToAddID:s},{withCredentials:!0}).then((function(s){s.data.success&&(t.addToLibrary(e,!1),t.$buefy.toast.open({message:'Livre ajouté à la collection "Déjà lu"',type:"is-success"}))}))["catch"]((function(e){return t.$buefy.toast.open({message:'Livre déjà dans la collection "Déjà lu"',type:"is-danger"}),console.log(e)}))}}},B=w;var S=(0,i.Z)(B,y,_,!1,null,"9e5b6f16",null);const L=S.exports;var x=function(){var e=this,t=e._self._c;return t("div",{staticClass:"footer"},[t("div",{staticClass:"blocks block-one"},[t("router-link",{staticClass:"links",attrs:{to:"/"}},[e._v("A propos")]),t("router-link",{staticClass:"links",attrs:{to:"/aide"}},[e._v("Aide")]),t("router-link",{staticClass:"links",attrs:{to:"/"}},[e._v("Conditions Générales d’utilisation")])],1),t("div",{staticClass:"blocks block-two"},[t("router-link",{staticClass:"links",attrs:{to:"/section/tous-les-livres"}},[e._v("Tous les ouvrages")]),t("router-link",{staticClass:"links",attrs:{to:""}},[e._v("Suivez-nous")]),t("div",{staticClass:"icons"},[t("a",{attrs:{href:"https://www.linkedin.com/in/lysianedon/",target:"_blank",rel:"noopener noreferrer"}},[t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[t("path",{attrs:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"}})])]),t("a",{attrs:{href:"https://github.com/Lysianedon",target:"_blank",rel:"noopener noreferrer"}},[t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512"}},[t("path",{attrs:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}})])]),t("a",{attrs:{href:"https://www.linkedin.com/in/lysianedon/",target:"_blank",rel:"noopener noreferrer"}},[t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[t("path",{attrs:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"}})])])])],1)])},N=[];const R={name:"FooterComponent",data:function(){return{}}},T=R;var E=(0,i.Z)(T,x,N,!1,null,"151e0f67",null);const F=E.exports;var U=function(){var e=this,t=e._self._c;return t("section",[t("b-sidebar",{attrs:{type:"is-white",fullheight:e.fullheight,fullwidth:e.fullwidth,overlay:e.overlay,right:e.right},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[t("div",{staticClass:"p-1"},[t("b-menu",[t("div",{staticClass:"container"},[e.isConnected?t("div",{staticClass:"power-icon",on:{click:e.logout}},[t("b-tooltip",{attrs:{label:"Se déconnecter",type:"is-black",position:"is-right"}},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-power-off"}})],1)],1):e._e(),t("img",{staticClass:"logo",attrs:{src:s(6480),alt:"logo"}}),e.isConnected?t("h2",{staticClass:"username"},[e._v(e._s(e.username))]):e._e(),t("router-link",{staticClass:"loginInvitation",attrs:{to:"/login"}},[e.isConnected?e._e():t("h2",[e._v(e._s(e.loginInvitation))])]),t("hr"),t("nav",[t("div",{staticClass:"nav-links"},[t("router-link",{attrs:{to:"/"}},[t("div",{staticClass:"btn-option"},[t("span",{staticClass:"icon"},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-home"}})],1),e._v(" Accueil ")])]),t("router-link",{attrs:{to:"/ma-bibliotheque"}},[t("div",{staticClass:"btn-option"},[t("span",{staticClass:"icon"},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-book"}})],1),e._v(" Ma bibliothèque ")])]),t("router-link",{attrs:{to:"/favoris"}},[t("div",{staticClass:"btn-option"},[t("span",{staticClass:"icon"},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-heart",color:"red"}})],1),e._v(" Mes favoris ")])])],1),t("div",{staticClass:"white-space"}),t("div",{staticClass:"params"},[e.isConnected?t("router-link",{attrs:{to:"/mon-compte"}},[t("div",{staticClass:"btn-option"},[t("span",{staticClass:"icon"},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-gear"}})],1),e._v(" Mon compte ")])]):e._e(),t("router-link",{attrs:{to:"/aide"}},[t("div",{staticClass:"btn-option"},[t("span",{staticClass:"icon"},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-circle-info"}})],1),e._v(" Aide ")])])],1)])],1)])],1)]),t("div",{staticClass:"sidebar-mobile-button"},[t("b-tooltip",{attrs:{label:"Menu",type:"is-black",position:"is-right"}},[t("b-button",{on:{click:function(t){e.open=!0}}},[t("font-awesome-icon",{staticClass:"icon-button",attrs:{icon:"fa-solid fa-bars"}})],1)],1)],1)],1)},q=[];const P={data:function(){return{open:!1,overlay:!0,fullheight:!1,fullwidth:!1,right:!1,username:"",isConnected:!1,loginInvitation:"Connectez - vous"}},mounted:function(){var e=this;h().get("http://localhost:".concat("8001","/user/"),{withCredentials:!0}).then((function(t){e.username=t.data.user.firstname,e.isConnected=!0}))["catch"]((function(e){return console.error(e)}))},methods:{logout:function(){var e=this;h().get("http://localhost:".concat("8001","/logout/"),{withCredentials:!0}).then((function(t){t.data.success&&e.$router.push("/login")}))["catch"]((function(e){return console.log(e)}))}}},V=P;var $=(0,i.Z)(V,U,q,!1,null,"75a76345",null);const I=$.exports,j={name:"HomeView",data:function(){return{username:"",userLibrary:[],userInfos:{},bookList:[],newBooks:[],biographies:[],personalisedSuggestion:{}}},components:{NavbarUser:C,Book:L,FooterComponent:F,SidebarMobile:I},beforeMount:function(){var e=this;h().get("http://localhost:".concat("8001","/user"),{withCredentials:!0}).then((function(t){t.data.success&&(e.username=t.data.user.firstname,e.userInfos=t.data.user)}))["catch"]((function(e){return console.log(e)}))},mounted:function(){var e=this;h().get("http://localhost:".concat("8001","/books"),{withCredentials:!0}).then((function(t){if(t.data.success){var s=t.data.bookList,o=function e(t){var s={};for(var o in t)if("object"!==(0,f.Z)(t[o])||Array.isArray(t[o]))s[o]=t[o];else{var a=e(t[o]);for(var n in a)s[o+n]=a[n]}return s},a=s.map((function(e){return e=o(e),e})),n=a.slice().sort((function(e,t){return t.dateAddedparsedFormat-e.dateAddedparsedFormat}));n.length=4,e.newBooks=n;var i=s.filter((function(e){return"biographie"===e.genre.toLowerCase()||"autobiographie"===e.genre.toLowerCase()}));i.length=4,e.biographies=i,s.length=4,e.bookList=s,h().get("http://localhost:".concat("8001","/user/library/personalised-suggestion"),{withCredentials:!0}).then((function(t){t.data.success&&(e.personalisedSuggestion=t.data.personalisedSuggestion)})),h().get("http://localhost:".concat("8001","/user/library/"),{withCredentials:!0}).then((function(t){if(t.data.success){var s=t.data.userLibrary;s.allBooks.length>4&&(s.allBooks.length=4),e.userLibrary=s}}))}}))["catch"]((function(e){return console.log(e)}))},methods:{updateLibrary:function(e){this.userLibrary.allBooks=e.updatedLibrary,this.userLibrary.allBooks.length>4&&(this.userLibrary.allBooks.length=4)}}},O=j;var z=(0,i.Z)(O,d,p,!1,null,"dfac7ce4",null);const M=z.exports;var G=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper"},[t("div",{staticClass:"content"},[e.errorLogin||e.errorSignup||e.UserAlreadyExists||e.errorEmailFormat?t("div",{staticClass:"notification is-danger is-light column is-6"},[e.errorLogin?t("p",{staticClass:"error-notif"},[e._v("Oups... Identifiants incorrects..!")]):e._e(),e.errorSignup?t("p",{staticClass:"error-notif"},[e._v("Les deux mots de passe doivent être identiques ")]):e._e(),e.UserAlreadyExists?t("p",{staticClass:"error-notif"},[e._v("Compte déjà existant. Essayez de vous connecter. ")]):e._e(),e.errorEmailFormat?t("p",{staticClass:"error-notif"},[e._v("Format d'email incorect. ")]):e._e(),t("button",{staticClass:"delete"})]):e._e(),t("div",{staticClass:"white-space"}),t("div",{staticClass:"login-quote"},[t("div",{staticClass:"login-form"},[t("h2",{staticClass:"is-size-2 is-size-3-mobile"},[e._v("Bienvenue")]),t("h4",{staticClass:"is-size-4 is-size-5-mobile"},[e._v(" "+e._s(e.userHasAnAccount?"Connectez - vous":"Inscrivez - vous"))]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"input is-medium",attrs:{type:"email",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input is-medium",attrs:{type:"password",placeholder:"Mot de passe"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.passwordConfirmation,expression:"passwordConfirmation"}],class:"input is-medium ".concat(e.userHasAnAccount?"is-hidden":""),attrs:{type:"password",placeholder:"Confirmer le mot de passe"},domProps:{value:e.passwordConfirmation},on:{input:function(t){t.target.composing||(e.passwordConfirmation=t.target.value)}}}),t("input",{staticClass:"btn-valider",attrs:{type:"button",value:"".concat(e.userHasAnAccount?"SE CONNECTER":"S'INSCRIRE")},on:{click:e.handleLoginOrSignUp}}),t("div",{staticClass:"texts"},[t("p",[e._v(e._s(e.userHasAnAccount?"Vous n'avez pas de compte ? ":"Vous avez déjà un compte ? ")+" "),t("router-link",{attrs:{to:""}},[t("a",{attrs:{href:""},on:{click:e.switchToLogin}},[e._v(" "+e._s(e.userHasAnAccount?"Inscrivez-vous":"Connectez-vous")+" ")])])],1),t("p",{staticClass:"is-size-7"},[e._v("En vous inscrivant, vous acceptez les "),t("router-link",{attrs:{to:""}},[t("a",{attrs:{href:""}},[e._v("conditions d’utilisation et la politique de confitentialité")])])],1)])]),e._m(0)])])])},D=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"quote-block"},[t("p",{staticClass:"quote"},[t("span",{staticClass:"quote-signs left"},[e._v(" “")]),t("span",{staticClass:"bigger"},[e._v("R")]),e._v("ien "),t("br"),e._v(" ne peut suffire à l'homme que ce qu'il n'a pas. "),t("br"),t("br"),t("span",{staticClass:"quote-signs right"},[e._v('"')])]),t("p",{staticClass:"has-text-right proverbe"},[e._v(" -Les pensées et proverbes wolofs (1963)")])])}],Z=s(4648);s(4916),s(4723),s(2564);const H={name:"LoginView",data:function(){return{userHasAnAccount:!1,firstname:"",email:"",password:"",passwordConfirmation:"",user:{},errorLogin:!1,errorSignup:!1,errorEmailFormat:!1,UserAlreadyExists:!1}},methods:{switchToLogin:function(){this.userHasAnAccount=!this.userHasAnAccount},handleLoginOrSignUp:function(){var e=this;if(!this.email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/))return this.errorEmailFormat=!0,setTimeout((function(){e.errorEmailFormat=!1}),2600),null;if(this.userHasAnAccount&&h().post("http://localhost:".concat("8001","/login"),{email:this.email,password:this.password},{withCredentials:!0}).then((function(t){if(t.data.success)return t.data.user.isAdmin?(e.$router.push("/admin/back-office/lecteurs"),null):(e.$router.push("/"),null)}))["catch"]((function(t){return e.errorLogin=!0,setTimeout((function(){e.errorLogin=!1}),2e3),t})),!this.userHasAnAccount){if(this.password!==this.passwordConfirmation)return this.errorSignup=!0,setTimeout((function(){e.errorSignup=!1}),2600),null;var t={firstname:" ",email:this.email,password:this.password,age:"Non indiqué",isAdmin:!1,preferences:{goals:[],interests:[]},books:{alreadyRead:[],favorites:[],allBooks:[]}};h().post("http://localhost:".concat("8001","/signup"),(0,Z.Z)({},t),{withCredentials:!0}).then((function(t){console.log(t.data),t.data.success&&e.$router.push("/inscription/preferences")}))["catch"]((function(t){return e.UserAlreadyExists=!0,setTimeout((function(){e.UserAlreadyExists=!1}),2600),console.log(t)}))}}}},J=H;var X=(0,i.Z)(J,G,D,!1,null,"f0c5ab12",null);const W=X.exports;var K=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper"},[t("div",{staticClass:"content pb-6"},[t("img",{staticClass:"logo",attrs:{src:s(6949),alt:"logo",srcset:""}}),t("h1",{staticClass:"title-inscription is-size-2-tablet has-text-centered is-size-4-mobile p-2"},[e._v("Faisons connaissance, à livre ouvert...")]),t("ButtonsAgeOptions",{attrs:{ageArr:e.ageArr,goalsArr:e.goalsArr,interestsArr:e.interestsArr,ValidateButtonValue:"Valider"}})],1)])},Q=[],Y=(s(6699),s(2023),function(){var e=this,t=e._self._c;return t("div",[e.NotifErrorEmptyVal?t("div",{staticClass:"notification is-danger is-light column is-6"},[t("p",{staticClass:"has-text-centered mt-2"},[e._v("Des champs sont vides. Veuillez compléter tout le formulaire. ")]),t("button",{staticClass:"delete"})]):e._e(),e.hideName?e._e():t("h2",{staticClass:"is-size-4 has-text-centered is-size-4-mobile"},[e._v("Je m'appelle:")]),e.hideName?e._e():t("input",{directives:[{name:"model",rawName:"v-model",value:e.firstname,expression:"firstname"}],staticClass:"input input-firstname is-medium",attrs:{type:"text",name:"firstname",id:"firstname"},domProps:{value:e.firstname},on:{input:function(t){t.target.composing||(e.firstname=t.target.value)}}}),t("h2",{staticClass:"is-size-4 has-text-centered"},[e._v("J'ai:")]),t("div",{staticClass:"buttons"},e._l(e.ageArr,(function(s){return t("div",{key:s},[t("input",{class:"btn-option btn-ages-options ".concat(s===e.age?"selected":""),attrs:{type:"button",value:s},on:{click:e.toggleButton}})])})),0),t("h2",{staticClass:"is-size-4 has-text-centered title-goals"},[e._v("Je suis ici pour...")]),t("h3",{staticClass:"is-size-6 has-text-centered"},[e._v("Plusieurs choix possibles")]),t("div",{staticClass:"buttons"},e._l(e.goalsArr,(function(s){return t("div",{key:s},[t("input",{class:"btn-option btn-goals-options ".concat(e.goals.includes(s)?"selected":""),attrs:{type:"button",value:s},on:{click:e.toggleButton}})])})),0),t("h2",{staticClass:"is-size-4 has-text-centered title-interests"},[e._v("Je suis plutôt intéressé.e par les...")]),t("h3",{staticClass:"is-size-6 has-text-centered"},[e._v("Plusieurs choix possibles")]),t("div",{staticClass:"buttons"},e._l(e.interestsArr,(function(s){return t("div",{key:s},[t("input",{class:"btn-option btn-interests-options ".concat(e.interests.includes(s)?"selected":""," "),attrs:{type:"button",value:s},on:{click:e.toggleButton}})])})),0),t("button",{staticClass:"btn-valider",on:{click:e.validateForm}},[e._v(e._s(e.ValidateButtonValue))])])}),ee=[],te=(s(2222),s(9554),s(4747),s(629));const se={name:"ButtonsAgeOptionsComponent",data:function(){return{firstname:"",age:"",goals:[],interests:[],NotifErrorEmptyVal:!1}},props:{ageArr:{type:Array,required:!0},goalsArr:{type:Array,required:!0},interestsArr:{type:Array,required:!0},ValidateButtonValue:{type:String,required:!0},hideName:{type:Boolean,required:!1}},mounted:function(){var e=this;h().get("http://localhost:".concat("8001","/user/"),{withCredentials:!0}).then((function(t){e.firstname=t.data.user.firstname,e.age=t.data.user.age,e.goals=t.data.user.preferences.goals,e.interests=t.data.user.preferences.interests,e.$store.commit("updateAge",e.age),e.$store.commit("updateGoals",e.goals),e.interests=e.interests.map((function(t){return e.putToPlural(t)})),e.$store.commit("updateInterests",e.interests)}))["catch"]((function(e){return console.error(e)}))},methods:(0,Z.Z)((0,Z.Z)({},(0,te.nv)(["updateAge","addNewGoals","removeGoals","addNewInterests","removeInterests","putWordsToSingular","updateInterests"])),{},{putToPlural:function(e){return"biographie"!==e.toLowerCase()&&"conte"!==e.toLowerCase()&&"roman"!==e.toLowerCase()||(e=e.concat("","s")),e},validateForm:function(){var e=this,t=this.firstname,s=this.$store.state.age,o=this.$store.state.preferences.goals,a=this.$store.state.preferences.interests;if(0===s.length||0===o.length||0===a.length)return this.NotifErrorEmptyVal=!0,setTimeout((function(){e.NotifErrorEmptyVal=!1}),1800),console.error("Champ(s) vide(s)");if(!this.hideName&&0===t.length)return this.NotifErrorEmptyVal=!0,setTimeout((function(){e.NotifErrorEmptyVal=!1}),1800),console.error("Champ(s) vide(s)");this.$store.commit("putWordsToSingular"),a=this.$store.state.preferences.interests;var n={firstname:t,age:s,preferences:{goals:o,interests:a}};h().put("http://localhost:".concat("8001","/user/"),(0,Z.Z)({},n),{withCredentials:!0}).then((function(t){console.log(t.data),t.data.success&&(e.$buefy.toast.open({message:"Enregistré",type:"is-success"}),setTimeout((function(){e.$router.push("/")}),1300))}))["catch"]((function(e){return console.error(e)}))},toggleButton:function(e){var t=this;e.target.className.includes("btn-ages-options")&&document.querySelectorAll(".btn-ages-options").forEach((function(s){s!==e.target&&s.classList.remove("selected"),s===e.target&&(e.target.className.includes("selected")?(e.target.classList.remove("selected"),t.age="",t.$store.commit("updateAge",t.age)):e.target.className.includes("selected")||(e.target.classList.add("selected"),t.age=s.value,t.$store.commit("updateAge",t.age)))})),e.target.className.includes("btn-goals-options")&&document.querySelectorAll(".btn-goals-options").forEach((function(s){s===e.target&&(e.target.className.includes("selected")?(e.target.classList.remove("selected"),t.$store.commit("removeGoals",s.value)):e.target.className.includes("selected")||(e.target.classList.add("selected"),t.$store.commit("addNewGoals",s.value)))})),e.target.className.includes("btn-interests-options")&&document.querySelectorAll(".btn-interests-options").forEach((function(s){s===e.target&&(e.target.className.includes("selected")?(e.target.classList.remove("selected"),t.$store.commit("removeInterests",s.value)):e.target.className.includes("selected")||(e.target.classList.add("selected"),t.$store.commit("addNewInterests",s.value)))}))}})},oe=se;var ae=(0,i.Z)(oe,Y,ee,!1,null,"7933655a",null);const ne=ae.exports,ie={name:"InscriptionView",components:{ButtonsAgeOptions:ne},data:function(){return{userInfos:{firstname:"",age:"",password:"",email:"",preferences:{goals:[],interests:[]},books:{alreadyRead:[],toRead:[],allBooks:[]}},ageArr:["Entre 12 et 17 ans","Entre 18 et 24 ans","Entre 25 et 30 ans","Plus de 30 ans","Je ne souhaite pas \nrépondre"],goalsArr:["Découvrir des \nauteurs africains","Effectuer des \nrecherches","Par curiosité"],interestsArr:["Biographies","Contes","Romans","Tout !"]}}},re=ie;var ce=(0,i.Z)(re,K,Q,!1,null,"6e232d2a",null);const le=ce.exports;var ue=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sectionview"},[t("div",{staticClass:"nav"},[t("NavbarUser")],1),t("div",{staticClass:"sidebar-mobile"},[t("SidebarMobile")],1),t("a",{attrs:{href:"",id:"scrollToTop"}}),e.isUserConnected?e._e():t("div",{staticClass:"login-wrapper"},[t("img",{staticClass:"banner home-banner",attrs:{src:e.getImgUrl(e.getCurrentBanner),alt:"banniere",srcset:""}}),t("div",{staticClass:"login-invitation"},[t("h2",[e._v("Qui va là ? "),t("font-awesome-icon",{attrs:{icon:"fa-solid fa-eye"}}),t("font-awesome-icon",{attrs:{icon:"fa-solid fa-eye"}})],1),t("h2",[e._v("Vous devez être connecté pour accéder à cette page ")]),t("router-link",{staticClass:"router-link",attrs:{to:"/login"}},[t("h2",{staticClass:"login-link"},[e._v("Connectez-vous ou inscrivez vous ici")])])],1)]),e.isUserConnected?t("div",{staticClass:"content"},[t("img",{class:"banner ".concat("favoris"===e.getCurrentCollection?"banner-favorites":""," ").concat("ma bibliotheque"===e.getCurrentCollection?"banner-library":""," ").concat("favoris"!==e.getCurrentCollection&&"ma bibliotheque"!==e.getCurrentCollection?"home-banner":""),attrs:{src:e.getImgUrl(e.getCurrentBanner),alt:"banniere",srcset:""}}),t("h2",{staticClass:"is-size-2 has-text-centered-mobile"},[e._v(" "+e._s(e.getCurrentSectionTitle))]),e.getCurrentBookCollection?t("div",{staticClass:"books"},e._l(e.getCurrentBookCollection,(function(s,o){return t("div",{key:o},[e.isUserConnected?t("Book",{staticClass:"book-component",attrs:{bookSelection:[s],currentCollection:e.getCurrentCollection,fromGeneralCollection:e.fromGeneralCollection},on:{"updated-library":e.updateLibrary}}):e._e()],1)})),0):e._e(),e.getCurrentCollection===e.currentCollections.bibliotheque?t("h2",{staticClass:"is-size-2 has-text-centered-mobile"},[e._v("Déjà lus ("+e._s(e.getNumberOfAlreadyReadBooks)+")")]):e._e(),0===e.getAlreadyReadBookCollection.length&&e.getCurrentCollection===e.currentCollections.bibliotheque?t("h3",{staticClass:"h3-notif-no-books-read"},[e._v("Vous n'avez lu aucun livre pour le moment.")]):e._e(),e.getCurrentCollection===e.currentCollections.bibliotheque?t("div",{staticClass:"container-books"},[t("Book",{attrs:{bookSelection:e.getAlreadyReadBookCollection,fromGeneralCollection:!1,fromAlreadyReadCollection:!0,currentCollection:"alreadyread"},on:{"updated-library":e.updateLibrary}})],1):e._e(),t("a",{staticClass:"haut-de-page",attrs:{href:"#scrollToTop"}},[t("b-tooltip",{attrs:{label:"Remonter",type:"is-white",position:"is-top"}},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-arrow-up"}})],1)],1),t("div",{staticClass:"footer-component"},[t("FooterComponent")],1)]):e._e()])},de=[];const pe={name:"SectionView",data:function(){return{isUserConnected:!1,banners:{default:"banner.png",favoris:"banner-favorites.png",bibliotheque:"banner-library.png"},sectionTitles:{bibliotheque:"Ma bibliothèque",favoris:"Mes favoris",contes:"Tous les contes",romans:"Tous les romans",nouveautes:"Toutes les nouveautés",biographies:"Toutes les biographies",bandesDessinees:"Toutes les bandes dessinées",tousLesLivres:"Tous les livres"},currentCollections:{bibliotheque:"ma bibliotheque",favoris:"favoris",contes:"Tous les contes",romans:"Tous les romans",nouveautes:"Toutes les nouveautés",biographies:"Toutes les biographies",bandesDessinees:"Toutes les bandes dessinées",tousLesLivres:"Tous les livres"},backendRouteNames:{userLibrary:"user/library",books:"books"},bookSelection:[],alreadyReadBookSelection:[],fromGeneralCollection:!1}},components:{NavbarUser:C,FooterComponent:F,SidebarMobile:I,Book:L},computed:{getCurrentSectionTitle:function(e){return e=this.$route.params.sectionview,"favoris"===e?this.sectionTitles.favoris:"ma-bibliotheque"===e?this.sectionTitles.bibliotheque:"contes"===e?this.sectionTitles.contes:"romans"===e?this.sectionTitles.romans:"nouveautes"===e?this.sectionTitles.nouveautes:"biographies"===e?this.sectionTitles.biographies:"tous-les-livres"===e?this.sectionTitles.tousLesLivres:"bandes-dessinees"===e?this.sectionTitles.bandesDessinees:"Tous les résultats"},getCurrentCollection:function(e){return e=this.$route.params.sectionview,"favoris"===e?this.currentCollections.favoris:"ma-bibliotheque"===e?this.currentCollections.bibliotheque:"contes"===e?this.currentCollections.contes:"romans"===e?this.currentCollections.romans:"nouveautes"===e?this.currentCollections.nouveautes:"biographies"===e?this.currentCollections.biographies:"tous-les-livres"===e?this.currentCollections.tousLesLivres:"bandes-dessinees"===e?this.currentCollections.bandesDessinees:"not found"},getCurrentBanner:function(e){return e=this.$route.params.sectionview,"favoris"===e?this.banners.favoris:"ma-bibliotheque"===e?this.banners.bibliotheque:this.banners["default"]},getBackendRoute:function(e){return e=this.$route.params.sectionview,"favoris"===e||"ma-bibliotheque"===e?this.backendRouteNames.userLibrary:this.backendRouteNames.books},getCurrentBookCollection:function(e){return e=this.$route.params.sectionview,this.getBookCollection(e,this.getBackendRoute)},getAlreadyReadBookCollection:function(){return this.alreadyReadBookSelection},getNumberOfAlreadyReadBooks:function(){return this.alreadyReadBookSelection.length}},mounted:function(){var e=this;h().get("http://localhost:".concat("8001","/user/"),{withCredentials:!0}).then((function(t){t.data.success?e.isUserConnected=!0:e.isUserConnected=!1}))["catch"]((function(t){return e.isUserConnected=!1,console.error(t)}));var t=this.$route.params.sectionview;"ma-bibliotheque"===t&&(this.fromGeneralCollection=!1,h().get("http://localhost:".concat("8001","/").concat(this.backendRouteName),{withCredentials:!0}).then((function(t){t.data.success&&(e.bookSelection=t.data.userLibrary.allBooks,e.alreadyReadBookSelection=t.data.userLibrary.alreadyRead)}))["catch"]((function(e){return e}))),"favoris"===t&&(this.fromGeneralCollection=!1,h().get("http://localhost:".concat("8001","/").concat(this.backendRouteName),{withCredentials:!0}).then((function(t){t.data.success&&(e.bookSelection=t.data.userLibrary.favorites)}))["catch"]((function(e){return e}))),"contes"===t&&(this.fromGeneralCollection=!0,h().get("http://localhost:".concat("8001","/").concat(this.backendRouteName),{withCredentials:!0}).then((function(t){if(t.data.success){var s=t.data.bookList;s=s.filter((function(e){return"conte"===e.genre.toLowerCase()})),e.bookSelection=s}}))["catch"]((function(e){return e}))),"romans"===t&&(this.fromGeneralCollection=!0,h().get("http://localhost:".concat("8001","/").concat(this.backendRouteName),{withCredentials:!0}).then((function(t){if(t.data.success){var s=t.data.bookList;s=s.filter((function(e){return"roman"===e.genre.toLowerCase()})),e.bookSelection=s}}))["catch"]((function(e){return e}))),"bandes-dessinees"===t&&(this.fromGeneralCollection=!0,h().get("http://localhost:".concat("8001","/").concat(this.backendRouteName),{withCredentials:!0}).then((function(t){if(t.data.success){var s=t.data.bookList;s=s.filter((function(e){return"bande dessinée"===e.genre.toLowerCase()})),e.bookSelection=s}}))["catch"]((function(e){return e}))),"biographies"===t&&(this.fromGeneralCollection=!0,h().get("http://localhost:".concat("8001","/").concat(this.backendRouteName),{withCredentials:!0}).then((function(t){if(t.data.success){var s=t.data.bookList;s=s.filter((function(e){return"biographie"===e.genre.toLowerCase()||"autobiographie"===e.genre.toLowerCase()})),e.bookSelection=s}}))["catch"]((function(e){return e}))),"tous-les-livres"===t&&(this.fromGeneralCollection=!0,h().get("http://localhost:".concat("8001","/").concat(this.backendRouteName),{withCredentials:!0}).then((function(t){t.data.success&&(console.log(t.data),e.bookSelection=t.data.bookList)}))["catch"]((function(e){return e}))),"nouveautes"===t&&(this.fromGeneralCollection=!0,h().get("http://localhost:".concat("8001","/").concat(this.backendRouteName),{withCredentials:!0}).then((function(t){if(t.data.success){console.log(t.data),e.bookSelection=t.data.bookList;var s=t.data.bookList,o=function e(t){var s={};for(var o in t)if("object"!==(0,f.Z)(t[o])||Array.isArray(t[o]))s[o]=t[o];else{var a=e(t[o]);for(var n in a)s[o+n]=a[n]}return s},a=s.map((function(e){return e=o(e),e})),n=a.slice().sort((function(e,t){return t.dateAddedparsedFormat-e.dateAddedparsedFormat}));e.bookSelection=n}}))["catch"]((function(e){return e})))},methods:{getImgUrl:function(e){return s(7173)("./"+e)},getBookCollection:function(e,t){var s=this;return"ma-bibliotheque"===e?(this.currentCollection="ma bibliotheque",this.fromGeneralCollection=!1,h().get("http://localhost:".concat("8001","/").concat(t),{withCredentials:!0}).then((function(e){if(e.data.success)return s.bookSelection=e.data.userLibrary.allBooks,s.alreadyReadBookSelection=e.data.userLibrary.alreadyRead,s.bookSelection}))["catch"]((function(e){return e})),this.bookSelection):"favoris"===e?(this.currentCollection="favoris",this.fromGeneralCollection=!1,h().get("http://localhost:".concat("8001","/").concat(t),{withCredentials:!0}).then((function(e){if(e.data.success)return s.bookSelection=e.data.userLibrary.favorites,s.bookSelection}))["catch"]((function(e){return e})),this.bookSelection):"contes"===e?(this.currentCollection="contes",this.fromGeneralCollection=!0,h().get("http://localhost:".concat("8001","/").concat(t),{withCredentials:!0}).then((function(e){if(e.data.success){var t=e.data.bookList;return t=t.filter((function(e){return"conte"===e.genre.toLowerCase()})),s.bookSelection=t,s.bookSelection}}))["catch"]((function(e){return e})),this.bookSelection):"romans"===e?(this.currentCollection="romans",this.fromGeneralCollection=!0,h().get("http://localhost:".concat("8001","/").concat(t),{withCredentials:!0}).then((function(e){if(e.data.success){var t=e.data.bookList;return t=t.filter((function(e){return"roman"===e.genre.toLowerCase()})),s.bookSelection=t,s.bookSelection}}))["catch"]((function(e){return e})),this.bookSelection):"bandes-dessinees"===e?(this.backendRouteName="books",this.currentCollection="bandes dessinées",this.fromGeneralCollection=!0,h().get("http://localhost:".concat("8001","/").concat(t),{withCredentials:!0}).then((function(e){if(e.data.success){var t=e.data.bookList;return t=t.filter((function(e){return"bande dessinée"===e.genre.toLowerCase()})),s.bookSelection=t,s.bookSelection}}))["catch"]((function(e){return e})),this.bookSelection):"biographies"===e?(this.currentCollection="biographies",this.fromGeneralCollection=!0,h().get("http://localhost:".concat("8001","/").concat(t),{withCredentials:!0}).then((function(e){if(e.data.success){var t=e.data.bookList;return t=t.filter((function(e){return"biographie"===e.genre.toLowerCase()||"autobiographie"===e.genre.toLowerCase()})),s.bookSelection=t,s.bookSelection}}))["catch"]((function(e){return e})),this.bookSelection):"tous-les-livres"===e?(this.currentCollection="tous les livres",this.fromGeneralCollection=!0,h().get("http://localhost:".concat("8001","/").concat(t),{withCredentials:!0}).then((function(e){if(e.data.success)return s.bookSelection=e.data.bookList,s.bookSelection}))["catch"]((function(e){return e})),this.bookSelection):"nouveautes"===e?(this.currentCollection="nouveautes",this.fromGeneralCollection=!0,h().get("http://localhost:".concat("8001","/").concat(t),{withCredentials:!0}).then((function(e){if(e.data.success){s.bookSelection=e.data.bookList;var t=e.data.bookList,o=function e(t){var s={};for(var o in t)if("object"!==(0,f.Z)(t[o])||Array.isArray(t[o]))s[o]=t[o];else{var a=e(t[o]);for(var n in a)s[o+n]=a[n]}return s},a=t.map((function(e){return e=o(e),e})),n=a.slice().sort((function(e,t){return t.dateAddedparsedFormat-e.dateAddedparsedFormat}));return s.bookSelection=n,s.bookSelection}}))["catch"]((function(e){return e})),this.bookSelection):void 0},addToLibrary:function(e){var t=this,s=e;h().post("http://localhost:".concat("8001","/user/library/allbooks"),{bookToAddID:s},{withCredentials:!0}).then((function(e){e.data.success&&t.$buefy.toast.open({message:"Ajouté à la bibliothèque",type:"is-success"})}))["catch"]((function(e){return t.$buefy.toast.open({message:"Livre déjà dans votre bibliothèque",type:"is-danger"}),console.error(e)}))},addToFavorites:function(e){var t=this,s=e;this.addToLibrary(e),h().post("http://localhost:".concat("8001","/user/library/favorites"),{bookToAddID:s},{withCredentials:!0}).then((function(e){e.data.success&&t.$buefy.toast.open({message:"Ajouté aux favoris",type:"is-success"})}))["catch"]((function(e){return t.$buefy.toast.open({message:"Livre déjà dans vos favoris",type:"is-danger"}),console.log(e)}))},deleteFromCollection:function(e,t){var s=this;if("ma bibliotheque"===t){var o=e;h()["delete"]("http://localhost:".concat("8001","/user/library/allbooks"),{withCredentials:!0,data:{bookToDeleteID:o}}).then((function(e){e.data.success&&s.$buefy.toast.open({message:"Supprimé de votre bibliothèque",type:"is-success"})})),h()["delete"]("http://localhost:".concat("8001","/user/library/favorites"),{withCredentials:!0,data:{bookToDeleteID:o}})["catch"]((function(e){return s.$buefy.toast.open({message:"Oups...Erreur, veuillez réessayer",type:"is-danger"}),console.log(e)}))}if("favoris"===t){var a=e;h()["delete"]("http://localhost:".concat("8001","/user/library/favorites"),{withCredentials:!0,data:{bookToDeleteID:a}}).then((function(e){e.data.success&&s.$buefy.toast.open({message:"Supprimé de vos favoris",type:"is-success"})}))["catch"]((function(e){return s.$buefy.toast.open({message:"Oups...Erreur, veuillez réessayer",type:"is-danger"}),console.log(e)}))}},updateLibrary:function(e){var t=this;e.updatedAlreadyRead&&h().get("http://localhost:".concat("8001","/user/library"),{withCredentials:!0}).then((function(e){return e.data.success&&(t.alreadyReadBookSelection=e.data.userLibrary.alreadyRead),null}))["catch"]((function(e){return e})),e.updatedLibrary&&h().get("http://localhost:".concat("8001","/user/library"),{withCredentials:!0}).then((function(e){return e.data.success&&(t.bookSelection=e.data.userLibrary),null}))["catch"]((function(e){return e}))}}},fe=pe;var me=(0,i.Z)(fe,ue,de,!1,null,"945bfe7e",null);const he=me.exports;var ve=function(){var e=this;e._self._c;return e._m(0)},be=[function(){var e=this,t=e._self._c;return t("div",[t("h1",[e._v("Favorite User View")])])}];const ge={name:"FavoriteUserView",data:function(){return{}}},Ae=ge;var ke=(0,i.Z)(Ae,ve,be,!1,null,"c732be50",null);const Ce=ke.exports;var ye=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper"},[t("div",{staticClass:"nav"},[t("NavbarUser")],1),t("div",{staticClass:"sidebar-mobile"},[t("SidebarMobile")],1),t("a",{attrs:{href:"",id:"scrollToTop"}}),t("div",{staticClass:"content"},[t("h2",[e._v("MON COMPTE")]),t("div",{staticClass:"user-infos is-flex-tablet is-justify-content-space-between"},[t("div",{staticClass:"infos"},[t("h4",[e._v("Nom: "),t("span",{staticClass:"light"},[e._v(e._s(e.username))])]),t("h4",[e._v("Email: "),t("span",{staticClass:"light"},[e._v(e._s(e.email))])])]),t("h4",{staticClass:"delete-account",on:{click:e.deleteAccount}},[t("font-awesome-icon",{staticClass:"icon icon-trashcan",attrs:{icon:"fa-solid fa-trash-can"}}),e._v(" Supprimer le compte ")],1)]),t("h2",[e._v("MES PRÉFÉRENCES")]),t("div",{staticClass:"buttons-options"},[t("ButtonsOptions",{attrs:{ageArr:e.ageArr,goalsArr:e.goalsArr,interestsArr:e.interestsArr,ValidateButtonValue:"Sauvegarder",hideName:!0}})],1),t("div",{staticClass:"footer-component"},[t("FooterComponent")],1)])])},_e=[];const we={name:"SettingsUserView",data:function(){return{username:"",email:"",ageArr:["Entre 12 et 17 ans","Entre 18 et 24 ans","Entre 25 et 30 ans","Plus de 30 ans","Je ne souhaite pas \nrépondre"],goalsArr:["Découvrir des \nauteurs africains","Effectuer des \nrecherches","Par curiosité"],interestsArr:["Biographies","Contes","Romans","Tout !"]}},components:{NavbarUser:C,SidebarMobile:I,ButtonsOptions:ne,FooterComponent:F},mounted:function(){var e=this;h().get("http://localhost:".concat("8001","/user/"),{withCredentials:!0}).then((function(t){t.data.success&&(e.email=t.data.user.email,e.username=t.data.user.firstname)}))},methods:{deleteAccount:function(){var e=this;h()["delete"]("http://localhost:".concat("8001","/user/delete-account"),{withCredentials:!0}).then((function(t){t.data.success&&(e.$router.push("/"),e.$buefy.toast.open({message:"Compte supprimé",type:"is-success"}))}))["catch"]((function(t){return e.$buefy.toast.open({message:"Oups..Un problème est survenu. Reessayez plus tard",type:"is-danger"}),console.error(t)}))}}},Be=we;var Se=(0,i.Z)(Be,ye,_e,!1,null,"7a91f156",null);const Le=Se.exports;var xe,Ne,Re={},Te=(0,i.Z)(Re,xe,Ne,!1,null,null,null);const Ee=Te.exports;var Fe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper"},[t("div",{staticClass:"nav"},[t("NavbarUser")],1),t("div",{staticClass:"sidebar-mobile"},[t("SidebarMobile")],1),t("div",{staticClass:"content"},[t("img",{staticClass:"banner home-banner",attrs:{src:s(2962),alt:"banniere de page d'accueil",srcset:""}}),t("div",{staticClass:"personalised-suggestion"},[t("a",{staticClass:"btn-retour",on:{click:function(t){return e.$router.go(-1)}}},[e._v(" << Retour")]),t("div",{staticClass:"white-space"}),t("Book",{attrs:{personalisedSuggestion:e.book}})],1),t("div",{staticClass:"footer-component"},[t("FooterComponent")],1)])])},Ue=[];const qe={name:"BookView",data:function(){return{book:{title:"",author:"",genre:"",country:"",synopsis:""}}},mounted:function(){var e=this;h().get("http://localhost:".concat("8001","/books/").concat(this.$route.params.bookId)).then((function(t){t.data.success&&(e.book=t.data.selectedBook)}))["catch"]((function(e){return console.error(e)}))},components:{NavbarUser:C,SidebarMobile:I,Book:L,FooterComponent:F}},Pe=qe;var Ve=(0,i.Z)(Pe,Fe,Ue,!1,null,"5b51ff3a",null);const $e=Ve.exports;var Ie=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper"},[t("div",{staticClass:"content"},[t("div",{staticClass:"nav"},[t("NavbarAdmin",{on:{"get-name":e.getName}})],1),t("div",{staticClass:"nav-mobile"},[t("NavbarMobileAdmin",{on:{"get-name":e.getName}})],1),t("h3",{staticClass:"has-text-right hello-msg"},[e._v("Bonjour, "+e._s(e.adminName)+" !")]),t("h1",{staticClass:"has-text-centered back-office"},[e._v("BACK OFFICE")]),t("h2",{staticClass:"gerer-lecteurs ml-5 p-5"},[e._v("Gérer les lecteurs")]),t("div",{staticClass:"readers-list"},[t("ReadersListComponent",{attrs:{usersList:e.usersList},on:{updateListUsers:e.updateListUsersFromParentElem}})],1)])])},je=[],Oe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[e.isConnected?t("div",{staticClass:"power-icon",on:{click:e.logout}},[t("b-tooltip",{attrs:{label:"Se déconnecter",type:"is-white",position:"is-right"}},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-power-off"}})],1)],1):e._e(),t("img",{staticClass:"logo",attrs:{src:s(6480),alt:"logo",srcset:""}}),e.isConnected?t("h2",{staticClass:"username"},[e._v(e._s(e.username))]):e._e(),t("router-link",{staticClass:"loginInvitation",attrs:{to:"/login"}},[e.isConnected?e._e():t("h2",[e._v(e._s(e.loginInvitation))])]),t("hr"),t("nav",[t("div",{staticClass:"nav-links"},[t("router-link",{attrs:{to:"/admin/back-office/lecteurs"}},[t("div",{staticClass:"btn-option"},[t("span",{staticClass:"icon"},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-users"}})],1),e._v(" Gérer les lecteurs ")])]),t("router-link",{attrs:{to:"/admin/back-office/bibliotheque"}},[t("div",{staticClass:"btn-option"},[t("span",{staticClass:"icon"},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-book"}})],1),e._v(" Gérer la bibliothèque ")])]),t("router-link",{attrs:{to:"/admin/back-office/bibliotheque/ajouter-un-livre"}},[t("div",{staticClass:"btn-option"},[t("span",{staticClass:"icon"},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-plus"}})],1),e._v(" Ajouter un livre ")])])],1)])],1)},ze=[];const Me={name:"NavbarAdmin",data:function(){return{username:"",isConnected:!1,loginInvitation:"Connectez - vous"}},mounted:function(){var e=this;h().get("http://localhost:".concat("8001","/user/"),{withCredentials:!0}).then((function(t){t.data.success&&(e.username=t.data.user.firstname,e.$emit("get-name",{adminName:e.username}),e.isConnected=!0)}))["catch"]((function(e){return console.error(e)}))},methods:{logout:function(){var e=this;h().get("http://localhost:".concat("8001","/logout/"),{withCredentials:!0}).then((function(t){t.data.success&&e.$router.push("/login")}))["catch"]((function(e){return console.log(e)}))}}},Ge=Me;var De=(0,i.Z)(Ge,Oe,ze,!1,null,"17e2be3a",null);const Ze=De.exports;var He=function(){var e=this,t=e._self._c;return t("section",[t("b-sidebar",{attrs:{type:"is-white",fullheight:e.fullheight,fullwidth:e.fullwidth,overlay:e.overlay,right:e.right},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[t("div",{staticClass:"p-1"},[t("b-menu",[t("div",{staticClass:"container"},[e.isConnected?t("div",{staticClass:"power-icon",on:{click:e.logout}},[t("b-tooltip",{attrs:{label:"Se déconnecter",type:"is-black",position:"is-right"}},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-power-off"}})],1)],1):e._e(),t("img",{staticClass:"logo",attrs:{src:s(6480),alt:"logo"}}),e.isConnected?t("h2",{staticClass:"username"},[e._v(e._s(e.username))]):e._e(),t("router-link",{staticClass:"loginInvitation",attrs:{to:"/login"}},[e.isConnected?e._e():t("h2",[e._v(e._s(e.loginInvitation))])]),t("hr"),t("nav",[t("div",{staticClass:"nav-links"},[t("router-link",{attrs:{to:"/admin/back-office/lecteurs"}},[t("div",{staticClass:"btn-option"},[t("span",{staticClass:"icon"},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-users"}})],1),e._v(" Gérer les lecteurs ")])]),t("router-link",{attrs:{to:"/admin/back-office/bibliotheque"}},[t("div",{staticClass:"btn-option"},[t("span",{staticClass:"icon"},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-book"}})],1),e._v(" Gérer la bibliothèque ")])]),t("router-link",{attrs:{to:"/admin/back-office/bibliotheque/ajouter-un-livre"}},[t("div",{staticClass:"btn-option"},[t("span",{staticClass:"icon"},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-plus"}})],1),e._v(" Ajouter un livre ")])])],1)])],1)])],1)]),t("div",{staticClass:"sidebar-mobile-button"},[t("b-tooltip",{attrs:{label:"Menu",type:"is-black",position:"is-right"}},[t("b-button",{on:{click:function(t){e.open=!0}}},[t("font-awesome-icon",{staticClass:"icon-button",attrs:{icon:"fa-solid fa-bars"}})],1)],1)],1)],1)},Je=[];const Xe={data:function(){return{open:!1,overlay:!0,fullheight:!1,fullwidth:!1,right:!1,username:"",isConnected:!1,loginInvitation:"Connectez - vous"}},mounted:function(){var e=this;h().get("http://localhost:".concat("8001","/user/"),{withCredentials:!0}).then((function(t){e.username=t.data.user.firstname,e.$emit("get-name",{adminName:e.username}),e.isConnected=!0}))["catch"]((function(e){return console.error(e)}))},methods:{logout:function(){var e=this;h().get("http://localhost:".concat("8001","/logout/"),{withCredentials:!0}).then((function(t){t.data.success&&e.$router.push("/login")}))["catch"]((function(e){return console.log(e)}))}}},We=Xe;var Ke=(0,i.Z)(We,He,Je,!1,null,"4077eec2",null);const Qe=Ke.exports;var Ye=function(){var e=this,t=e._self._c;return t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchbarValue,expression:"searchbarValue"}],attrs:{type:"search",name:"searchbar",id:"searchbar",placeholder:"Rechercher..."},domProps:{value:e.searchbarValue},on:{input:function(t){t.target.composing||(e.searchbarValue=t.target.value)}}}),t("h4",{staticClass:"has-text-right number-of-users"},[e._v(e._s(e.numberOfReaders)+" résultat(s)")]),t("div",{staticClass:"users-list is-flex is-flex-direction-row"},[0===e.numberOfReaders?t("h2",{staticClass:"no-results"},[e._v("Aucun résultat")]):e._e(),e._l(e.getFilteredData,(function(s,o){return t("div",{key:o,staticClass:"user is-flex"},[t("CardReaders",{attrs:{user:s},on:{"update-list-users":e.updateListUsers}})],1)}))],2)])},et=[],tt=(s(8862),function(){var e=this,t=e._self._c;return e.removed?e._e():t("div",{class:"user is-flex ".concat(e.enlarged?"enlarge":"")},[t("div",{class:"modify-user ".concat(e.isModalOpened?"display":"")},[t("font-awesome-icon",{staticClass:"icon icon-close",attrs:{icon:"fa-solid fa-xmark"},on:{click:e.cancelUpdates}}),t("h2",{staticClass:"h2-modify-user"},[e._v("Modifier l'utilisateur")]),t("label",{attrs:{for:"id"}},[e._v("Identifiant")]),t("input",{staticClass:"input-identifiant",attrs:{type:"text",name:"identifiant",disabled:""},domProps:{value:e.user._id}}),t("label",{attrs:{for:"username"}},[e._v("Prénom")]),t("input",{class:"input-firstname-".concat(e.user._id),attrs:{type:"text",name:"username"},domProps:{value:e.user.firstname}}),t("label",{attrs:{for:"age"}},[e._v("Age")]),t("input",{class:"input-age-".concat(e.user._id),attrs:{type:"text",name:"age"},domProps:{value:e.user.age}}),t("label",{attrs:{for:"email"}},[e._v("Email")]),t("input",{class:"input-email-".concat(e.user._id),attrs:{type:"text",name:"email"},domProps:{value:e.user.email}}),t("label",{attrs:{for:"goals"}},[e._v("Inscrit pour")]),t("ul",e._l(e.user.preferences.goals,(function(e,s){return t("input",{key:s,staticClass:"inputs-goals",attrs:{type:"text",name:"goals",disabled:""},domProps:{value:e}})})),0),t("label",{attrs:{for:"interests"}},[e._v("Ses intérêts: ")]),t("ul",e._l(e.user.preferences.interests,(function(e,s){return t("input",{key:s,staticClass:"inputs-interests",attrs:{type:"text",name:"interests",disabled:""},domProps:{value:e}})})),0),t("div",{staticClass:"btns"},[t("div",{staticClass:"btn btn-valider",on:{click:function(t){return e.saveUpdates(e.user._id)}}},[e._v("Sauvegarder les modifications")]),t("div",{staticClass:"btn btn-option",on:{click:e.cancelUpdates}},[e._v("Annuler les modifications")])])],1),t("div",{staticClass:"user-infos"},[t("h4",{staticClass:"h4-id"},[e._v("Identifiant: "),t("span",{staticClass:"light"},[e._v(e._s(e.user._id))])]),t("h4",[e._v("Prénom: "),t("span",{staticClass:"light"},[e._v(e._s(e.user.firstname))])]),t("h4",[e._v("Age: "),t("span",{staticClass:"light"},[e._v(e._s(e.user.age))])]),t("h4",[e._v("Mail: "),t("span",{staticClass:"light"},[e._v(e._s(e.user.email))])]),t("h4",[e._v("Inscrit pour:")]),t("ul",e._l(e.user.preferences.goals,(function(s,o){return t("li",{key:o},[e._v(" "+e._s(s)+" ")])})),0),t("h4",[e._v("Ses intérêts: "+e._s(e.user.interests))]),t("ul",e._l(e.user.preferences.interests,(function(s,o){return t("li",{key:o},[e._v(" "+e._s(s)+" ")])})),0)]),t("div",{staticClass:"icons is-flex is-flex-direction-column is-justify-content-space-between"},[t("b-tooltip",{attrs:{label:"".concat(e.enlarged?"Réduire":"Afficher tout"),type:"is-black",position:"is-left"}},[t("font-awesome-icon",{staticClass:"icon icon-eye",attrs:{icon:"fa-solid fa-eye"},on:{click:function(t){return e.enlargeCard(e.user._id)}}})],1),t("b-tooltip",{attrs:{label:"Modifier",type:"is-black",position:"is-left"}},[t("font-awesome-icon",{staticClass:"icon icon-pencil",attrs:{icon:"fa-solid fa-pencil"},on:{click:e.openModal}})],1),t("b-tooltip",{attrs:{label:"Supprimer",type:"is-black",position:"is-left"}},[t("font-awesome-icon",{staticClass:"icon icon-trashcan",attrs:{icon:"fa-solid fa-trash-can"},on:{click:function(t){return e.deleteUser(e.user._id)}}})],1)],1)])}),st=[];const ot={name:"CardComponent",data:function(){return{enlarged:!1,removed:!1,isModalOpened:!1,updatedUser:{firstname:"",age:"",email:""}}},props:{user:{type:Object,required:!0}},methods:{enlargeCard:function(){this.enlarged=!this.enlarged},deleteUser:function(e){var t=this;h()["delete"]("http://localhost:".concat("8001","/admin/user-list"),{withCredentials:!0,data:{userId:e}}).then((function(e){e.data.success&&(t.$buefy.toast.open({message:"Utilisateur supprimé",type:"is-success"}),t.removed=!0,t.$emit("update-list-users",{deletedUser:!0,updatedUser:!1}))}))["catch"]((function(e){return t.$buefy.toast.open({message:"Un problème est survenu. Veuillez réessayer.",type:"is-danger"}),console.log(e)}))},openModal:function(){this.isModalOpened=!this.isModalOpened},cancelUpdates:function(){this.isModalOpened=!this.isModalOpened},saveUpdates:function(e){var t=this,s=document.querySelector(".input-firstname-".concat(this.user._id)).value,o=document.querySelector(".input-age-".concat(this.user._id)).value,a=document.querySelector(".input-email-".concat(this.user._id)).value;if(""===s||""===o||""===a)return this.$buefy.toast.open({message:"Champs vides ou incomplets. Veuillez vérifier la fiche.",type:"is-danger"}),null;var n={firstname:s,age:o,email:a};console.log("updatedUser",n),h().put("http://localhost:".concat("8001","/admin/user-list"),{id:e,updatedUser:n},{withCredentials:!0}).then((function(e){e.data.success&&(t.$buefy.toast.open({message:"Fiche de ".concat(t.user.firstname," mise à jour"),type:"is-success"}),setTimeout((function(){t.isModalOpened=!1}),1500),t.$emit("update-list-users",{deletedUser:!1,updatedUser:!0}))}))["catch"]((function(e){return t.$buefy.toast.open({message:"Un problème est survenu. Veuillez réessayer.",type:"is-danger"}),console.log(e)}))}}},at=ot;var nt=(0,i.Z)(at,tt,st,!1,null,"539e06d2",null);const it=nt.exports,rt={name:"ReadersListComponent",data:function(){return{searchbarValue:"",copyUsersList:this.usersList,deletedUser:null}},components:{CardReaders:it},props:{usersList:{type:Array,required:!0}},computed:{numberOfReaders:function(){return this.getFilteredData.length},getSearchbarValue:function(){return this.searchbarValue},getFilteredData:function(){var e=this;if(""!==this.getSearchbarValue){var t=this.usersList.filter((function(t){return JSON.stringify(t).toLowerCase().includes(e.searchbarValue.toLocaleLowerCase())}));return t}return this.usersList}},methods:{updateListUsers:function(e){this.$emit("updateListUsers",{deletedUser:e.deletedUser,updatedUser:e.updatedUser})}}},ct=rt;var lt=(0,i.Z)(ct,Ye,et,!1,null,"19d61c71",null);const ut=lt.exports,dt={name:"ReadersListView",data:function(){return{adminName:"",usersList:[]}},components:{NavbarAdmin:Ze,ReadersListComponent:ut,NavbarMobileAdmin:Qe},mounted:function(){var e=this;h().get("http://localhost:".concat("8001","/admin/user-list"),{withCredentials:!0}).then((function(t){t.data.success&&(e.usersList=t.data.usersList,e.usersList=e.usersList.filter((function(e){return!e.isAdmin})))}))},methods:{getName:function(e){this.adminName=e.adminName},filterUsersList:function(e){this.usersList=e.searchResults},updateListUsersFromParentElem:function(e){var t=this;(e.deletedUser||e.updatedUser)&&h().get("http://localhost:".concat("8001","/admin/user-list"),{withCredentials:!0}).then((function(e){e.data.success&&(t.usersList=e.data.usersList,t.usersList=t.usersList.filter((function(e){return!e.isAdmin})))}))}}},pt=dt;var ft=(0,i.Z)(pt,Ie,je,!1,null,"2ddf0046",null);const mt=ft.exports;var ht=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"wrapper"},[t("div",{staticClass:"content"},[t("div",{staticClass:"nav"},[t("NavbarAdmin",{on:{"get-name":e.getName}})],1),t("div",{staticClass:"nav-mobile"},[t("NavbarMobileAdmin",{on:{"get-name":e.getName}})],1),t("h3",{staticClass:"has-text-right hello-msg"},[e._v("Bonjour, "+e._s(e.adminName)+" !")]),t("h1",{staticClass:"has-text-centered back-office"},[e._v("BACK OFFICE")]),t("h2",{staticClass:"gerer-livres ml-5 p-5"},[e._v("Gérer la bibliothèque")]),t("div",{staticClass:"book-list"},[t("BookListComponent",{attrs:{bookList:e.bookList},on:{updateListBooks:e.updateListBooksFromParentElem}})],1)])])])},vt=[],bt=function(){var e=this,t=e._self._c;return t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchbarValue,expression:"searchbarValue"}],attrs:{type:"search",name:"searchbar",id:"searchbar",placeholder:"Rechercher..."},domProps:{value:e.searchbarValue},on:{input:function(t){t.target.composing||(e.searchbarValue=t.target.value)}}}),t("h4",{staticClass:"has-text-right number-of-books"},[e._v(e._s(e.numberOfBooks)+" résultat(s)")]),t("div",{staticClass:"books-list is-flex is-flex-direction-row"},[0===e.numberOfBooks?t("h2",{staticClass:"no-results"},[e._v("Aucun résultat")]):e._e(),e._l(e.getFilteredData,(function(s,o){return t("div",{key:o,staticClass:"book is-flex"},[t("CardBooks",{attrs:{book:s},on:{"update-list-books":e.updateListBooks}})],1)}))],2)])},gt=[],At=function(){var e=this,t=e._self._c;return e.removed?e._e():t("div",{class:"book is-flex ".concat(e.enlarged?"enlarge":"")},[t("div",{class:"modify-book ".concat(e.isModalOpened?"display":"")},[t("font-awesome-icon",{staticClass:"icon icon-close",attrs:{icon:"fa-solid fa-xmark"},on:{click:e.cancelUpdates}}),t("h2",{staticClass:"h2-modify-book"},[e._v("Modifier le livre")]),t("label",{attrs:{for:"identifiant"}},[e._v("Identifiant")]),t("input",{staticClass:"input-identifiant",attrs:{type:"text",name:"identifiant",disabled:""},domProps:{value:e.book._id}}),t("label",{attrs:{for:"title"}},[e._v("Titre")]),t("input",{class:"input-title-".concat(e.book._id),attrs:{type:"text",name:"title"},domProps:{value:e.book.title}}),t("label",{attrs:{for:"image"}},[e._v("Image")]),t("input",{class:"input-image-".concat(e.book._id),attrs:{type:"text",name:"image"},domProps:{value:e.book.image}}),t("label",{attrs:{for:"author"}},[e._v("Auteur")]),t("input",{class:"input-author-".concat(e.book._id),attrs:{type:"text",name:"author"},domProps:{value:e.book.author}}),t("label",{attrs:{for:"genre"}},[e._v("Genre")]),t("input",{class:"input-genre-".concat(e.book._id),attrs:{type:"text",name:"genre"},domProps:{value:e.book.genre}}),t("label",{attrs:{for:"country"}},[e._v("Pays")]),t("input",{class:"input-country-".concat(e.book._id),attrs:{type:"text",name:"country"},domProps:{value:e.book.country}}),t("label",{attrs:{for:"country"}},[e._v("Où se le procurer")]),t("input",{class:"input-nameStore-".concat(e.book._id),attrs:{type:"text",name:"country"},domProps:{value:e.book.bookStore.name}}),t("label",{attrs:{for:"country"}},[e._v("Lien du site ou adresse")]),t("input",{class:"input-linkStore-".concat(e.book._id),attrs:{type:"text",name:"country"},domProps:{value:e.book.bookStore.link}}),t("label",{attrs:{for:"dateAdded"}},[e._v("Date d'ajout")]),t("input",{class:"input-dateAdded input-dateAdded-".concat(e.book._id),attrs:{type:"text",name:"dateAdded",disabled:""},domProps:{value:e.book.dateAdded.stringFormat}}),t("label",{attrs:{for:"ageRanges"}},[e._v("Tranches d'âge")]),t("ul",e._l(e.book.ageRange,(function(s,o){return t("input",{key:o,class:"inputs-ageRanges inputs-ageRanges-".concat(e.book._id),attrs:{type:"text",name:"ageRanges"},domProps:{value:s}})})),0),t("label",{attrs:{for:"synopsis"}},[e._v("Synopsis")]),t("textarea",{class:"input-synopsis input-synopsis-".concat(e.book._id),attrs:{name:"synopsis",id:"",cols:"70",rows:"10"},domProps:{value:e.book.synopsis}}),t("div",{staticClass:"btns"},[t("div",{staticClass:"btn btn-valider",on:{click:function(t){return e.saveUpdates(e.book._id)}}},[e._v("Sauvegarder les modifications")]),t("div",{staticClass:"btn btn-option",on:{click:e.cancelUpdates}},[e._v("Annuler les modifications")])])],1),t("div",{staticClass:"book-infos"},[t("div",{staticClass:"cols-infos"},[t("img",{attrs:{src:e.book.image,alt:"image miniature du livre ".concat(e.book.title),srcset:""}}),t("div",{staticClass:"col-one-infos"},[t("h4",{staticClass:"h4-id book-title"},[e._v("Titre: "),t("span",{staticClass:"light"},[e._v(e._s(e.book.title))])]),t("h4",{staticClass:"h4-id"},[e._v("Auteur: "),t("span",{staticClass:"light"},[e._v(e._s(e.book.author))])]),t("h4",{staticClass:"h4-id"},[e._v("Genre: "),t("span",{staticClass:"light"},[e._v(e._s(e.book.genre))])]),t("h4",{staticClass:"h4-id"},[e._v("Pays: "),t("span",{staticClass:"light"},[e._v(e._s(e.book.country))])])]),t("div",{staticClass:"col-two-infos"},[t("h4",{staticClass:"h4-id book-id"},[e._v("Identifiant: "),t("span",{staticClass:"light"},[e._v(e._s(e.book._id))])]),t("h4",{staticClass:"h4-id"},[e._v("Date d'ajout: "),t("span",{staticClass:"light"},[e._v(e._s(e.book.dateAdded.stringFormat))])]),t("h4",{staticClass:"h4-id"},[e._v("Tranches d'âge:")]),t("ul",e._l(e.book.ageRange,(function(s,o){return t("li",{key:o},[e._v(e._s(s))])})),0)])]),e.book.bookStore?t("div",{class:"bookstore ".concat(e.enlarged?"":"hidden")},[t("h4",{staticClass:"h4-id"},[e._v("Où l'acheter: "),t("span",{staticClass:"light"},[t("a",{attrs:{href:"".concat(e.book.bookStore.link),target:"_blank",rel:"noopener noreferrer"}},[e._v(e._s(e.book.bookStore.name))])])])]):e._e(),t("h4",{class:"h4-id ".concat(e.enlarged?"":"hidden mobile-hidden")},[e._v("Synopsis: "),t("span",{staticClass:"light synopsis"},[e._v(e._s(e.book.synopsis))])])]),t("h4",{staticClass:"voir-plus",on:{click:e.openModal}},[e._v(" Afficher tout...")]),t("div",{staticClass:"icons is-flex is-flex-direction-column is-justify-content-space-between"},[t("b-tooltip",{attrs:{label:"".concat(e.enlarged?"Réduire":"Afficher tout"),type:"is-black",position:"is-left"}},[t("font-awesome-icon",{staticClass:"icon icon-eye",attrs:{icon:"fa-solid fa-eye"},on:{click:function(t){return e.enlargeCard(e.book._id)}}})],1),t("b-tooltip",{attrs:{label:"Modifier",type:"is-black",position:"is-left"}},[t("font-awesome-icon",{staticClass:"icon icon-pencil",attrs:{icon:"fa-solid fa-pencil"},on:{click:e.openModal}})],1),t("b-tooltip",{attrs:{label:"Supprimer",type:"is-black",position:"is-left"}},[t("font-awesome-icon",{staticClass:"icon icon-trashcan",attrs:{icon:"fa-solid fa-trash-can"},on:{click:function(t){return e.deleteBook(e.book._id)}}})],1)],1)])},kt=[];s(1038);const Ct={name:"CardBooksComponent",data:function(){return{enlarged:!1,removed:!1,isModalOpened:!1}},props:{book:{type:Object,required:!0}},methods:{enlargeCard:function(){this.enlarged=!this.enlarged},deleteBook:function(e){var t=this;h()["delete"]("http://localhost:".concat("8001","/admin/booklist"),{withCredentials:!0,data:{bookToDeleteID:e}}).then((function(e){e.data.success&&(t.$buefy.toast.open({message:"Livre supprimé",type:"is-success"}),t.removed=!0,t.$emit("update-list-books",{deletedBook:!0,updatedBook:!1}))}))["catch"]((function(e){return t.$buefy.toast.open({message:"Un problème est survenu. Veuillez réessayer.",type:"is-danger"}),console.log(e)}))},openModal:function(){this.isModalOpened=!this.isModalOpened},cancelUpdates:function(){this.isModalOpened=!this.isModalOpened},saveUpdates:function(e){var t=this,s=document.querySelector(".input-title-".concat(this.book._id)).value,o=document.querySelector(".input-author-".concat(this.book._id)).value,a=document.querySelector(".input-genre-".concat(this.book._id)).value,n=document.querySelector(".input-image-".concat(this.book._id)).value,i=document.querySelector(".input-country-".concat(this.book._id)).value,r=document.querySelector(".input-synopsis-".concat(this.book._id)).value,c=document.querySelector(".input-nameStore-".concat(this.book._id)).value,l=document.querySelector(".input-linkStore-".concat(this.book._id)).value,u=Array.from(document.querySelectorAll(".inputs-ageRanges-".concat(this.book._id))).map((function(e){return e.value})).filter((function(e){return""!==e}));if(""===s||""===o||""===a||""===i||""===r)return this.$buefy.toast.open({message:"Champs vides ou incomplets. Veuillez vérifier la fiche.",type:"is-danger"}),null;var d={title:s,author:o,synopsis:r,genre:a,country:i,image:n,ageRange:u,bookStore:{name:c,link:l}};h().put("http://localhost:".concat("8001","/admin/booklist"),{id:e,updatedBook:d},{withCredentials:!0}).then((function(e){e.data.success&&(t.$buefy.toast.open({message:"Fiche mise à jour",type:"is-success"}),setTimeout((function(){t.isModalOpened=!1}),1500),t.$emit("update-list-books",{deletedBook:!1,updatedBook:!0}))}))["catch"]((function(e){return t.$buefy.toast.open({message:"Champs vides ou incomplets. Veuillez vérifier la fiche.",type:"is-danger"}),console.log(e)}))}}},yt=Ct;var _t=(0,i.Z)(yt,At,kt,!1,null,"63b1f951",null);const wt=_t.exports,Bt={name:"BookListComponent",data:function(){return{searchbarValue:"",copyBooksList:this.bookList,deletedBook:null}},components:{CardBooks:wt},props:{bookList:{type:Array,required:!0}},computed:{numberOfBooks:function(){return this.getFilteredData.length},getSearchbarValue:function(){return this.searchbarValue},getFilteredData:function(){var e=this;if(""!==this.getSearchbarValue){var t=this.bookList.filter((function(t){return JSON.stringify(t).toLowerCase().includes(e.searchbarValue.toLowerCase())}));return t}return this.bookList}},methods:{updateListBooks:function(e){this.$emit("updateListBooks",{deletedBook:e.deletedBook,updatedBook:e.updatedBook})}}},St=Bt;var Lt=(0,i.Z)(St,bt,gt,!1,null,"32b6b788",null);const xt=Lt.exports,Nt={name:"BookListView",data:function(){return{adminName:"",bookList:[]}},components:{NavbarAdmin:Ze,NavbarMobileAdmin:Qe,BookListComponent:xt},mounted:function(){var e=this;h().get("http://localhost:".concat("8001","/books"),{withCredentials:!0}).then((function(t){t.data.success&&(e.bookList=t.data.bookList)}))},methods:{getName:function(e){this.adminName=e.adminName},updateListBooksFromParentElem:function(e){var t=this;(e.deletedBook||e.updatedBook)&&h().get("http://localhost:".concat("8001","/books"),{withCredentials:!0}).then((function(e){e.data.success&&(t.bookList=e.data.bookList)}))}}},Rt=Nt;var Tt=(0,i.Z)(Rt,ht,vt,!1,null,"0993688d",null);const Et=Tt.exports;var Ft=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper"},[t("div",{staticClass:"content"},[t("div",{staticClass:"nav"},[t("NavbarAdmin",{on:{"get-name":e.getName}})],1),t("div",{staticClass:"nav-mobile"},[t("NavbarMobileAdmin",{on:{"get-name":e.getName}})],1),t("h3",{staticClass:"has-text-right hello-msg"},[e._v("Bonjour, "+e._s(e.adminName)+" !")]),t("h1",{staticClass:"has-text-centered back-office"},[e._v("BACK OFFICE")]),t("h2",{staticClass:"gerer-livres ml-5 p-5"},[e._v("Ajouter une référence à la bibliothèque")]),t("div",{staticClass:"bookform"},[t("BookForm")],1)])])},Ut=[],qt=function(){var e=this,t=e._self._c;return t("div",[t("form",{on:{submit:function(t){return t.preventDefault(),e.submitBookForm.apply(null,arguments)}}},[t("label",{attrs:{for:"title"}},[e._v("Titre*")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newBook.title,expression:"newBook.title"}],staticClass:"title",attrs:{type:"text",name:"title"},domProps:{value:e.newBook.title},on:{input:function(t){t.target.composing||e.$set(e.newBook,"title",t.target.value)}}}),t("label",{attrs:{for:"author"}},[e._v("Auteur(s)*")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newBook.author,expression:"newBook.author"}],staticClass:"author",attrs:{type:"text",name:"author"},domProps:{value:e.newBook.author},on:{input:function(t){t.target.composing||e.$set(e.newBook,"author",t.target.value)}}}),t("div",{staticClass:"label-img-div"},[t("label",{attrs:{for:"image"}},[e._v("Image*")]),t("input",{staticClass:"btn-option select-img",attrs:{type:"hidden",role:"uploadcare-uploader","data-public-key":"7b2af848e57976ed1e8e","data-tabs":"file url gdrive"}}),t("input",{ref:"fileInput",attrs:{type:"file",name:"image",id:"image",accept:"image/*",hidden:""},on:{change:e.onFilePicked}})]),t("div",{staticClass:"wrapper-genre-country"},[t("div",{staticClass:"content-genre"},[t("label",{attrs:{for:"genre"}},[e._v("Genre*")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.newBook.genre,expression:"newBook.genre"}],staticClass:"genre-options-wrapper",attrs:{name:"",id:""},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.newBook,"genre",t.target.multiple?s:s[0])}}},[t("option",{attrs:{disabled:"",value:""}},[e._v("Sélectionner:")]),e._l(e.genres,(function(s,o){return t("option",{key:o},[e._v(e._s(s))])}))],2)]),t("div",{staticClass:"content-country"},[t("label",{attrs:{for:"country"}},[e._v("Pays*")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newBook.country,expression:"newBook.country"}],staticClass:"country medium",attrs:{type:"text",name:"country"},domProps:{value:e.newBook.country},on:{input:function(t){t.target.composing||e.$set(e.newBook,"country",t.target.value)}}})])]),t("h4",[e._v("Tranches d'âge (plusieurs choix possibles)*")]),t("div",{staticClass:"label-checkbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newBook.ageRange,expression:"newBook.ageRange"}],staticClass:"agerange",attrs:{type:"checkbox",id:"agerange-1",value:"Entre 12 et 17 ans"},domProps:{checked:Array.isArray(e.newBook.ageRange)?e._i(e.newBook.ageRange,"Entre 12 et 17 ans")>-1:e.newBook.ageRange},on:{change:function(t){var s=e.newBook.ageRange,o=t.target,a=!!o.checked;if(Array.isArray(s)){var n="Entre 12 et 17 ans",i=e._i(s,n);o.checked?i<0&&e.$set(e.newBook,"ageRange",s.concat([n])):i>-1&&e.$set(e.newBook,"ageRange",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.newBook,"ageRange",a)}}}),t("label",{attrs:{for:"agerange-1"}},[e._v("Entre 12 et 17 ans")])]),t("div",{staticClass:"label-checkbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newBook.ageRange,expression:"newBook.ageRange"}],staticClass:"agerange",attrs:{type:"checkbox",id:"agerange-2",value:"Entre 18 et 24 ans"},domProps:{checked:Array.isArray(e.newBook.ageRange)?e._i(e.newBook.ageRange,"Entre 18 et 24 ans")>-1:e.newBook.ageRange},on:{change:function(t){var s=e.newBook.ageRange,o=t.target,a=!!o.checked;if(Array.isArray(s)){var n="Entre 18 et 24 ans",i=e._i(s,n);o.checked?i<0&&e.$set(e.newBook,"ageRange",s.concat([n])):i>-1&&e.$set(e.newBook,"ageRange",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.newBook,"ageRange",a)}}}),t("label",{attrs:{for:"agerange-2"}},[e._v("Entre 18 et 24 ans")])]),t("div",{staticClass:"label-checkbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newBook.ageRange,expression:"newBook.ageRange"}],staticClass:"agerange",attrs:{type:"checkbox",id:"agerange-3",value:"Entre 25 et 30 ans"},domProps:{checked:Array.isArray(e.newBook.ageRange)?e._i(e.newBook.ageRange,"Entre 25 et 30 ans")>-1:e.newBook.ageRange},on:{change:function(t){var s=e.newBook.ageRange,o=t.target,a=!!o.checked;if(Array.isArray(s)){var n="Entre 25 et 30 ans",i=e._i(s,n);o.checked?i<0&&e.$set(e.newBook,"ageRange",s.concat([n])):i>-1&&e.$set(e.newBook,"ageRange",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.newBook,"ageRange",a)}}}),t("label",{attrs:{for:"ageranga-3"}},[e._v("Entre 25 et 30 ans")])]),t("div",{staticClass:"label-checkbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newBook.ageRange,expression:"newBook.ageRange"}],staticClass:"agerange",attrs:{type:"checkbox",id:"agerange-4",value:"Plus de 30 ans"},domProps:{checked:Array.isArray(e.newBook.ageRange)?e._i(e.newBook.ageRange,"Plus de 30 ans")>-1:e.newBook.ageRange},on:{change:function(t){var s=e.newBook.ageRange,o=t.target,a=!!o.checked;if(Array.isArray(s)){var n="Plus de 30 ans",i=e._i(s,n);o.checked?i<0&&e.$set(e.newBook,"ageRange",s.concat([n])):i>-1&&e.$set(e.newBook,"ageRange",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.newBook,"ageRange",a)}}}),t("label",{attrs:{for:"agerange-4"}},[e._v("Plus de 30 ans")])]),t("label",{staticClass:"label-synopsis",attrs:{for:"synopsis"}},[e._v("Synopsis*")]),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newBook.synopsis,expression:"newBook.synopsis"}],staticClass:"input-synopsis",attrs:{name:"synopsis",id:"synopsis",cols:"70",rows:"10"},domProps:{value:e.newBook.synopsis},on:{input:function(t){t.target.composing||e.$set(e.newBook,"synopsis",t.target.value)}}}),t("label",{staticClass:"label-book-store-name",attrs:{for:"book-store-name"}},[e._v("Nom du lieu/site où se le procurer*")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newBook.bookStore.name,expression:"newBook.bookStore.name"}],staticClass:"book-store-name",attrs:{type:"text",name:"book-store-name"},domProps:{value:e.newBook.bookStore.name},on:{input:function(t){t.target.composing||e.$set(e.newBook.bookStore,"name",t.target.value)}}}),t("label",{staticClass:"label-book-store-link",attrs:{for:"book-store-link"}},[e._v("Lien du site ou adresse*")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newBook.bookStore.link,expression:"newBook.bookStore.link"}],staticClass:"book-store-link",attrs:{type:"text",name:"book-store-link"},domProps:{value:e.newBook.bookStore.link},on:{input:function(t){t.target.composing||e.$set(e.newBook.bookStore,"link",t.target.value)}}}),t("p",[e._v("*: Champs obligatoires")]),t("button",{staticClass:"btn-valider"},[e._v("Ajouter un livre")])])])},Pt=[],Vt=(s(3123),s(6750),s(8450),s(8386),s(9714),s(3710),s(2479),s(8833)),$t=s.n(Vt);const It={name:"BookFormComponent",data:function(){return{ageRanges:["Moins de 25 ans","Entre 25 et 30 ans","Plus de 3O ans","Je ne souhaite pas répondre"],genres:["Roman","Biographie","Conte","Bande dessinée","Livre de recettes"],errorEmptyFields:!1,newBook:{title:"",author:"",country:"",synopsis:"",genre:"",ageRange:[],image:"",dateAdded:{parsedFormat:"",stringFormat:""},bookStore:{name:"",link:""}}}},mounted:function(){var e=this,t=$t().Widget("[role=uploadcare-uploader]",{crop:"260x340",imagesOnly:!0});t.onUploadComplete((function(t){e.newBook.image="https://ucarecdn.com/".concat(t.uuid,"/")}))},methods:{onPickFile:function(){this.$refs.fileInput.click()},onFilePicked:function(){var e=this,t=document.querySelector("input[type=file]").files[0],s=new FileReader;s.addEventListener("load",(function(){"string"===typeof s.result&&(e.newBook.image=s.result.split(",")[1])}),!1),t&&s.readAsDataURL(t)},submitBookForm:function(){var e=this;this.errorEmptyFields=!1;var t=$t().Widget("[role=uploadcare-uploader]"),s=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_.~#?&//=]*)/,o=new RegExp(s);if(!this.newBook.image.match(o)||!this.newBook.bookStore.link.match(o))return this.$buefy.toast.open({message:"Format des liens invalides",type:"is-danger"}),null;this.newBook.dateAdded.stringFormat=(new Date).toDateString(),this.newBook.dateAdded.parsedFormat=Date.parse((new Date).toDateString());var a=this.newBook,n=Object.values(this.newBook);return n.forEach((function(t){if("object"===(0,f.Z)(t)){if(0===t.length)return e.errorEmptyFields=!0,e.$buefy.toast.open({message:"Champs vides: veuillez remplir tous les champs obligatoires.",type:"is-danger"}),null;Object.values(t).forEach((function(t){if(""===t||null===t)return e.errorEmptyFields=!0,e.$buefy.toast.open({message:"Champs vides: veuillez remplir tous les champs obligatoires.",type:"is-danger"}),null}))}if(""===t||null===t)return e.errorEmptyFields=!0,e.$buefy.toast.open({message:"Champs vides: veuillez remplir tous les champs obligatoires.",type:"is-danger"}),null})),this.errorEmptyFields||h().post("http://localhost:".concat("8001","/admin/booklist"),{newBook:a},{withCredentials:!0}).then((function(s){s.data.success&&(e.$buefy.toast.open({message:"Référence ajoutée à la bibliothèque",type:"is-success"}),e.newBook={title:"",author:"",country:"",synopsis:"",genre:"",ageRange:[],image:"",dateAdded:{parsedFormat:"",stringFormat:""},bookStore:{name:"",link:""}},t.fileInfo={})}))["catch"]((function(t){return e.$buefy.toast.open({message:"Oups.. Un problème est survenu. Veuillez réessayer.",type:"is-danger"}),console.log(t)})),null}}},jt=It;var Ot=(0,i.Z)(jt,qt,Pt,!1,null,"68857a78",null);const zt=Ot.exports,Mt={name:"AddBookView",data:function(){return{adminName:""}},components:{NavbarAdmin:Ze,NavbarMobileAdmin:Qe,BookForm:zt},methods:{getName:function(e){this.adminName=e.adminName}}},Gt=Mt;var Dt=(0,i.Z)(Gt,Ft,Ut,!1,null,"349cc034",null);const Zt=Dt.exports;var Ht=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper"},[t("div",{staticClass:"login-invitation"},[e._m(0),t("h3",[e._v("Ou peut-être n' a-t-il/elle jamais existé et n'est que le fruit de votre imagination...Imagination qui donnera naissance à votre tout premier livre à succès, qui sera bien évidemment répertorié sur Sema. Qui sait !")]),t("p",[e._v("En attendant que vous preniez la plume...")]),t("router-link",{attrs:{to:"/"}},[t("div",{staticClass:"btn-valider"},[e._v("Retour à la page d'accueil")])])],1),t("div",{staticClass:"book"},[t("div",{class:"icon-option ".concat(e.isLiked?"":"hidden"," ")},[t("font-awesome-icon",{class:"icon ".concat(e.isLiked?"liked":""),attrs:{icon:"fa-solid fa-heart",color:" rgb(108, 105, 105)"},on:{click:e.toggleLike}})],1),e._m(1)])])},Jt=[function(){var e=this,t=e._self._c;return t("h1",[t("span",{staticClass:"big-yellow"},[t("span",{staticClass:"oups"},[e._v("Oups...")]),e._v(" La page ou le livre recherché n'est pas ici... ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"content-book"},[t("div",{staticClass:"book-infos"},[t("h3",{staticClass:"author"},[t("span",{staticClass:"bold"},[e._v("De: ")]),e._v(" Not Found")]),t("h5",{staticClass:"illustration"},[t("span",{staticClass:"bold"},[e._v("Illustration: ")]),e._v(" Open Peeps")])]),t("div",{staticClass:"not-found"},[t("h2",{staticClass:"margin"},[e._v("4")]),t("h2",[e._v("4")])])])}];const Xt={name:"NotFoundView",data:function(){return{isLiked:!1}},methods:{toggleLike:function(){this.isLiked=!this.isLiked}}},Wt=Xt;var Kt=(0,i.Z)(Wt,Ht,Jt,!1,null,"6505faaa",null);const Qt=Kt.exports;o.ZP.use(u.Z);var Yt=[{path:"/",name:"home",component:M},{path:"/about",name:"about",component:function(){return s.e(443).then(s.bind(s,5399))}},{path:"/login",name:"login",component:W},{path:"/inscription/preferences",name:"inscription",component:le},{path:"/section/:sectionview",name:"SectionView",component:he},{path:"/favoris",name:"FavoriteUserView",component:Ce},{path:"/mon-compte",name:"SettingsUserView",component:Le},{path:"/aide",name:"HelpView",component:Ee},{path:"/livres/:bookId",name:"BookView",component:$e},{path:"/admin/back-office/bibliotheque",name:"BookListView",component:Et},{path:"/admin/back-office/lecteurs",name:"ReadersListView",component:mt},{path:"/admin/back-office/bibliotheque/ajouter-un-livre",name:"AddBookView",component:Zt},{path:"*",name:"NotFoundView",component:Qt}],es=new u.Z({mode:"history",base:"/librairie-sema/",routes:Yt});const ts=es;s(2772),s(561),s(3650);o.ZP.use(te.ZP);const ss=new te.ZP.Store({state:{firstname:"",age:"",preferences:{goals:[],interests:[]}},getters:{},mutations:{updateAge:function(e,t){e.age=t},updateFirstName:function(e,t){e.firstname=t},addNewGoals:function(e,t){0===e.preferences.goals.filter((function(e){return e===t})).length&&e.preferences.goals.push(t)},removeGoals:function(e,t){e.preferences.goals.forEach((function(s){if(s===t){var o=e.preferences.goals.indexOf(s);e.preferences.goals.splice(o,1)}}))},updateGoals:function(e,t){e.preferences.goals=t},addNewInterests:function(e,t){0===e.preferences.interests.filter((function(e){return e===t})).length&&e.preferences.interests.push(t)},removeInterests:function(e,t){e.preferences.interests.forEach((function(s){if(s===t){var o=e.preferences.interests.indexOf(s);e.preferences.interests.splice(o,1)}}))},updateInterests:function(e,t){e.preferences.interests=t},putWordsToSingular:function(e){var t=e.preferences.interests,s=t.map((function(e){return"s"===e[e.length-1]&&(e=e.substr(0,e.length-1)),e}));e.preferences.interests=s}},actions:{updateAge:function(e){var t=e.commit;return t("updateAge")},updateFirstName:function(e){var t=e.commit;return t("updateFirstName")},addNewGoals:function(e){var t=e.commit;return t("addNewGoals")},removeGoals:function(e){var t=e.commit;return t("removeGoals")},updateGoals:function(e){var t=e.commit;return t("updateGoals")},addNewInterests:function(e){var t=e.commit;return t("addNewInterests")},removeInterests:function(e){var t=e.commit;return t("removeInterests")},putWordsToSingular:function(e){var t=e.commit;return t("putWordsToSingular")},updateInterests:function(e){var t=e.commit;return t("updateInterests")}},modules:{}});var os=s(5368),as=(s(387),s(8947)),ns=s(7810),is=s(1436);as.vI.add(is.oTz,is.m6i,is.FL8,is.J9Y,is.gr5,is.DBf,is.FPD,is.icf,is.Mdf,is.Vui,is.EQ8,is.xiG,is.FVb,is.r8p,is.TzT,is.g82,is.cnt),o.ZP.component("font-awesome-icon",ns.GN),o.ZP.config.productionTip=!1,o.ZP.use(os.ZP),new o.ZP({router:ts,store:ss,render:function(e){return e(l)}}).$mount("#app")},7173:(e,t,s)=>{var o={"./balade.png":602,"./banner-favorites-mobile.png":766,"./banner-favorites.png":1559,"./banner-library-mobile.png":5342,"./banner-library.png":3004,"./banner.png":2962,"./banniere-homepage.png":6065,"./banniere-hp.png":5474,"./bantu.png":4388,"./books.png":9639,"./css/main.css":7600,"./cyclope.png":9587,"./dunno.png":9892,"./home-banner-mobile.png":8600,"./logo-2.png":6480,"./logo.png":6949,"./not-found-img.png":3918,"./oups.png":4603};function a(e){var t=n(e);return s(t)}function n(e){if(!s.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}a.keys=function(){return Object.keys(o)},a.resolve=n,e.exports=a,a.id=7173},602:(e,t,s)=>{"use strict";e.exports=s.p+"img/balade.acd6fe91.png"},766:(e,t,s)=>{"use strict";e.exports=s.p+"img/banner-favorites-mobile.fe47d1d8.png"},1559:(e,t,s)=>{"use strict";e.exports=s.p+"img/banner-favorites.5021e142.png"},5342:(e,t,s)=>{"use strict";e.exports=s.p+"img/banner-library-mobile.fc9659f9.png"},3004:(e,t,s)=>{"use strict";e.exports=s.p+"img/banner-library.71bfc28a.png"},2962:(e,t,s)=>{"use strict";e.exports=s.p+"img/banner.977e2d11.png"},6065:(e,t,s)=>{"use strict";e.exports=s.p+"img/banniere-homepage.f63851df.png"},5474:(e,t,s)=>{"use strict";e.exports=s.p+"img/banniere-hp.53cee2c3.png"},4388:(e,t,s)=>{"use strict";e.exports=s.p+"img/bantu.7f325bb6.png"},9639:(e,t,s)=>{"use strict";e.exports=s.p+"img/books.152d29fc.png"},9587:(e,t,s)=>{"use strict";e.exports=s.p+"img/cyclope.e7db57c5.png"},9892:(e,t,s)=>{"use strict";e.exports=s.p+"img/dunno.ddc7c47c.png"},8600:(e,t,s)=>{"use strict";e.exports=s.p+"img/home-banner-mobile.4c77d063.png"},6480:(e,t,s)=>{"use strict";e.exports=s.p+"img/logo-2.956965a8.png"},6949:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUkAAAE+CAYAAAAAreLRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAXRSURBVHgB7d3hUdtIFADgl1TAdaAS6OB8HdDBqYR0gK+CkApwB5AKcAckFeCrgHTAeU/a8SJkWwrYCPi+mTeWvGuFP3mzu28lRQAAAAAAAAAAAAAAAAAAAAAAAK/jU8BxnazjbB1Ve75ax7L9hMn5HHAcKTl+Xcdte7xsIx3frONyHbM2AD6UlAjv2jjpaa/atodokiXAh3IeTQKc7ehzGpIk8EHlUWK1p98iJEngg6miSZBDkmRqvw2YEIUbjulsT/tqHf9G/7olwLuUEl4eSd5Hs/YIQCFt8XkoIm/3GSsl3FQEulrHj2jWOtP0vA6AN6yKTfGmjPTdRexfq8zXuI3NPsvsor3WeQC8YVU01euHLXEZu5NlSo59+yzT+X0MKwwBTF4VTbLsG1luGxHWbduXLde8btsvAuAdSdXunODK6FbB85pmHU3hZ1ZE6psT7nXAC/OAC6agiiYRVu35ch1/Fe1pOp2m1d/W8WvHdVbRjFIB3oxuoWWXsgpe/mboZvTnqgI6bCbn0H7G8L2R/xTHfYn1UJvM05Q9jVbzQzhUyoGjWcTwgkoVm03npVX7/TxeXhX9BaQ6AI5gEU3Sqwb0nUX/k4DmsUmeLz2anMf2bUliGlEFvGO5ej1kbXIR/Qm13At5G/3/adL2oHmMlzejd2MZAEcwj/0JLjmP3fd2nxbXSXHVXjslubvYPOV8rFn0J8kvAXAkVTRrfMtoEtBNNAkuRU5yQ25PrIpr5LiP569VzjvXXAS07JPkNaRRYR71rWL8S8BO2mukPZM/4mVUbbzkNQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ovcKhCjiwzwFv01l4oyHAE2kEmZLjfRu/8xpZgHcrJcXy/dvzAOCR9I7unCRvA4BH7mKTJFPMAoD/pYJNHkHmJHkTcCCfAt6W62jWJH+u42vx/R/r+BUAH1gVzcjxNBRwAJ5YrGNZnJcFnPsAmJC0NngZzXpgiqEbu6/a/ukzJblZDJcKNnVxPgsFHGDiFrEZye3b2F3HJqFVMU4dTZLsugkFHA7IbYk81yqagkm+E2aXv4vfrGKc9Ntlz/ffi+NZNOuVAJMxj80I8W5Hv1k00/M86hujiu2jz24B5yIAJmQeTfLK097Zln6L2CS7sUlyEf2jyKxbwHE/Ny/GdJvnSgkpTbfztPe8p0/Vxip+z5/R7I+stsSPePz31AEwEYv2s5z2dtcF69gkrrEjyToeV7CHhAIOMBmL4jhPe7vrgmXSyols6JQ43X5YD+j3JWwHAiboqjiexdN1wTqagk2WR5tV7Hc6om+3gHMZABPQTUa5gDMvzquifRXDE98ixiU7BRxgcrpJLD+l5y6aRHjdaV/FsCRZxfhp8yweT7nnAfDKFj3f5WlvWk8867StYliSrGP3vsttykeouZ+bZ7MFiEP41n6m6e71lj77psLnxXXG+N75N7wsDHhVfdttUnJKI7m6p23Vtp1Fv1SsuWr7fI1x64pV8dtyNFkHfDAPYlKRprjdJ/rcxGZKfdK23xS/uYsmoc3b9qt4+lqGbt8+p+117wf8neXfBPCqVJYBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3pT/ADxwPNmfmH13AAAAAElFTkSuQmCC"},3918:(e,t,s)=>{"use strict";e.exports=s.p+"img/not-found-img.fefe462a.png"},4603:(e,t,s)=>{"use strict";e.exports=s.p+"img/oups.75018aef.png"}},t={};function s(o){var a=t[o];if(void 0!==a)return a.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,s),n.exports}s.m=e,(()=>{var e=[];s.O=(t,o,a,n)=>{if(!o){var i=1/0;for(u=0;u<e.length;u++){for(var[o,a,n]=e[u],r=!0,c=0;c<o.length;c++)(!1&n||i>=n)&&Object.keys(s.O).every((e=>s.O[e](o[c])))?o.splice(c--,1):(r=!1,n<i&&(i=n));if(r){e.splice(u--,1);var l=a();void 0!==l&&(t=l)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[o,a,n]}})(),(()=>{s.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return s.d(t,{a:t}),t}})(),(()=>{s.d=(e,t)=>{for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,o)=>(s.f[o](e,t),t)),[]))})(),(()=>{s.u=e=>"js/about.339f225c.js"})(),(()=>{s.miniCssF=e=>{}})(),(()=>{s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="frontend:";s.l=(o,a,n,i)=>{if(e[o])e[o].push(a);else{var r,c;if(void 0!==n)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+n){r=d;break}}r||(c=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,s.nc&&r.setAttribute("nonce",s.nc),r.setAttribute("data-webpack",t+n),r.src=o),e[o]=[a];var p=(t,s)=>{r.onerror=r.onload=null,clearTimeout(f);var a=e[o];if(delete e[o],r.parentNode&&r.parentNode.removeChild(r),a&&a.forEach((e=>e(s))),t)return t(s)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=p.bind(null,r.onerror),r.onload=p.bind(null,r.onload),c&&document.head.appendChild(r)}}})(),(()=>{s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{s.p="/librairie-sema/"})(),(()=>{var e={143:0};s.f.j=(t,o)=>{var a=s.o(e,t)?e[t]:void 0;if(0!==a)if(a)o.push(a[2]);else{var n=new Promise(((s,o)=>a=e[t]=[s,o]));o.push(a[2]=n);var i=s.p+s.u(t),r=new Error,c=o=>{if(s.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var n=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src;r.message="Loading chunk "+t+" failed.\n("+n+": "+i+")",r.name="ChunkLoadError",r.type=n,r.request=i,a[1](r)}};s.l(i,c,"chunk-"+t,t)}},s.O.j=t=>0===e[t];var t=(t,o)=>{var a,n,[i,r,c]=o,l=0;if(i.some((t=>0!==e[t]))){for(a in r)s.o(r,a)&&(s.m[a]=r[a]);if(c)var u=c(s)}for(t&&t(o);l<i.length;l++)n=i[l],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(u)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=s.O(void 0,[998],(()=>s(4530)));o=s.O(o)})();
//# sourceMappingURL=app.ec34a1ff.js.map